(window.shark_room_jsonp=window.shark_room_jsonp||[]).push([[9],{"00265":function(e,t,r){},"02c94":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/media/video6_6f0dd43.mp4"},"04004":function(e,t,r){},"088e8":function(e,t,r){},"0b0db":function(e,t,r){},"0b551":function(e,t,r){},"0c7af":function(e,t,r){},"0f1fe":function(e,t,r){},"0f328":function(e,t,r){},"0ff16":function(e,t,r){},"10fbf":function(e,t,r){},"12d1c":function(e,t,r){},14755:function(e,t,r){},"15f78":function(e,t,r){},"16f1e":function(e,t,r){},"17caf":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/swf/swf4_558b296.swf"},"1bcca":function(e,t,r){},"1d8f0":function(e,t,r){},"22dd9":function(e,t,r){},"23ead":function(e,t,r){},"2977f":function(e,t,r){},29783:function(e,t,r){},"2a355":function(e,t,r){e.exports=r("7f3cd")("2a355")},"2ecd5":function(e,t,r){},"2f58e":function(e,t,r){},30567:function(e,t,r){},"332a2":function(e,t,r){},34649:function(e,t,r){},"38c54":function(e,t,r){e.exports=r("7f3cd")("38c54")},"3b420":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/media/video4_2e62a43.mp4"},"3cfd2":function(e,t,r){},"3dcc5":function(e,t,r){},"3e6fd":function(e,t,r){},"3e908":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/shouchong_175245f.png"},"3fb05":function(e,t,r){},"3fc33":function(e,t,r){},"40a09":function(e,t,r){},"40b17":function(e,t,r){},"42c63":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/defaultAvatar_253c039.png"},43126:function(e,t,r){},"46d97":function(e,t,r){},"4cd83":function(e,t,r){},"52d06":function(e,t,r){},"54fe2":function(e,t,r){},"5958e":function(e,t,r){},"5ac8e":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/swf/swf5_56be92d.swf"},"5e1b7":function(e,t,r){},"5e1fa":function(e,t,r){},"5f63d":function(e,t,r){},"5f94a":function(e,t,r){e.exports=r("7f3cd")("5f94a")},6:function(e,t,r){e.exports=r("c8c37")},"6066b":function(e,t,r){},"61df2":function(e,t,r){},"64c1f":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/bg6_99bca10.png"},"65b06":function(e,t,r){},"65e8a":function(e,t,r){},"6a5cb":function(e,t,r){},"6b3a2":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/media/video5_59ca10b.mp4"},"6c92a":function(e,t,r){},"6dc98":function(e,t,r){},"719f0":function(e,t,r){},"72b37":function(e,t,r){},"736a7":function(e,t,r){},"745b2":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/bg5_00dcccd.png"},76531:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/dy-tab_a446a04.png"},77855:function(e,t,r){},"7a6d1":function(e,t,r){},"7b832":function(e,t,r){},"7cd2d":function(e,t,r){},"7e34b":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/bg6_99bca10.png"},"7e944":function(e,t,r){},"7ee03":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/defaultAvatar_253c039.png"},"7f3cd":function(e,t){e.exports=sdkf528060d0d71b859efd9},"7f84e":function(e,t,r){},81833:function(e,t,r){},"84e07":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/noble-icon-default_ad8c0a1.png"},88060:function(e,t,r){},"8921f":function(e,t,r){},"8b3dc":function(e,t,r){},"8dc58":function(e,t,r){},"8e6e5":function(e,t,r){},"8f68e":function(e,t,r){},"8fa72":function(e,t,r){},"90c4f":function(e,t,r){},"90ecf":function(e,t,r){},"932af":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/media/video6_6f0dd43.mp4"},97227:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/bg4_bd1a7f0.png"},"993ee":function(e,t,r){},"9cdeb":function(e,t,r){},"9cf12":function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/defaultAvatar_253c039.png"},"9dd83":function(e,t,r){},"9e3bf":function(e,t,r){},"9f697":function(e,t,r){},"9f9d1":function(e,t,r){},"9fa56":function(e,t,r){},a1b94:function(e,t,r){},a2371:function(e,t,r){},a4682:function(e,t,r){},a469f:function(e,t,r){},a4e02:function(e,t,r){},a8286:function(e,t,r){},abccf:function(e,t,r){},acc11:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/bg4_bd1a7f0.png"},adc0e:function(e,t,r){},b0316:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/sharkbaby_1e68326.gif"},b26a7:function(e,t,r){},b338d:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/defaultAvatar_253c039.png"},b42a6:function(e,t,r){},b6666:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/media/video4_2e62a43.mp4"},bc903:function(e,t,r){},c1db1:function(e,t,r){},c357d:function(e,t,r){},c8c37:function(e,t,r){"use strict";r.r(t);r("5a4da"),r("a26e5");var i=r("f0df9"),n=r.n(i),a=r("8e846"),o=r.n(a),l=r("5371a"),s=r("c9c82"),c=r("53a00"),u=r("86f8b"),p=r("d4f18"),f=r("9ae18");function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function _defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var d,b,m,h,v,g,y,_,S,N=function(e){function MedalOperatActions(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalOperatActions),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return _inherits(MedalOperatActions,e),MedalOperatActions.toggleMedalPanel=function toggleMedalPanel(e){return{type:"TOGGLE_MEDAL_PANEL",payload:e}},MedalOperatActions.searchMedalSwitch=function searchMedalSwitch(e){return{type:"SEARCH_MEDAL_SWITCH",payload:e}},MedalOperatActions.receiveMedalSwitch=function receiveMedalSwitch(e){return{type:"RECEIVE_MEDAL_SWITCH",payload:e}},MedalOperatActions.medalDialogStatus=function medalDialogStatus(e){return{type:"MEDAL_DIALOG_STATUS",payload:e}},MedalOperatActions.clearMedalDialog=function clearMedalDialog(e){return{type:"CLEAR_MEDAL_DIALOG",payload:e}},MedalOperatActions.medalListReceive=function medalListReceive(e){return{type:"MEDAL_LIST_MSG",payload:e}},MedalOperatActions.medalListUpdate=function medalListUpdate(e){return{type:"MEDAL_LIST_BACK",payload:e}},MedalOperatActions.reqMedalListInfo=function reqMedalListInfo(e){return{type:"REQ_MEDALLIST_INFO",payload:e}},MedalOperatActions.medalDataUpdate=function medalDataUpdate(e){return{type:"MEDAL_DATA_UPDATE",payload:e}},MedalOperatActions.medalInfoReceive=function medalInfoReceive(e){return{type:"MEDAL_UPDATE_MSG",payload:e}},MedalOperatActions.medalInfoUpdate=function medalInfoUpdate(e){return{type:"MEDAL_UPDATE_BACK",payload:e}},MedalOperatActions.medalGetReceive=function medalGetReceive(e){return{type:"MEDAL_GET_MSG",payload:e}},MedalOperatActions.medalGetUpdate=function medalGetUpdate(e){return{type:"MEDAL_GET_BACK",payload:e}},MedalOperatActions.medalOperationReceive=function medalOperationReceive(e){return{type:"MEDAL_OPERATION_MSG",payload:e}},MedalOperatActions.medalOperationUpdate=function medalOperationUpdate(e){return{type:"MEDAL_OPERATION_BACK",payload:e}},MedalOperatActions.medalOperationDelete=function medalOperationDelete(e){return{type:"MEDAL_OPERATION_DELETE",payload:e}},MedalOperatActions}(f.Action),C=r("e55c4"),O=r("5c1a0"),w=r("a5ed5"),D=r("53cd5"),E=r.n(D),k=r("55d33"),R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function _initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function medalOperatServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function medalOperatServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function medalOperatServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function _applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=n.a.Service,P=n.a.Store,T=w.a.socketStream,B=w.a.socketProxy,M=(d=P(),b=j(C.DataCenter.global),m=j(C.DataCenter.common),h=j(C.DataCenter.acj),v=function(e){function MedalOperatServices(){var t,r;!function medalOperatServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalOperatServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=medalOperatServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),_initDefineProp(r,"store",g,r),_initDefineProp(r,"global",y,r),_initDefineProp(r,"common",_,r),_initDefineProp(r,"acj",S,r),r.isReceivedBlstMsg=!1,r.url=E.a.socketServer,medalOperatServices_possibleConstructorReturn(r,t)}return medalOperatServices_inherits(MedalOperatServices,e),MedalOperatServices.prototype.initMedalService=function initMedalService(){var e=this;this.common.get("$DATA").subscribe(function(t){e.$ROOM=t.get("room"),e.USER_INFO=e.global.get("USER_INFO"),e.$SYS=e.global.get("$SYS"),e.searchMedalSwitch(),e.medalMsgListen()})},MedalOperatServices.prototype.medalMsgListen=function medalMsgListen(){var e=this;T.subscribe("blst",function(t){e.isReceivedBlstMsg||(e.isReceivedBlstMsg=!0,e.store.dispatch(N.medalListReceive(t)))}),T.subscribe("synfim",function(t){e.store.dispatch(N.medalInfoReceive(t))}),T.subscribe("synfimd",function(t){e.store.dispatch(N.medalInfoReceive(t))}),T.subscribe("gbi",function(t){e.sendHasFansMedalState(),e.store.dispatch(N.medalGetReceive(t))}),T.subscribe("obres",function(t){e.store.dispatch(N.medalOperationReceive(t))}),T.subscribe("ru",function(t){e.medalDataUpdate({ownerMedalRank:+t.pos||"--"})}),T.subscribe("frank",function(t){e.medalDataUpdate({ownerMedalName:t.bnn||"\u7c89\u4e1d"})}),T.subscribe("gg",function(t){!function setLocalStorage(e,t,r){C.DataCenter.localStorage.set(e,t,r)}("FANS_GET_GIFT_"+e.USER_INFO.uid,t,e.returnTodyRestTimes()/1e3)})},MedalOperatServices.prototype.toggleMedalPanel=function toggleMedalPanel(e){var t=this.store.getState().medalListMsgData;this.store.dispatch(N.toggleMedalPanel(e)),e.status&&!t.isReqAnchorInfo&&this.isReceivedBlstMsg&&this.store.dispatch(N.reqMedalListInfo())},MedalOperatServices.prototype.searchMedalSwitch=function searchMedalSwitch(){this.store.dispatch(N.searchMedalSwitch())},MedalOperatServices.prototype.receiveMedalSwitch=function receiveMedalSwitch(e){this.store.dispatch(N.receiveMedalSwitch(e))},MedalOperatServices.prototype.reqAnchorInfo=function reqAnchorInfo(e){return C.httpClient.get(String,"/fansbadge/fansbadge/getAnchorInfo",{rid:e.medalRid,auth:e.checkCode})},MedalOperatServices.prototype.getAnchorInfo=function getAnchorInfo(e){var t=this,r=e||[];return e&&e.length>8&&(r=e.slice(0,8)),r.map(function(e){return t.reqAnchorInfo(e)})},MedalOperatServices.prototype.formatAnchorInfo=function formatAnchorInfo(e){if(0===e.error&&e.data){var t=e?f.GSON.parse(e.data):{};return{anchorNick:t.nn||"\u4e3b\u64ad\u6635\u79f0",isLive:t.is_live||!1}}return{anchorNick:"\u4e3b\u64ad\u6635\u79f0",isLive:!1}},MedalOperatServices.prototype.formatAnchorList=function formatAnchorList(e){var t=this;return e.map(function(e){return t.formatAnchorInfo(e)})},MedalOperatServices.prototype.addMedalDialog=function addMedalDialog(e){this.store.dispatch(N.medalDialogStatus(e))},MedalOperatServices.prototype.clearMedalDialog=function clearMedalDialog(e){this.store.dispatch(N.clearMedalDialog(e))},MedalOperatServices.prototype.medalDataUpdate=function medalDataUpdate(e){return!!e&&this.store.dispatch(N.medalDataUpdate(e))},MedalOperatServices.prototype.searchMedalData=function searchMedalData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.filter(function(e){return+e.medalRid===+t})},MedalOperatServices.prototype.returnFansMedalStatus=function returnFansMedalStatus(e){var t=this.store.getState().medalListMsgData,r={is_bdg:0,is_cbdg:0,bdg_id:"",cbdg_id:""},i=void 0;if((i=e&&e.medalList?e:t).medalList&&i.medalList.length){r.is_bdg=1;var n=this.searchMedalData(i.medalList,i.ownerRoomId);n&&n[0]&&(r.is_cbdg=1,r.cbdg_id=n[0].medalRid),2===i.wareStatus&&i.wareMedalId&&(r.bdg_id=i.wareMedalId)}return r},MedalOperatServices.prototype.sendMedalMsg=function sendMedalMsg(e){var t=this.returnFansMedalStatus(),r={type:"obreq",ot:e.wareStatus,rid:e.wareMedalId};t.nbdg_id=e.wareMedalId,this.fansMedalDYSub("click_msg_fansbadge_sel",R({},t)),B.isSocketReady?B.sendMessage(r):T.subscribe("socket_ready",function(){B.sendMessage(r)})},MedalOperatServices.prototype.returnGlobalData=function returnGlobalData(){return{$SYS:this.$SYS,$ROOM:this.$ROOM}},MedalOperatServices.prototype.getConfig=function getConfig(){return C.jsonpClient.get(String,"//webconf.douyucdn.cn//resource/common/fans_medal_web_v2.json","fansMedalConfig")},MedalOperatServices.prototype.returnMedalConfig=function returnMedalConfig(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.medalId,i=e.medalLev,n=r;1===e.vipFan&&(n="fans");var a=t.filter(function(e){return f.GSON.parse(e).room_id===n})[0];return a?(a=f.GSON.parse(a)).resource.bg[i||0]:""},MedalOperatServices.prototype.returnMedalConfigURL=function returnMedalConfigURL(){return"//webconf.douyucdn.cn//resource/common/fans_medal_web_v2.json"},MedalOperatServices.prototype.returnMedalOpenStatus=function returnMedalOpenStatus(){return this.$ROOM.is_set_fans_badge>0?1:0},MedalOperatServices.prototype.returnTodyRestTimes=function returnTodyRestTimes(){var e=new Date;return e.setDate(e.getDate()),e.setHours(24),e.setMinutes(0),e.setSeconds(0),e.getTime()-(new Date).getTime()},MedalOperatServices.prototype.fansMedalDYSub=function fansMedalDYSub(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(O.dysub)(e,R({},t))},MedalOperatServices.prototype.handleMedalOptions=function handleMedalOptions(e,t){var r=t||[],i=e.isVipFan,n=e.medalId,a=e.type,o=e.lev,l={},s=0,c="";return r.forEach(function(e){var t=f.GSON.parse(e);l[t.room_id]=t.resource}),l.fans&&i?"special"===a?(c=l.fans.bag[o],s=1):c=l.fans.bg[o]:l[n]?c=l[n].bg[o]:l.all&&(c=l.all.bg[o]),{isBest:s,url:c}},MedalOperatServices.prototype.sendHasFansMedalState=function sendHasFansMedalState(){this.acj.push(k.c.JS_FANS_CHANGE,{state:1})},MedalOperatServices}(f.Service),g=_applyDecoratedDescriptor(v.prototype,"store",[d],{enumerable:!0,initializer:null}),y=_applyDecoratedDescriptor(v.prototype,"global",[b],{enumerable:!0,initializer:null}),_=_applyDecoratedDescriptor(v.prototype,"common",[m],{enumerable:!0,initializer:null}),S=_applyDecoratedDescriptor(v.prototype,"acj",[h],{enumerable:!0,initializer:null}),v);function medalDroppingActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function medalDroppingActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var L,z,A,I,F,x=function(e){function medalDroppingActions(){return function medalDroppingActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,medalDroppingActions),function medalDroppingActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return medalDroppingActions_inherits(medalDroppingActions,e),medalDroppingActions.medalDroppingList=function medalDroppingList(e){return{type:"MEDAL_DROPPING_LIST",payload:e}},medalDroppingActions.closeMedalDropping=function closeMedalDropping(e){return{type:"MEDAL_DROPPING_CLOSE",payload:e}},medalDroppingActions.changeMedalDroppingRemain=function changeMedalDroppingRemain(e){return{type:"MEDAL_DROPPING_REMAIN_SWITCH",payload:e}},medalDroppingActions}(f.Action);function medalDroppingServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function medalDroppingServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function medalDroppingServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function medalDroppingServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function medalDroppingServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var G,U,H,W,V,$,K,q,Q,J,Y,X,Z,ee,te,re,ie,ne,ae,oe,le,se,ce,ue,pe,fe,de,be=n.a.Store,me=n.a.Service,he=function getLocalStorage(e){return C.DataCenter.localStorage.get(e)},ve=[],ge=(L=be(),z=me(C.DataCenter.global),A=function(e){function MedalDroppingServices(){var t,r;!function medalDroppingServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalDroppingServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=medalDroppingServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),medalDroppingServices_initDefineProp(r,"store",I,r),medalDroppingServices_initDefineProp(r,"global",F,r),medalDroppingServices_possibleConstructorReturn(r,t)}return medalDroppingServices_inherits(MedalDroppingServices,e),MedalDroppingServices.prototype.medalDroppingList=function medalDroppingList(e){var t=e.filter(function(e){return e.todayExp<0});ve=he(this.returnCacheFlag())||[],this.store.dispatch(x.medalDroppingList(function shellSort(e){for(var t=e.slice(0),r=t.length,i=void 0,n=1;n<r/3;)n=3*n+1;for(;n>0;n=Math.floor(n/3))for(var a=n;a<r;a++){i=t[a];for(var o=a-n;o>0&&t[o].allExp>i.allExp;o-=n)t[o+n]=t[o];t[o+n]=i}return t}(t))),this.cacheDroppingList(t)},MedalDroppingServices.prototype.medalDroppingClose=function medalDroppingClose(){this.store.dispatch(x.closeMedalDropping())},MedalDroppingServices.prototype.changeMedalDroppingRemain=function changeMedalDroppingRemain(){this.store.dispatch(x.changeMedalDroppingRemain())},MedalDroppingServices.prototype.returnCacheFlag=function returnCacheFlag(){return"MedalDroppingListFlag_"+this.global.get("USER_INFO.uid")},MedalDroppingServices.prototype.cacheDroppingList=function cacheDroppingList(e){!function setLocalStorage(e,t,r){C.DataCenter.localStorage.set(e,t,r)}(this.returnCacheFlag(),e)},MedalDroppingServices.prototype.dealDroppingList=function dealDroppingList(e){var t=[],r=[];return e&&e.length&&e.forEach(function(e){ve.some(function(t){return t.medalRid===e.medalRid})?r.push(e):t.push(e)}),{newDroppingMedals:t,oldDroppingMedals:r}},MedalDroppingServices.prototype.returnRemainCacheFlag=function returnRemainCacheFlag(){return"dropingDialogShow_"+this.global.get("USER_INFO.uid")},MedalDroppingServices.prototype.getRemainSwitchState=function getRemainSwitchState(){return parseInt(he(this.returnRemainCacheFlag()),10)||0},MedalDroppingServices}(f.Service),I=medalDroppingServices_applyDecoratedDescriptor(A.prototype,"store",[L],{enumerable:!0,initializer:null}),F=medalDroppingServices_applyDecoratedDescriptor(A.prototype,"global",[z],{enumerable:!0,initializer:null}),A),ye=r("b3557");function MedalListDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MedalListDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MedalListDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalListDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalListDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MedalListDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _e,Se,Ne,Ce,Oe,we,De,Ee,ke,Re,je,Pe=C.basicTypes.string,Te=C.basicTypes.mapping,Be=C.basicTypes.array,Me=C.basicTypes.number,Le=C.basicTypes.optional,ze=(G=Te({medalRid:"rid",medalName:"bnn",allExp:"fim",upLevExp:"nfim",medalLev:"bl",todayExp:"afim",todayAllExp:"mafim",checkCode:"hc",medalRank:"pos",vipFan:"vipfan"}),U=Le(0),G((W=function(e){function ListItem(){var t,r;MedalListDto_classCallCheck(this,ListItem);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalListDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),MedalListDto_initDefineProp(r,"vipFan",V,r),MedalListDto_initDefineProp(r,"medalRid",$,r),MedalListDto_initDefineProp(r,"medalName",K,r),MedalListDto_initDefineProp(r,"allExp",q,r),MedalListDto_initDefineProp(r,"upLevExp",Q,r),MedalListDto_initDefineProp(r,"medalLev",J,r),MedalListDto_initDefineProp(r,"todayExp",Y,r),MedalListDto_initDefineProp(r,"todayAllExp",X,r),MedalListDto_initDefineProp(r,"checkCode",Z,r),MedalListDto_initDefineProp(r,"medalRank",ee,r),MedalListDto_possibleConstructorReturn(r,t)}return MedalListDto_inherits(ListItem,e),ListItem}(C.EntityDto),V=MedalListDto_applyDecoratedDescriptor(W.prototype,"vipFan",[U,Me],{enumerable:!0,initializer:null}),$=MedalListDto_applyDecoratedDescriptor(W.prototype,"medalRid",[Pe],{enumerable:!0,initializer:null}),K=MedalListDto_applyDecoratedDescriptor(W.prototype,"medalName",[Pe],{enumerable:!0,initializer:null}),q=MedalListDto_applyDecoratedDescriptor(W.prototype,"allExp",[Me],{enumerable:!0,initializer:null}),Q=MedalListDto_applyDecoratedDescriptor(W.prototype,"upLevExp",[Me],{enumerable:!0,initializer:null}),J=MedalListDto_applyDecoratedDescriptor(W.prototype,"medalLev",[Me],{enumerable:!0,initializer:null}),Y=MedalListDto_applyDecoratedDescriptor(W.prototype,"todayExp",[Me],{enumerable:!0,initializer:null}),X=MedalListDto_applyDecoratedDescriptor(W.prototype,"todayAllExp",[Me],{enumerable:!0,initializer:null}),Z=MedalListDto_applyDecoratedDescriptor(W.prototype,"checkCode",[Pe],{enumerable:!0,initializer:null}),ee=MedalListDto_applyDecoratedDescriptor(W.prototype,"medalRank",[Me],{enumerable:!0,initializer:null}),H=W))||H),Ae=(te=Te({wareStatus:"wf",firstCharge:"frq",medalList:"list"}),re=Le(0),ie=Le(0),ne=Le(""),ae=Le([]),oe=Be(ze),Object(ye.log)(le=te((se=function(e){function Result(){var t,r;MedalListDto_classCallCheck(this,Result);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalListDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),MedalListDto_initDefineProp(r,"wareStatus",ce,r),MedalListDto_initDefineProp(r,"firstCharge",ue,r),MedalListDto_initDefineProp(r,"wareMedalId",pe,r),MedalListDto_initDefineProp(r,"ownerRoomId",fe,r),MedalListDto_initDefineProp(r,"medalList",de,r),MedalListDto_possibleConstructorReturn(r,t)}return MedalListDto_inherits(Result,e),Result}(C.EntityDto),ce=MedalListDto_applyDecoratedDescriptor(se.prototype,"wareStatus",[re,Me],{enumerable:!0,initializer:null}),ue=MedalListDto_applyDecoratedDescriptor(se.prototype,"firstCharge",[ie,Me],{enumerable:!0,initializer:null}),pe=MedalListDto_applyDecoratedDescriptor(se.prototype,"wareMedalId",[ne,Pe],{enumerable:!0,initializer:null}),fe=MedalListDto_applyDecoratedDescriptor(se.prototype,"ownerRoomId",[Pe],{enumerable:!0,initializer:null}),de=MedalListDto_applyDecoratedDescriptor(se.prototype,"medalList",[ae,oe],{enumerable:!0,initializer:null}),le=se))||le)||le);function MedalInfoDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MedalInfoDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalInfoDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalInfoDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MedalInfoDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ie,Fe,xe,Ge,Ue,He,We,Ve,$e,Ke,qe,Qe,Je,Ye,Xe,Ze=C.basicTypes.string,et=C.basicTypes.mapping,tt=C.basicTypes.number,rt=C.basicTypes.optional,it=(_e=et({allExp:"fim",medalLev:"bl",upLevExp:"nfim",todayExp:"afim",todayAllExp:"mafim",updateMedalRid:"brid"}),Se=rt(""),Object(ye.log)(Ne=_e((Ce=function(e){function MedalInfoDto(){var t,r;!function MedalInfoDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalInfoDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalInfoDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),MedalInfoDto_initDefineProp(r,"type",Oe,r),MedalInfoDto_initDefineProp(r,"updateMedalRid",we,r),MedalInfoDto_initDefineProp(r,"allExp",De,r),MedalInfoDto_initDefineProp(r,"medalLev",Ee,r),MedalInfoDto_initDefineProp(r,"upLevExp",ke,r),MedalInfoDto_initDefineProp(r,"todayExp",Re,r),MedalInfoDto_initDefineProp(r,"todayAllExp",je,r),MedalInfoDto_possibleConstructorReturn(r,t)}return MedalInfoDto_inherits(MedalInfoDto,e),MedalInfoDto}(C.EntityDto),Oe=MedalInfoDto_applyDecoratedDescriptor(Ce.prototype,"type",[Ze],{enumerable:!0,initializer:null}),we=MedalInfoDto_applyDecoratedDescriptor(Ce.prototype,"updateMedalRid",[Se,Ze],{enumerable:!0,initializer:null}),De=MedalInfoDto_applyDecoratedDescriptor(Ce.prototype,"allExp",[tt],{enumerable:!0,initializer:null}),Ee=MedalInfoDto_applyDecoratedDescriptor(Ce.prototype,"medalLev",[tt],{enumerable:!0,initializer:null}),ke=MedalInfoDto_applyDecoratedDescriptor(Ce.prototype,"upLevExp",[tt],{enumerable:!0,initializer:null}),Re=MedalInfoDto_applyDecoratedDescriptor(Ce.prototype,"todayExp",[tt],{enumerable:!0,initializer:null}),je=MedalInfoDto_applyDecoratedDescriptor(Ce.prototype,"todayAllExp",[tt],{enumerable:!0,initializer:null}),Ne=Ce))||Ne)||Ne);function MedalGetDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MedalGetDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalGetDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalGetDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MedalGetDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var nt,at,ot,lt,st,ct,ut=C.basicTypes.string,pt=C.basicTypes.mapping,ft=C.basicTypes.number,dt=C.basicTypes.optional,bt=(Ie=pt({medalRid:"rid",medalName:"bnn",allExp:"fim",upLevExp:"nfim",medalLev:"bl",todayExp:"afim",todayAllExp:"mafim",checkCode:"hc",medalRank:"pos",vipFan:"vipfan"}),Fe=dt(0),xe=dt(0),Object(ye.log)(Ge=Ie((Ue=function(e){function MedalGetDto(){var t,r;!function MedalGetDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalGetDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalGetDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),MedalGetDto_initDefineProp(r,"vipFan",He,r),MedalGetDto_initDefineProp(r,"medalRid",We,r),MedalGetDto_initDefineProp(r,"medalName",Ve,r),MedalGetDto_initDefineProp(r,"allExp",$e,r),MedalGetDto_initDefineProp(r,"upLevExp",Ke,r),MedalGetDto_initDefineProp(r,"medalLev",qe,r),MedalGetDto_initDefineProp(r,"todayExp",Qe,r),MedalGetDto_initDefineProp(r,"todayAllExp",Je,r),MedalGetDto_initDefineProp(r,"checkCode",Ye,r),MedalGetDto_initDefineProp(r,"medalRank",Xe,r),MedalGetDto_possibleConstructorReturn(r,t)}return MedalGetDto_inherits(MedalGetDto,e),MedalGetDto}(C.EntityDto),He=MedalGetDto_applyDecoratedDescriptor(Ue.prototype,"vipFan",[Fe,ft],{enumerable:!0,initializer:null}),We=MedalGetDto_applyDecoratedDescriptor(Ue.prototype,"medalRid",[ut],{enumerable:!0,initializer:null}),Ve=MedalGetDto_applyDecoratedDescriptor(Ue.prototype,"medalName",[ut],{enumerable:!0,initializer:null}),$e=MedalGetDto_applyDecoratedDescriptor(Ue.prototype,"allExp",[ft],{enumerable:!0,initializer:null}),Ke=MedalGetDto_applyDecoratedDescriptor(Ue.prototype,"upLevExp",[ft],{enumerable:!0,initializer:null}),qe=MedalGetDto_applyDecoratedDescriptor(Ue.prototype,"medalLev",[ft],{enumerable:!0,initializer:null}),Qe=MedalGetDto_applyDecoratedDescriptor(Ue.prototype,"todayExp",[ft],{enumerable:!0,initializer:null}),Je=MedalGetDto_applyDecoratedDescriptor(Ue.prototype,"todayAllExp",[ft],{enumerable:!0,initializer:null}),Ye=MedalGetDto_applyDecoratedDescriptor(Ue.prototype,"checkCode",[ut],{enumerable:!0,initializer:null}),Xe=MedalGetDto_applyDecoratedDescriptor(Ue.prototype,"medalRank",[xe,ft],{enumerable:!0,initializer:null}),Ge=Ue))||Ge)||Ge);function MedalOperatResDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MedalOperatResDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalOperatResDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalOperatResDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MedalOperatResDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var mt,ht,vt,gt,yt,_t,St,Nt=C.basicTypes.string,Ct=C.basicTypes.number,Ot=C.basicTypes.optional,wt=(nt=(0,C.basicTypes.mapping)({operationType:"ot",operationMedalId:"rid"}),at=Ot(""),nt((lt=function(e){function MedalOperatResDto(){var t,r;!function MedalOperatResDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalOperatResDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalOperatResDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),MedalOperatResDto_initDefineProp(r,"operationType",st,r),MedalOperatResDto_initDefineProp(r,"operationMedalId",ct,r),MedalOperatResDto_possibleConstructorReturn(r,t)}return MedalOperatResDto_inherits(MedalOperatResDto,e),MedalOperatResDto}(C.EntityDto),st=MedalOperatResDto_applyDecoratedDescriptor(lt.prototype,"operationType",[Ct],{enumerable:!0,initializer:null}),ct=MedalOperatResDto_applyDecoratedDescriptor(lt.prototype,"operationMedalId",[at,Nt],{enumerable:!0,initializer:null}),ot=lt))||ot),Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function medalOperatEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function medalOperatEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Et,kt,Rt,jt,Pt,Tt,Bt,Mt,Lt,zt,At,It,Ft=n.a.Service,xt=n.a.Store,Gt=o.a.decode,Ut=0,Ht=(mt=xt(),ht=Ft(M),vt=Ft(ge),gt=function(){function MedalOperatEpics(){!function medalOperatEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalOperatEpics),medalOperatEpics_initDefineProp(this,"store",yt,this),medalOperatEpics_initDefineProp(this,"medalOperatServices",_t,this),medalOperatEpics_initDefineProp(this,"medalDroppingServices",St,this)}return MedalOperatEpics.prototype.medalSwitchSearch=function medalSwitchSearch(e){var t=this;return e.ofType("SEARCH_MEDAL_SWITCH").pipe(Object(u.switchMap)(function(){return Object(l.forkJoin)(Object(s.of)(t.medalOperatServices.returnMedalOpenStatus()))}),Object(c.map)(function(e){return e[0]&&(t.medalOperatServices.clearMedalDialog(1),t.medalOperatServices.addMedalDialog({dialogType:4,defaultShow:0,hoverShow:1})),N.receiveMedalSwitch(e[0])}))},MedalOperatEpics.prototype.medalListMsg=function medalListMsg(e){var t=this;return e.ofType("MEDAL_LIST_MSG").pipe(Object(c.map)(function(e){var r=e.payload,i=t.medalOperatServices.returnGlobalData().$ROOM;return r.wf=+r.wf||0,r.frq=+r.frq||0,r.list?(r.list=Gt(r.list),r.list=r.list.map(function(e){var t=Gt(e);return t.fim=Math.round(t.fim/10)/10,t.nfim=Math.round(t.nfim/10)/10,t.afim=Math.round(t.afim/10)/10,t.mafim=Math.round(t.mafim/10)/10,t.bl=parseInt(t.bl,10),t.pos=parseInt(t.pos,10),t.vipfan=parseInt(t.vipfan,10)||0,t})):r.list=[],r.ownerRoomId=String(i.room_id),r.list.length?(2===r.wf&&(r.wareMedalId=r.list[0].rid),Ae.fromJSON(r)):(t.medalOperatServices.addMedalDialog({dialogType:4,defaultShow:0,hoverShow:1}),{wareStatus:0,wareMedalId:0,ownerRoomId:r.ownerRoomId,medalList:[]})}),Object(u.switchMap)(function(e){return Object(l.forkJoin)(Object(s.of)(e),Object(s.of)(t.medalOperatServices.returnMedalOpenStatus()))}),Object(c.map)(function(e){var r=e[0].medalList,i=e[1],n=r.filter(function(t){return+t.medalRid===+e[0].ownerRoomId})[0];(i||n)&&t.medalOperatServices.clearMedalDialog(1),r.length&&t.medalOperatServices.clearMedalDialog(4),n&&(i=1,t.medalOperatServices.sendHasFansMedalState(),n.medalRid!==e[0].wareMedalId&&t.medalOperatServices.addMedalDialog({dialogType:5,defaultShow:1,autoClear:5e3,medalData:n}),n.todayExp>=n.todayAllExp&&(Ut=1));var a=Dt({},e[0],{medalSwitch:i,medalList:r});return t.medalDroppingServices.getRemainSwitchState()||t.medalDroppingServices.medalDroppingList(a.medalList),N.medalListUpdate(a)}))},MedalOperatEpics.prototype.medalListAnchorInfo=function medalListAnchorInfo(e){var t=this;return e.ofType("REQ_MEDALLIST_INFO").pipe(Object(c.map)(function(){return t.store.getState().medalListMsgData}),Object(u.switchMap)(function(e){return l.forkJoin.apply(void 0,[Object(s.of)(e)].concat(t.medalOperatServices.getAnchorInfo(e.medalList)))}),Object(c.map)(function(e){var r=e[0].medalList,i=t.medalOperatServices.formatAnchorList(e.slice(1)),n=r.map(function(e,t){var r=Object.assign({},e,i[t]);return Dt({},r)});return N.medalListUpdate({isReqAnchorInfo:1,medalList:n})}))},MedalOperatEpics.prototype.medalUpdateMsg=function medalUpdateMsg(e){var t=this;return e.ofType("MEDAL_UPDATE_MSG").pipe(Object(c.map)(function(e){var t=e.payload;return t.fim=Math.round(t.fim/10)/10,t.nfim=Math.round(t.nfim/10)/10,t.afim=Math.round(t.afim/10)/10,t.mafim=Math.round(t.mafim/10)/10,t.bl=parseInt(t.bl,10),it.fromJSON(e.payload)}),Object(u.switchMap)(function(e){return Object(l.forkJoin)(Object(s.of)(e))}),Object(c.map)(function(e){var r=e[0]||{},i=t.store.getState().medalListMsgData,n=void 0;n="synfimd"===r.type?r.updateMedalRid||i.wareMedalId:i.ownerRoomId;var a=i.medalList.filter(function(e){return e.medalRid===n})[0];if(a){var o=Object.assign.apply(Object,[{}].concat(r)),l=t.medalOperatServices.returnFansMedalStatus();if(o.todayExp>=o.todayAllExp&&!Ut){Ut=1;var s=7;o.medalLev>a.medalLev&&(s=9,t.medalOperatServices.fansMedalDYSub("show_msg_fansbadge_tips_upgrade",{bdg_id:l.bdg_id,cbdg_id:l.cbdg_id,level:o.medalLev,qinmi:o.allExp,rank:a.medalRank})),t.medalOperatServices.fansMedalDYSub("show_msg_fansbadge_tips_toplimit",{bdg_id:l.bdg_id,cbdg_id:l.cbdg_id,level:o.medalLev,qinmi:o.allExp,rank:a.medalRank}),t.medalOperatServices.addMedalDialog({dialogType:s,defaultShow:1,hoverShow:0,autoClear:5e3})}else o.medalLev>a.medalLev&&(t.medalOperatServices.addMedalDialog({dialogType:8,defaultShow:1,hoverShow:0,autoClear:5e3}),t.medalOperatServices.fansMedalDYSub("show_msg_fansbadge_tips_upgrade",{bdg_id:l.bdg_id,cbdg_id:l.cbdg_id,level:o.medalLev,qinmi:o.allExp,rank:a.medalRank}));return N.medalInfoUpdate(o)}return N.medalInfoUpdate({})}))},MedalOperatEpics.prototype.medalGetMsg=function medalGetMsg(e){var t=this;return e.ofType("MEDAL_GET_MSG").pipe(Object(c.map)(function(e){var r=e.payload,i=t.medalOperatServices.returnGlobalData().$ROOM;return r.fim=Math.round(r.fim/10)/10,r.nfim=Math.round(r.nfim/10)/10,r.afim=Math.round(r.afim/10)/10,r.mafim=Math.round(r.mafim/10)/10,r.bl=parseInt(r.bl,10),r.rid=String(i.room_id),bt.fromJSON(r)}),Object(u.switchMap)(function(e){return Object(l.forkJoin)(Object(s.of)(e),t.medalOperatServices.getConfig(),t.medalOperatServices.reqAnchorInfo(e))}),Object(c.map)(function(e){var r=e[0],i=t.store.getState().medalListMsgData,n=t.medalOperatServices.formatAnchorInfo(e[2]);return r=Object.assign({},r,n),i.medalList.filter(function(e){return e.medalRid===r.medalRid})[0]||(i.medalList.length>0?(i.medalList.length>=20&&t.medalOperatServices.addMedalDialog({dialogType:3,defaultShow:1,hoverShow:0,autoClear:5e3}),t.medalOperatServices.addMedalDialog({dialogType:6,defaultShow:1,hoverShow:0,medalData:r})):(t.medalOperatServices.clearMedalDialog(4),t.medalOperatServices.addMedalDialog({dialogType:6,defaultShow:1,hoverShow:0,medalData:r}))),N.medalGetUpdate(r)}))},MedalOperatEpics.prototype.medalOperationMsg=function medalOperationMsg(e){return e.ofType("MEDAL_OPERATION_MSG").pipe(Object(c.map)(function(e){var t=e.payload,r=parseInt(t.result,10);t.ot=parseInt(t.ot,10);var i=wt.fromJSON(t);return 0===r?3===i.operationType?N.medalOperationDelete(i.operationMedalId):N.medalOperationUpdate({wareMedalId:i.operationMedalId,wareStatus:1===i.operationType?2:1}):503101===r?(p.a.error("\u60a8\u6ca1\u6709\u6b64\u5fbd\u7ae0"),N.medalOperationDelete(i.operationMedalId)):e}))},MedalOperatEpics}(),yt=medalOperatEpics_applyDecoratedDescriptor(gt.prototype,"store",[mt],{enumerable:!0,initializer:null}),_t=medalOperatEpics_applyDecoratedDescriptor(gt.prototype,"medalOperatServices",[ht],{enumerable:!0,initializer:null}),St=medalOperatEpics_applyDecoratedDescriptor(gt.prototype,"medalDroppingServices",[vt],{enumerable:!0,initializer:null}),gt),Wt=r("38686");function EnterLevel120Dto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function EnterLevel120Dto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function EnterLevel120Dto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterLevel120Dto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function EnterLevel120Dto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Vt=C.basicTypes.string,$t=C.basicTypes.mapping,Kt=C.basicTypes.optional,qt=$t({webImg:"web_img",webImgSwf:"web_img_swf",bgHeight:"bg_height",fontHeight:"font_height",imgHeight:"img_height",fontColor:"font_color",nameColor:"name_color",welcomeContent:"welcome_content",occurrenceMode:"occurrence_mode"})((kt=function(e){function EnterLevel120Dto(){var t,r;!function EnterLevel120Dto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterLevel120Dto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=EnterLevel120Dto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),EnterLevel120Dto_initDefineProp(r,"ceid",Rt,r),EnterLevel120Dto_initDefineProp(r,"webImg",jt,r),EnterLevel120Dto_initDefineProp(r,"webImgSwf",Pt,r),EnterLevel120Dto_initDefineProp(r,"bgHeight",Tt,r),EnterLevel120Dto_initDefineProp(r,"fontHeight",Bt,r),EnterLevel120Dto_initDefineProp(r,"imgHeight",Mt,r),EnterLevel120Dto_initDefineProp(r,"fontColor",Lt,r),EnterLevel120Dto_initDefineProp(r,"nameColor",zt,r),EnterLevel120Dto_initDefineProp(r,"welcomeContent",At,r),EnterLevel120Dto_initDefineProp(r,"occurrenceMode",It,r),EnterLevel120Dto_possibleConstructorReturn(r,t)}return EnterLevel120Dto_inherits(EnterLevel120Dto,e),EnterLevel120Dto}(C.EntityDto),Rt=EnterLevel120Dto_applyDecoratedDescriptor(kt.prototype,"ceid",[Kt,Vt],{enumerable:!0,initializer:null}),jt=EnterLevel120Dto_applyDecoratedDescriptor(kt.prototype,"webImg",[Kt,Vt],{enumerable:!0,initializer:null}),Pt=EnterLevel120Dto_applyDecoratedDescriptor(kt.prototype,"webImgSwf",[Kt,Vt],{enumerable:!0,initializer:null}),Tt=EnterLevel120Dto_applyDecoratedDescriptor(kt.prototype,"bgHeight",[Kt,Vt],{enumerable:!0,initializer:null}),Bt=EnterLevel120Dto_applyDecoratedDescriptor(kt.prototype,"fontHeight",[Kt,Vt],{enumerable:!0,initializer:null}),Mt=EnterLevel120Dto_applyDecoratedDescriptor(kt.prototype,"imgHeight",[Kt,Vt],{enumerable:!0,initializer:null}),Lt=EnterLevel120Dto_applyDecoratedDescriptor(kt.prototype,"fontColor",[Kt,Vt],{enumerable:!0,initializer:null}),zt=EnterLevel120Dto_applyDecoratedDescriptor(kt.prototype,"nameColor",[Kt,Vt],{enumerable:!0,initializer:null}),At=EnterLevel120Dto_applyDecoratedDescriptor(kt.prototype,"welcomeContent",[Kt,Vt],{enumerable:!0,initializer:null}),It=EnterLevel120Dto_applyDecoratedDescriptor(kt.prototype,"occurrenceMode",[Kt,Vt],{enumerable:!0,initializer:null}),Et=kt))||Et;function enterLevel120Actions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function enterLevel120Actions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Qt,Jt,Yt,Xt="LEVEL120_CONFIG_GET_END",Zt=function(e){function EnterLevel120Action(){return function enterLevel120Actions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterLevel120Action),function enterLevel120Actions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return enterLevel120Actions_inherits(EnterLevel120Action,e),EnterLevel120Action.findLevel120Config=function findLevel120Config(e){return{type:"ENTER_LEVEL120_CONFIG_GET",payload:e}},EnterLevel120Action.receiveLevel120Config=function receiveLevel120Config(e){return{type:Xt,payload:e}},EnterLevel120Action}(f.Action);function enterLevel120Services_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function enterLevel120Services_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function enterLevel120Services_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var er,tr,rr,ir=(Qt=(0,n.a.Store)(),Jt=function(e){function EnterLevel120Services(){var t,r;!function enterLevel120Services_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterLevel120Services);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=enterLevel120Services_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function enterLevel120Services_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"store",Yt,r),enterLevel120Services_possibleConstructorReturn(r,t)}return enterLevel120Services_inherits(EnterLevel120Services,e),EnterLevel120Services.prototype.findEnterLevel120ByEpic=function findEnterLevel120ByEpic(){this.store.dispatch(Zt.findLevel120Config())},EnterLevel120Services}(f.Service),Yt=function enterLevel120Services_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Jt.prototype,"store",[Qt],{enumerable:!0,initializer:null}),Jt);var nr,ar,or,lr,sr,cr,ur,pr,fr,dr,br,mr,hr,vr,gr,yr,_r,Sr,Nr,Cr,Or,wr,Dr,Er=(er=(0,n.a.Service)(ir),tr=function(){function ChatEffectEpics(){!function enterLevel120Epics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatEffectEpics),function enterLevel120Epics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"enterLevel120Services",rr,this)}return ChatEffectEpics.prototype.findLevel120Config=function findLevel120Config(e){return e.ofType("ENTER_LEVEL120_CONFIG_GET").pipe(Object(u.switchMap)(function(){return C.jsonpClient.get(qt,"//webconf.douyucdn.cn//resource/common/privilege/custom_effect2.json","customEffectConfig")}),Object(c.map)(Zt.receiveLevel120Config),Object(Wt.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},ChatEffectEpics}(),rr=function enterLevel120Epics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(tr.prototype,"enterLevel120Services",[er],{enumerable:!0,initializer:null}),tr),kr=r("a63b0"),Rr=r.n(kr);function BarrageCmdDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function BarrageCmdDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BarrageCmdDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BarrageCmdDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageCmdDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function BarrageCmdDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var jr,Pr,Tr,Br,Mr,Lr=C.basicTypes.number,zr=C.basicTypes.string,Ar=C.basicTypes.typed,Ir=C.basicTypes.mapping,Fr=C.basicTypes.optional,xr=(nr=Ir({commonColor:"common",keywordsColor:"keyword"}),Object(ye.log)(ar=nr((or=function(e){function colorsDto(){var t,r;BarrageCmdDto_classCallCheck(this,colorsDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageCmdDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),BarrageCmdDto_initDefineProp(r,"commonColor",lr,r),BarrageCmdDto_initDefineProp(r,"keywordsColor",sr,r),BarrageCmdDto_possibleConstructorReturn(r,t)}return BarrageCmdDto_inherits(colorsDto,e),colorsDto}(C.EntityDto),lr=BarrageCmdDto_applyDecoratedDescriptor(or.prototype,"commonColor",[zr],{enumerable:!0,initializer:null}),sr=BarrageCmdDto_applyDecoratedDescriptor(or.prototype,"keywordsColor",[zr],{enumerable:!0,initializer:null}),ar=or))||ar)||ar),Gr=(cr=Ir({action:"type",cmdName:"cmd"}),Object(ye.log)(ur=cr((pr=function(e){function cmdDto(){var t,r;BarrageCmdDto_classCallCheck(this,cmdDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageCmdDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),BarrageCmdDto_initDefineProp(r,"action",fr,r),BarrageCmdDto_initDefineProp(r,"cmdName",dr,r),BarrageCmdDto_possibleConstructorReturn(r,t)}return BarrageCmdDto_inherits(cmdDto,e),cmdDto}(C.EntityDto),fr=BarrageCmdDto_applyDecoratedDescriptor(pr.prototype,"action",[zr],{enumerable:!0,initializer:null}),dr=BarrageCmdDto_applyDecoratedDescriptor(pr.prototype,"cmdName",[zr],{enumerable:!0,initializer:null}),ur=pr))||ur)||ur),Ur=(br=Ir({colors:"colors",isRight:"is_right",sttcode:"str",cmd:"str_data",result:"str_msg",time4Show:"str_msg_showtime",followFont:"in",followNum:"cfer"}),mr=Ar(xr),hr=Ar(Gr),br((gr=function(e){function BarrageCmdDto(){var t,r;BarrageCmdDto_classCallCheck(this,BarrageCmdDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageCmdDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),BarrageCmdDto_initDefineProp(r,"colors",yr,r),BarrageCmdDto_initDefineProp(r,"isRight",_r,r),BarrageCmdDto_initDefineProp(r,"sttcode",Sr,r),BarrageCmdDto_initDefineProp(r,"cmd",Nr,r),BarrageCmdDto_initDefineProp(r,"result",Cr,r),BarrageCmdDto_initDefineProp(r,"time4Show",Or,r),BarrageCmdDto_initDefineProp(r,"followFont",wr,r),BarrageCmdDto_initDefineProp(r,"followNum",Dr,r),BarrageCmdDto_possibleConstructorReturn(r,t)}return BarrageCmdDto_inherits(BarrageCmdDto,e),BarrageCmdDto}(C.EntityDto),yr=BarrageCmdDto_applyDecoratedDescriptor(gr.prototype,"colors",[Fr,mr],{enumerable:!0,initializer:null}),_r=BarrageCmdDto_applyDecoratedDescriptor(gr.prototype,"isRight",[Fr,Lr],{enumerable:!0,initializer:null}),Sr=BarrageCmdDto_applyDecoratedDescriptor(gr.prototype,"sttcode",[Fr,zr],{enumerable:!0,initializer:null}),Nr=BarrageCmdDto_applyDecoratedDescriptor(gr.prototype,"cmd",[Fr,hr],{enumerable:!0,initializer:null}),Cr=BarrageCmdDto_applyDecoratedDescriptor(gr.prototype,"result",[Fr,zr],{enumerable:!0,initializer:null}),Or=BarrageCmdDto_applyDecoratedDescriptor(gr.prototype,"time4Show",[Fr,Lr],{enumerable:!0,initializer:null}),wr=BarrageCmdDto_applyDecoratedDescriptor(gr.prototype,"followFont",[Fr,zr],{enumerable:!0,initializer:null}),Dr=BarrageCmdDto_applyDecoratedDescriptor(gr.prototype,"followNum",[Fr,zr],{enumerable:!0,initializer:null}),vr=gr))||vr),Hr=r("0d731"),Wr=r("e1214"),Vr=r("a404e");function barrageCmdEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function barrageCmdEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var $r,Kr,qr,Qr,Jr,Yr=n.a.Service,Xr=(jr=Yr(Vr.a),Pr=Yr(Wr.a),Tr=function(){function BarrageCmdEpics(){!function barrageCmdEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageCmdEpics),barrageCmdEpics_initDefineProp(this,"barrageCmdService",Br,this),barrageCmdEpics_initDefineProp(this,"titleService",Mr,this)}return BarrageCmdEpics.prototype.getBarrageCmdResult=function getBarrageCmdResult(e){var t=this;return e.ofType(Hr.b).pipe(Object(u.switchMap)(function(e){var t=e.payload;return Object(l.forkJoin)(C.httpClient.post(Ur,"/api/bcmd/dealResult",Rr.a.stringify({str:t.str})),Object(s.of)(t))}),Object(c.map)(function(e){var r=(e[0]||{}).data;if(r){var i=r.time4Show;t.barrageCmdService.startCloseCd(i),Object(O.dysub)("click_msginstr_send",{instr:e[1].cmd,is_right:r.isRight||0})}else Object(O.dysub)("click_msginstr_send",{instr:e[1].cmd,is_right:0});return e}),Object(c.map)(function(e){return Hr.g.receiveCmd(e[0])}),Object(Wt.catchError)(function(){return Object(s.of)({type:"error",payload:"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01"})}))},BarrageCmdEpics.prototype.setFollowWithCmd=function setFollowWithCmd(e){var t=this;return e.ofType(Hr.e).pipe(Object(u.switchMap)(function(e){var t=e.payload;return C.httpClient.post(Ur,"/room/follow/add_cmd_confuse",Rr.a.stringify({room_id:t.room_id}))}),Object(c.map)(function(e){t.barrageCmdService.startCloseCd();var r=e&&e.data&&!e.error?1:0;if(r){var i=e.data||{},n=i.followNum,a=i.followFont,o={followed:1};"undefined"!==typeof n&&(o.followNum=n),"undefined"!==typeof a&&(o.followFont=a),t.titleService.receiveFollowedStatus(o)}return Object(O.dysub)("click_msginstr_send",{instr:"\u5173\u6ce8",is_right:r}),{data:{result:e.msg||"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01"}}}),Object(c.map)(Hr.g.receiveCmd),Object(Wt.catchError)(function(){return Object(s.of)({type:"error",payload:"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01"})}))},BarrageCmdEpics.prototype.setUnFollowWithCmd=function setUnFollowWithCmd(e){var t=this;return e.ofType(Hr.f).pipe(Object(u.switchMap)(function(e){var t=e.payload;return C.httpClient.post(Ur,"/room/follow/cancel_cmd_confuse",Rr.a.stringify({room_id:t.room_id}))}),Object(c.map)(function(e){t.barrageCmdService.startCloseCd();var r=e&&e.data&&!e.error?1:0;if(r){var i=e.data||{},n=i.followNum,a=i.followFont,o={followed:0};"undefined"!==typeof n&&(o.followNum=n),"undefined"!==typeof a&&(o.followFont=a),t.titleService.receiveFollowedStatus(o)}return Object(O.dysub)("click_msginstr_send",{instr:"\u53d6\u5173",is_right:r}),{data:{result:e.msg||"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01"}}}),Object(c.map)(Hr.g.receiveCmd),Object(Wt.catchError)(function(){return Object(s.of)({type:"error",payload:"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01"})}))},BarrageCmdEpics.prototype.getCmdBroadCastResult=function getCmdBroadCastResult(e){var t=this;return e.ofType(Hr.d).pipe(Object(u.switchMap)(function(e){var t=e.payload;return Object(l.forkJoin)(C.httpClient.post(Ur,"/api/bcmd/dealBroadResult",Rr.a.stringify({str:t.cmdStt})),Object(s.of)(t))}),Object(c.map)(function(e){var r=(e[0]||{}).data;if(r){var i=r.time4Show,n=r.result;t.barrageCmdService.sendBroadResultToPlayer({duration:i,content:n}),t.barrageCmdService.startCloseCd(i),Object(O.dysub)("click_msginstr_send",{instr:e[1].cmd,is_right:r.isRight||0})}else Object(O.dysub)("click_msginstr_send",{instr:e[1].cmd,is_right:0});return e[0]}),Object(c.map)(function(e){return Hr.g.receiveCmd(e)}),Object(Wt.catchError)(function(){return Object(s.of)({type:"error",payload:"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01"})}))},BarrageCmdEpics}(),Br=barrageCmdEpics_applyDecoratedDescriptor(Tr.prototype,"barrageCmdService",[jr],{enumerable:!0,initializer:null}),Mr=barrageCmdEpics_applyDecoratedDescriptor(Tr.prototype,"titleService",[Pr],{enumerable:!0,initializer:null}),Tr);function LitterSisterDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function LitterSisterDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function LitterSisterDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function LitterSisterDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function LitterSisterDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Zr,ei,ti,ri=C.basicTypes.number,ii=($r=(0,C.basicTypes.mapping)({femalePrivilege:"female_privilege",identSex:"ident_sex"}),Object(ye.log)(Kr=$r((qr=function(e){function LitterSisterDto(){var t,r;!function LitterSisterDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LitterSisterDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=LitterSisterDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),LitterSisterDto_initDefineProp(r,"femalePrivilege",Qr,r),LitterSisterDto_initDefineProp(r,"identSex",Jr,r),LitterSisterDto_possibleConstructorReturn(r,t)}return LitterSisterDto_inherits(LitterSisterDto,e),LitterSisterDto}(C.EntityDto),Qr=LitterSisterDto_applyDecoratedDescriptor(qr.prototype,"femalePrivilege",[ri],{enumerable:!0,initializer:null}),Jr=LitterSisterDto_applyDecoratedDescriptor(qr.prototype,"identSex",[ri],{enumerable:!0,initializer:null}),Kr=qr))||Kr)||Kr),ni=r("623b6"),ai=r("f6247"),oi=r("35c0a");var li=(Zr=(0,n.a.Service)(oi.a),ei=function(){function LitterSisterEpics(){!function litterSisterEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LitterSisterEpics),function litterSisterEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"litterSisterService",ti,this)}return LitterSisterEpics.prototype.getSisterStatusData=function getSisterStatusData(e){return e.ofType(ai.c).pipe(Object(u.switchMap)(function(){return C.httpClient.get(ii,"/member/female_privilege/get_privilege_info")}),Object(c.map)(function(e){return ai.g.receiveUserInfo(e)}),Object(Wt.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},LitterSisterEpics.prototype.receivePriv=function receivePriv(e){return e.ofType(ai.d).pipe(Object(u.switchMap)(ni.a),Object(u.switchMap)(function(e){var t,r=e.name,i=e.value;return C.httpClient.post(String,"/member/female_privilege/receive_privilege",((t={})[r]=i,t),{headers:{"content-type":"application/x-www-form-urlencoded"}})}),Object(c.map)(function(e){return ai.g.dealReceivePriv(e)}),Object(Wt.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},LitterSisterEpics}(),ti=function litterSisterEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(ei.prototype,"litterSisterService",[Zr],{enumerable:!0,initializer:null}),ei),si=r("89992"),ci=r("5b15c");function nobleVisibleActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleVisibleActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ui,pi,fi,di="IS_HAS_INVISIBLE",bi="GET_INVISIBLE_SATUS_END",mi="SET_INVISIBLE_SATUS_END",hi="UPDATE_INVISIBLE_STATUS",vi=function(e){function NobleVisibleActions(){return function nobleVisibleActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleVisibleActions),function nobleVisibleActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return nobleVisibleActions_inherits(NobleVisibleActions,e),NobleVisibleActions.receiveHasInvisible=function receiveHasInvisible(e){return{type:di,payload:e}},NobleVisibleActions.getNobleVisibleStatus=function getNobleVisibleStatus(e){return{type:"GET_INVISIBLE_STAUS",payload:e}},NobleVisibleActions.receiveNobleVisibleStatus=function receiveNobleVisibleStatus(e){return{type:bi,payload:e}},NobleVisibleActions.setNobleVisibleStatus=function setNobleVisibleStatus(e){return{type:"SET_INVISIBLE_SATUS",payload:e}},NobleVisibleActions.receiveSetNobleVisibleStatus=function receiveSetNobleVisibleStatus(e){return{type:mi,payload:e}},NobleVisibleActions.updateNobleVisibleStatus=function updateNobleVisibleStatus(e){return{type:hi,payload:e}},NobleVisibleActions}(f.Action);var gi,yi,_i,Si,Ni,Ci,Oi,wi=(ui=(0,n.a.Store)(),pi=function(){function NobleVisibleEpics(){!function nobleVisibleEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleVisibleEpics),function nobleVisibleEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"store",fi,this)}return NobleVisibleEpics.prototype.getInvisible=function getInvisible(e){return e.ofType("GET_INVISIBLE_STAUS").pipe(Object(u.switchMap)(ci.a),Object(u.switchMap)(function(e){var t=e.data;return C.httpClient.get(String,"/member/noble/getHideStatus",{type:2,rid:t.get("room.room_id")},{noCache:!0})}),Object(c.map)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 0===+e.code?vi.receiveNobleVisibleStatus(+e.status||0):(p.a.error(e.msg||"\u672a\u77e5\u9519\u8bef\uff01\u83b7\u53d6\u699c\u5355\u9690\u8eab\u72b6\u6001\u5931\u8d25\uff01"),{type:"error",payload:e.msg})}),Object(Wt.catchError)(function(e){p.a.error("\u7f51\u7edc\u9519\u8bef\uff01\u83b7\u53d6\u699c\u5355\u9690\u8eab\u72b6\u6001\u5931\u8d25\uff01"),Object(s.of)({type:"error",payload:e})}))},NobleVisibleEpics.prototype.setInvisible=function setInvisible(e){var t=this;return e.ofType("SET_INVISIBLE_SATUS").pipe(Object(si.throttleTime)(3e4),Object(u.switchMap)(ci.a),Object(u.switchMap)(function(e){var r=e.data,i=e.payload;return Object(l.forkJoin)(C.httpClient.post(String,"/member/noble/setHideStatus",Rr.a.stringify({type:2,rid:r.get("room.room_id"),status:t.store.getState().getInvisible.isInvisible?0:1})),Object(s.of)(i))}),Object(c.map)(function(e){var r=e[0],i=void 0===r?{}:r,n=e[1];if(0===+i.code){var a=+t.store.getState().getInvisible.isInvisible;return"fans"===n?a?p.a.success("\u7c89\u4e1d\u699c\u9690\u8eab\u5df2\u89e3\u9664"):p.a.success("\u5df2\u5728\u4e3b\u64ad\u7684\u7c89\u4e1d\u699c\u4e2d\u9690\u8eab"):a?p.a.success("\u8d21\u732e\u699c\u9690\u8eab\u5df2\u89e3\u9664"):p.a.success("\u5df2\u5728\u4e3b\u64ad\u7684\u8d21\u732e\u699c\u4e2d\u9690\u8eab"),vi.receiveSetNobleVisibleStatus()}return p.a.error(i.msg||"\u672a\u77e5\u9519\u8bef\uff01\u8bbe\u7f6e\u699c\u5355\u9690\u8eab\u72b6\u6001\u5931\u8d25\uff01"),{type:"error",payload:i.msg}}),Object(Wt.catchError)(function(e){p.a.error("\u7f51\u7edc\u9519\u8bef\uff01\u8bbe\u7f6e\u699c\u5355\u9690\u8eab\u72b6\u6001\u5931\u8d25\uff01"),Object(s.of)({type:"error",payload:e})}))},NobleVisibleEpics}(),fi=function nobleVisibleEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(pi.prototype,"store",[ui],{enumerable:!0,initializer:null}),pi),Di=r("04bc4"),Ei=r("77785"),ki=r("2c3f6");function barrageSuperLinkEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function barrageSuperLinkEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ri=n.a.Store,ji=n.a.Service,Pi=(gi=Ri(),yi=ji(ki.a),_i=ji(Di.a),Si=function(){function BarrageSuperLinkEpics(){!function barrageSuperLinkEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageSuperLinkEpics),barrageSuperLinkEpics_initDefineProp(this,"store",Ni,this),barrageSuperLinkEpics_initDefineProp(this,"barrageSuperLinkServices",Ci,this),barrageSuperLinkEpics_initDefineProp(this,"chatSendServices",Oi,this)}return BarrageSuperLinkEpics.prototype.sendBarrageSuperLink=function sendBarrageSuperLink(e){var t=this;return e.ofType(Ei.a).pipe(Object(u.switchMap)(function(e){return Object(l.forkJoin)(Object(s.of)(e.payload),t.barrageSuperLinkServices.reqBarrageHandleLinkData(e))}),Object(c.map)(function(e){var r=e[0]||{},i=e[1]||{},n=r.node,a=r.str;if(0===i.error){var o=i.data;return n.lk=o,t.chatSendServices.sendEnd(n,a),t.barrageSuperLinkServices.barrageLinkDYSub("click_msg_lmicon_edit_send",{type:o.split("_")[0]||1}),Ei.c.receiveBarrageLinkData(o)}return Ei.c.updateBarrageLinkData({superLinkError:2})}))},BarrageSuperLinkEpics}(),Ni=barrageSuperLinkEpics_applyDecoratedDescriptor(Si.prototype,"store",[gi],{enumerable:!0,initializer:null}),Ci=barrageSuperLinkEpics_applyDecoratedDescriptor(Si.prototype,"barrageSuperLinkServices",[yi],{enumerable:!0,initializer:null}),Oi=barrageSuperLinkEpics_applyDecoratedDescriptor(Si.prototype,"chatSendServices",[_i],{enumerable:!0,initializer:null}),Si);function nobleExpiredTipActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleExpiredTipActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Ti,Bi,Mi,Li,zi,Ai="RECEIVE_NOBLE_CONFIG",Ii=function(e){function NobleExpiredTipActions(){return function nobleExpiredTipActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleExpiredTipActions),function nobleExpiredTipActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return nobleExpiredTipActions_inherits(NobleExpiredTipActions,e),NobleExpiredTipActions.getNobleConfig=function getNobleConfig(e){return{type:"GET_NOBLE_CONFIG",payload:e}},NobleExpiredTipActions.receiveNobleConfig=function receiveNobleConfig(e){return{type:Ai,payload:e}},NobleExpiredTipActions}(f.Action);function nobleExpiredTipServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function nobleExpiredTipServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function nobleExpiredTipServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleExpiredTipServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function nobleExpiredTipServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Fi,xi,Gi,Ui,Hi,Wi,Vi,$i,Ki,qi,Qi,Ji,Yi,Xi=n.a.Store,Zi=n.a.Service,en=w.a.socketStream,tn=(Ti=Zi(C.DataCenter.localStorage),Bi=Xi(),Mi=function(e){function NobleExpiredTipServices(){var t,r;!function nobleExpiredTipServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleExpiredTipServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=nobleExpiredTipServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),nobleExpiredTipServices_initDefineProp(r,"localStorage",Li,r),nobleExpiredTipServices_initDefineProp(r,"store",zi,r),r.config={storageName:"room-nobleExpiredTip",storageExpireTime:1296e3,daysOf7:6048e5},nobleExpiredTipServices_possibleConstructorReturn(r,t)}return nobleExpiredTipServices_inherits(NobleExpiredTipServices,e),NobleExpiredTipServices.prototype.initSocket=function initSocket(){var e=this;en.subscribe("memberinfores",function(t){var r=parseInt(1e3*t.nets,10)||0,i=parseInt(1e3*t.npts,10)||0,n=parseInt(t.nl,10)||0,a=parseInt(t.npl,10)||0,o=(parseInt(t.ngb,10)||0)/100,l=e.config.storageName,s=e.localStorage.get(l)||{},c=s.showTimes,u=void 0===c?0:c,p=s.maxIntervalsTime,f=void 0===p?0:p;e.config.now=(new Date).getTime(),r>0&&e.localStorage.remove(l),!n&&a&&u<2&&e.config.now>=f&&e.store.dispatch(Ii.getNobleConfig({frozenNobleYc:o,nobleProtectLevel:a,nobleProtectTime:i}))})},NobleExpiredTipServices.prototype.setLocalStorage=function setLocalStorage(){var e=this.config,t=e.storageName,r=e.storageExpireTime,i=e.daysOf7,n=this.localStorage.get(t)||{},a=n.showTimes,o=void 0===a?0:a;this.localStorage.set(t,Object.assign(n,{showTimes:o+1,maxIntervalsTime:this.config.now+i}),r)},NobleExpiredTipServices}(f.Service),Li=nobleExpiredTipServices_applyDecoratedDescriptor(Mi.prototype,"localStorage",[Ti],{enumerable:!0,initializer:null}),zi=nobleExpiredTipServices_applyDecoratedDescriptor(Mi.prototype,"store",[Bi],{enumerable:!0,initializer:null}),Mi);function NobleExpiredTipDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleExpiredTipDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NobleExpiredTipDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleExpiredTipDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleExpiredTipDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleExpiredTipDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var rn,nn,an,on=C.basicTypes.number,ln=C.basicTypes.string,sn=C.basicTypes.typed,cn=C.basicTypes.optional,un=C.basicTypes.mapping,pn=(Fi=un({nobleImg:"web_symbol_pic3"}),Object(ye.log)(xi=Fi((Gi=function(e){function SymbolDto(){var t,r;NobleExpiredTipDto_classCallCheck(this,SymbolDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleExpiredTipDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleExpiredTipDto_initDefineProp(r,"nobleImg",Ui,r),NobleExpiredTipDto_possibleConstructorReturn(r,t)}return NobleExpiredTipDto_inherits(SymbolDto,e),SymbolDto}(C.EntityDto),Ui=NobleExpiredTipDto_applyDecoratedDescriptor(Gi.prototype,"nobleImg",[cn,ln],{enumerable:!0,initializer:null}),xi=Gi))||xi)||xi),fn=(Hi=un({level:"level",nobleName:"noble_name",symbolImg:"symbol",firstOpenPrice:"first_open_price",firstReopenPrice:"first_remand_gold"}),Wi=sn(pn),Object(ye.log)(Vi=Hi(($i=function(e){function NobleExpiredTipDto(){var t,r;NobleExpiredTipDto_classCallCheck(this,NobleExpiredTipDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleExpiredTipDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleExpiredTipDto_initDefineProp(r,"level",Ki,r),NobleExpiredTipDto_initDefineProp(r,"firstOpenPrice",qi,r),NobleExpiredTipDto_initDefineProp(r,"firstReopenPrice",Qi,r),NobleExpiredTipDto_initDefineProp(r,"nobleName",Ji,r),NobleExpiredTipDto_initDefineProp(r,"symbolImg",Yi,r),NobleExpiredTipDto_possibleConstructorReturn(r,t)}return NobleExpiredTipDto_inherits(NobleExpiredTipDto,e),NobleExpiredTipDto}(C.EntityDto),Ki=NobleExpiredTipDto_applyDecoratedDescriptor($i.prototype,"level",[on],{enumerable:!0,initializer:null}),qi=NobleExpiredTipDto_applyDecoratedDescriptor($i.prototype,"firstOpenPrice",[on],{enumerable:!0,initializer:null}),Qi=NobleExpiredTipDto_applyDecoratedDescriptor($i.prototype,"firstReopenPrice",[on],{enumerable:!0,initializer:null}),Ji=NobleExpiredTipDto_applyDecoratedDescriptor($i.prototype,"nobleName",[ln],{enumerable:!0,initializer:null}),Yi=NobleExpiredTipDto_applyDecoratedDescriptor($i.prototype,"symbolImg",[cn,Wi],{enumerable:!0,initializer:null}),Vi=$i))||Vi)||Vi);var dn,bn,mn,hn=(rn=(0,n.a.Service)(tn),nn=function(){function NobleExpiredTipEpics(){!function nobleExpiredTipEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleExpiredTipEpics),function nobleExpiredTipEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"nobleExpiredTipService",an,this)}return NobleExpiredTipEpics.prototype.getNobleConfig=function getNobleConfig(e){return e.ofType("GET_NOBLE_CONFIG").pipe(Object(u.switchMap)(function(e){var t=e.payload;return Object(l.forkJoin)(Object(s.of)(t),C.httpClient.get(fn,"/noble/confignw"))}),Object(c.map)(function(e){var t=e[0],r=t.frozenNobleYc,i=void 0===r?0:r,n=t.nobleProtectTime,a=void 0===n?0:n,o=t.nobleProtectLevel,l=void 0===o?0:o,s=e[1].data,c=void 0===s?[]:s,u=new Date(a),p=u.getFullYear()+"-"+(u.getMonth()+1)+"-"+u.getDate(),f={};c.forEach(function(e,t){e.level===l&&(f=c[t]||{})});var d=f,b=d.nobleName,m=d.symbolImg.nobleImg,h=d.firstOpenPrice,v=void 0===h?0:h,g=d.firstReopenPrice,y={nobleImg:m?"//res.douyucdn.cn//resource/"+m:"",nobleName:b,frozenNobleYc:i,unfreezeDate:p,savedMoney:parseInt((v-(void 0===g?0:g))/100,10)};return Ii.receiveNobleConfig(y)}),Object(Wt.catchError)(function(){return Object(s.of)({type:"error",payload:"\u83b7\u53d6\u8d35\u65cf\u914d\u7f6e\u6570\u636e\u51fa\u9519\uff01"})}))},NobleExpiredTipEpics}(),an=function nobleExpiredTipEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(nn.prototype,"nobleExpiredTipService",[rn],{enumerable:!0,initializer:null}),nn),vn=r("1c14c"),gn=r("1074e");var yn,_n,Sn,Nn,Cn,On,wn,Dn,En,kn=(dn=(0,n.a.Service)(vn.a),bn=function(){function TreasureEpics(){!function treasureEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureEpics),function treasureEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"treasureService",mn,this)}return TreasureEpics.prototype.drawTreasure=function drawTreasure(e){var t=this;return e.ofType(gn.d).pipe(Object(u.switchMap)(function(e){return t.treasureService.drawTreasureRequest(e)}),Object(c.map)(function(e){var t={};if(0===+e.error){var r=e.data||"{}";t=JSON.parse(r)||{}}else{t=JSON.parse("{}")||{}}return gn.o.showDrawResult(t)}),Object(Wt.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},TreasureEpics}(),mn=function treasureEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(bn.prototype,"treasureService",[dn],{enumerable:!0,initializer:null}),bn),Rn=r("01ecd"),jn=r("dbdd7");function chatCampEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function chatCampEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Pn=n.a.Service,Tn=(yn=Pn(C.DataCenter.global),_n=Pn(C.DataCenter.acj),Sn=Pn(C.DataCenter.localStorage),Nn=Pn(jn.a),Cn=function(){function ChatCampEpics(){!function chatCampEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatCampEpics),chatCampEpics_initDefineProp(this,"global",On,this),chatCampEpics_initDefineProp(this,"acj",wn,this),chatCampEpics_initDefineProp(this,"storage",Dn,this),chatCampEpics_initDefineProp(this,"chatCampService",En,this)}return ChatCampEpics.prototype.initChatCamp=function initChatCamp(e){var t=this;return e.ofType(Rn.b).pipe(Object(u.switchMap)(function(){return t.chatCampService.getJsonData()}),Object(c.map)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.setting,i=void 0===r?{}:r,n=e.switch?e.switch.web:0,a=!t.storage.get("chatCamp_remindIsShow"),o=i[t.global.get("$ROOM.room_id")||""]||{},l=o.camp_list||[],s=o.start_time?1e3*o.start_time:0,c=o.end_time?1e3*o.end_time:0,u=(new Date).getTime(),p=!1;if(n&&u<=c&&u>=s){p=!0,a&&t.storage.set("chatCamp_remindIsShow",1);var f=e.barrage_color_list,d=[];Object.keys(f).forEach(function(e){d.push({type:e,value:f[e]})});var b={colorList:d,startTime:o.start_time,endTime:o.end_time};t.acj.push(k.c.JS_SET_BARRAGE_COLOR,b)}return Rn.f.receiveChatCamp({campList:l,isInit:p,remindIsShow:a})}),Object(Wt.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},ChatCampEpics}(),On=chatCampEpics_applyDecoratedDescriptor(Cn.prototype,"global",[yn],{enumerable:!0,initializer:null}),wn=chatCampEpics_applyDecoratedDescriptor(Cn.prototype,"acj",[_n],{enumerable:!0,initializer:null}),Dn=chatCampEpics_applyDecoratedDescriptor(Cn.prototype,"storage",[Sn],{enumerable:!0,initializer:null}),En=chatCampEpics_applyDecoratedDescriptor(Cn.prototype,"chatCampService",[Nn],{enumerable:!0,initializer:null}),Cn);function lolVoteActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function lolVoteActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Bn,Mn,Ln,zn="receive_match_detail",An="receive_user_detail",In="show_vote_dialog",Fn="close_vote_dialog",xn="receive_vote_share_code",Gn="lol_user_vote_success",Un=function(e){function LolVoteAction(){return function lolVoteActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LolVoteAction),function lolVoteActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return lolVoteActions_inherits(LolVoteAction,e),LolVoteAction.getMatchDetail=function getMatchDetail(){return{type:"get_match_detail"}},LolVoteAction.receiveMatchDetail=function receiveMatchDetail(e){return{type:zn,payload:e}},LolVoteAction.getUserDetail=function getUserDetail(e){return{type:"get_user_detail",payload:e}},LolVoteAction.receiveUserDetail=function receiveUserDetail(e){return{type:An,payload:e}},LolVoteAction.lolVote=function lolVote(e){return{type:"lol_vote",payload:e}},LolVoteAction.showVoteDialog=function showVoteDialog(){return{type:In}},LolVoteAction.closeVoteDialog=function closeVoteDialog(){return{type:Fn}},LolVoteAction.getVoteShareCode=function getVoteShareCode(){return{type:"get_vote_share_code"}},LolVoteAction.receiveVoteShareCode=function receiveVoteShareCode(e){return{type:xn,payload:e}},LolVoteAction.lolUserVote=function lolUserVote(e){return{type:"lol_user_vote",payload:e}},LolVoteAction.userVoteComplete=function userVoteComplete(e){return{type:Gn,payload:e}},LolVoteAction}(f.Action),Hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};var Wn,Vn,$n,Kn,qn,Qn,Jn={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},Yn=(Bn=(0,n.a.Store)(),Mn=function(){function LolVoteEpics(){!function lolVoteEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LolVoteEpics),function lolVoteEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"store",Ln,this)}return LolVoteEpics.prototype.getMatchDetail=function getMatchDetail(e){return e.ofType("get_match_detail").pipe(Object(u.switchMap)(function(){return C.httpClient.get(String,"/wgapi/activity/lol/getMatchDetail")}),Object(c.map)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&0===+e.error){var t=e.data&&JSON.parse(e.data);return Un.receiveMatchDetail(t)}return p.a.error(e.msg||"\u672a\u77e5\u9519\u8bef\uff01\u83b7\u53d6\u6bd4\u8d5b\u4fe1\u606f\u5931\u8d25\uff01"),{type:"error",payload:e.msg}}),Object(Wt.catchError)(function(e){p.a.error("\u7f51\u7edc\u9519\u8bef\uff01\u83b7\u53d6lol\u6bd4\u8d5b\u4fe1\u606f\u5931\u8d25\uff01"),Object(s.of)({type:"error",payload:e})}))},LolVoteEpics.prototype.getUserDetail=function getUserDetail(e){return e.ofType("get_user_detail").pipe(Object(u.switchMap)(function(){return C.httpClient.post(String,"/wgapi/activitync/lol/getUserDetail")}),Object(c.map)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&0===+e.error){var t=e.data&&JSON.parse(e.data);return Un.receiveUserDetail(t)}return p.a.error(e.msg||"\u672a\u77e5\u9519\u8bef\uff01\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25\uff01"),{type:"error",payload:e.msg}}),Object(Wt.catchError)(function(e){p.a.error("\u7f51\u7edc\u9519\u8bef\uff01\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25\uff01"),Object(s.of)({type:"error",payload:e})}))},LolVoteEpics.prototype.getVoteShareCode=function getVoteShareCode(e){return e.ofType("get_vote_share_code").pipe(Object(u.switchMap)(function(){return C.httpClient.post(String,"/wgapi/activitync/lol/share")}),Object(c.map)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&0===+e.error){var t=e.data;return Un.receiveVoteShareCode(t)}return p.a.error(e.msg||"\u672a\u77e5\u9519\u8bef\uff01\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25\uff01"),{type:"error",payload:e.msg}}),Object(Wt.catchError)(function(e){p.a.error("\u7f51\u7edc\u9519\u8bef\uff01\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u5931\u8d25\uff01"),Object(s.of)({type:"error",payload:e})}))},LolVoteEpics.prototype.lolUserVote=function lolUserVote(e){return e.ofType("lol_user_vote").pipe(Object(u.switchMap)(ni.a),Object(u.switchMap)(function(e){var t,r=e.name,i=e.value,n=e.payload;return C.httpClient.post(String,"/wgapi/activitync/lol/userSupportTeam",Hn({},n.payload,(t={},t[r]=i,t)),Jn).pipe(Object(c.map)(function(e){if(0===e.error){var t=JSON.parse(e.data);return t.tid=n.payload.tid,Un.userVoteComplete(t)}return p.a.error(e.msg||"\u6295\u7968\u5931\u8d25\uff01\u8bf7\u5237\u65b0\u540e\u91cd\u8bd5"),{type:"error",payload:e.msg}}),Object(Wt.catchError)(function(e){return p.a.error("\u7f51\u7edc\u6545\u969c\uff0c\u8bf7\u6c42\u5931\u8d25"),Object(s.of)({type:"error",playlod:e})}))}))},LolVoteEpics}(),Ln=function lolVoteEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Mn.prototype,"store",[Bn],{enumerable:!0,initializer:null}),Mn);function ChatRoleBarrageDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatRoleBarrageDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ChatRoleBarrageDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatRoleBarrageDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatRoleBarrageDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Xn,Zn,ea,ta,ra,ia=C.basicTypes.string,na=C.basicTypes.number,aa=(Wn=(0,C.basicTypes.oneOf)(ia,na),Object(ye.log)(($n=function(e){function ChatRoleBarrageDto(){var t,r;!function ChatRoleBarrageDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRoleBarrageDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ChatRoleBarrageDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),ChatRoleBarrageDto_initDefineProp(r,"roleId",Kn,r),ChatRoleBarrageDto_initDefineProp(r,"name",qn,r),ChatRoleBarrageDto_initDefineProp(r,"img",Qn,r),ChatRoleBarrageDto_possibleConstructorReturn(r,t)}return ChatRoleBarrageDto_inherits(ChatRoleBarrageDto,e),ChatRoleBarrageDto}(C.EntityDto),Kn=ChatRoleBarrageDto_applyDecoratedDescriptor($n.prototype,"roleId",[Wn],{enumerable:!0,initializer:null}),qn=ChatRoleBarrageDto_applyDecoratedDescriptor($n.prototype,"name",[ia],{enumerable:!0,initializer:null}),Qn=ChatRoleBarrageDto_applyDecoratedDescriptor($n.prototype,"img",[ia],{enumerable:!0,initializer:null}),Vn=$n))||Vn),oa=r("e0536"),la=r("4e8ba");function chatRoleBarrageEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function chatRoleBarrageEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var sa=n.a.Service,ca=(Xn=sa(la.a),Zn=sa(C.DataCenter.acj),ea=function(){function ChatRoleBarrageEpics(){!function chatRoleBarrageEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRoleBarrageEpics),chatRoleBarrageEpics_initDefineProp(this,"ChatRoleBarrageService",ta,this),chatRoleBarrageEpics_initDefineProp(this,"acj",ra,this)}return ChatRoleBarrageEpics.prototype.getRoleList=function getRoleList(e){var t=this;return e.ofType(oa.b).pipe(Object(u.switchMap)(function(e){var t=e.payload;return C.httpClient.get(aa,"/roomapi/biz/roleBarrage",{rid:t})}),Object(u.switchMap)(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data,r=void 0===e?[]:e;return t.acj.push(k.c.JS_ROLE_BARRAGE_CONFIG,{data:r}),Object(s.of)(r)}),Object(c.map)(oa.e.setupRoleList))},ChatRoleBarrageEpics}(),ta=chatRoleBarrageEpics_applyDecoratedDescriptor(ea.prototype,"ChatRoleBarrageService",[Xn],{enumerable:!0,initializer:null}),ra=chatRoleBarrageEpics_applyDecoratedDescriptor(ea.prototype,"acj",[Zn],{enumerable:!0,initializer:null}),ea);function emotionActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function emotionActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ua,pa,fa,da,ba="RECEIVE_LUSHI_EMOT_STATUS",ma=function(e){function EmotionAction(){return function emotionActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionAction),function emotionActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return emotionActions_inherits(EmotionAction,e),EmotionAction.getLushiEmotStatus=function getLushiEmotStatus(e){return{type:"GET_LUSHI_EMOT_STATUS",payload:e}},EmotionAction.receiveLushiEmotStatus=function receiveLushiEmotStatus(e){return{type:ba,payload:e}},EmotionAction}(f.Action);function emotionServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function emotionServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function emotionServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ha,va,ga,ya=(ua=(0,n.a.Store)(),Object(ye.log)((fa=function(e){function EmotionServices(){var t,r;!function emotionServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=emotionServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function emotionServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"store",da,r),emotionServices_possibleConstructorReturn(r,t)}return emotionServices_inherits(EmotionServices,e),EmotionServices.prototype.getLushiEmotStatus=function getLushiEmotStatus(){this.store.dispatch(ma.getLushiEmotStatus())},EmotionServices}(f.Service),da=function emotionServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(fa.prototype,"store",[ua],{enumerable:!0,initializer:null}),pa=fa))||pa);var _a=(ha=(0,n.a.Service)(ya),va=function(){function EmotionEpics(){!function emotionEpics_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionEpics),function emotionEpics_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(this,"emotionServices",ga,this)}return EmotionEpics.prototype.getLushiEmotStatus=function getLushiEmotStatus(e){return e.ofType("GET_LUSHI_EMOT_STATUS").pipe(Object(u.switchMap)(function(){return C.httpClient.get(String,"/special/goldLeague/getPackStatus")}),Object(c.map)(function(e){var t=e.error;return ma.receiveLushiEmotStatus(Number(t))}),Object(Wt.catchError)(function(e){return Object(s.of)({type:"error",payload:e})}))},EmotionEpics}(),ga=function emotionEpics_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(va.prototype,"emotionServices",[ha],{enumerable:!0,initializer:null}),va),Sa=(0,n.a.combineEpicsClass)(Ht,Er,Xr,li,wi,Pi,hn,kn,Tn,Yn,ca,_a),Na=r("c6a91");function barrageTipsActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageTipsActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Ca="BARRAGE_UPDATE_SYS_TIPS",Oa="BARRAGE_HIDE_SYS_TIPS",wa=function(e){function BarrageTipsAction(){return function barrageTipsActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageTipsAction),function barrageTipsActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return barrageTipsActions_inherits(BarrageTipsAction,e),BarrageTipsAction.updateSysTips=function updateSysTips(e){return{type:Ca,payload:e}},BarrageTipsAction.hideSysTips=function hideSysTips(e){return{type:Oa,payload:e}},BarrageTipsAction}(f.Action),Da=r("6e1e9"),Ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ka=Da.a.BARRAGE_LIMIT.VISITOR,Ra={isLockScreen:!1,bufferCount:0,defaultLimit:ka.DEFAULT,bufferLimit:ka.BUFFER,tipsInfo:""};var ja={barrageData:function barrageReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea({},Ra),t=arguments[1],r=t.type,i=t.payload,n={};switch(r){case Na.g:return Ea({},e,i);case Na.f:var a={isLockScreen:i};return!1===i&&(a.bufferCount=0),Ea({},e,a);case Na.d:var o=e.isLockScreen,l=e.bufferCount,s=e.bufferLimit,c=l+i;return o&&c<s?c>0&&(n={bufferCount:c}):n={isLockScreen:!1,bufferCount:0},Ea({},e,n);case Ca:return Ea({},e,{tipsInfo:i});default:return e}}},Pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ta={tipsInfo:"",isShow:!1};var Ba={barrageTips:function barrageTipsReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa({},Ta),t=arguments[1],r=t.type,i=t.payload;switch(r){case Ca:return Pa({},e,{tipsInfo:i.tipsInfo,isShow:i.isShow});case Oa:return Pa({},e,{isShow:i.isShow});default:return e}}};function barrageGeeActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageGeeActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Ma="BARRAGE_SHOW_GEE_TEST",La="BARRAGE_HIDE_GEE_TEST",za=function(e){function BarrageGeeAction(){return function barrageGeeActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageGeeAction),function barrageGeeActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return barrageGeeActions_inherits(BarrageGeeAction,e),BarrageGeeAction.showGeeTest=function showGeeTest(e){return{type:Ma,payload:e}},BarrageGeeAction.hideGeeTest=function hideGeeTest(e){return{type:La,payload:e}},BarrageGeeAction}(f.Action),Aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ia={dstUid:"",isShow:!1};var Fa={barrageGee:function barrageGeeReducers(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aa({},Ia),t=arguments[1],r=t.type,i=t.payload;switch(r){case Ma:return Aa({},e,{dstUid:i.dstUid,isShow:i.isShow});case La:return Aa({},e,{isShow:i.isShow});default:return e}}},xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ga={colors:{commonColor:"#f03",keywordsColor:"#46abff"},isShow:!1},Ua=/\|br\|/g,Ha=/\u201c([^\u201d]+)\u201d/g;var Wa={barrageCmd:function barrageCmdReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ga,t=arguments[1];switch(t.type){case Hr.c:var r=Object.assign({},Ga,t.payload.data),i=r.result,n=void 0===i?"\u6307\u4ee4\u64cd\u4f5c\u5931\u8d25\uff01":i,a=r.colors,o=function translateToHtml(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ga.keywordsColor;return e.replace(Ua,"<br/>").replace(Ha,'\u201c<span style="color:'+t+'">$1</span>\u201d')}(n,a.keywordsColor),l={commonColor:a.commonColor,isShow:!0};return n&&o&&(l.result=o),xa({},e,l);case Hr.a:return Object.assign({},e,{isShow:!1});default:return e}}};function chatRankActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatRankActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Va="WEEKRANK_RECEIVE",$a="OPEN_RANK_ALL",Ka="GET_USER_ROLE",qa="GET_DEFAULT_CONFIG",Qa="RECEIVE_ALLRANK_DATA",Ja="RECEIVE_MONTHRANK_DATA",Ya=function(e){function ChatRankAction(){return function chatRankActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRankAction),function chatRankActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return chatRankActions_inherits(ChatRankAction,e),ChatRankAction.receiveWeekRank=function receiveWeekRank(e){return{type:Va,payload:e}},ChatRankAction.openAllRank=function openAllRank(e){return{type:$a,payload:e}},ChatRankAction.getUserRole=function getUserRole(e){return{type:Ka,payload:e}},ChatRankAction.setDeafultConfig=function setDeafultConfig(e){return{type:qa,payload:e}},ChatRankAction.receiveAllRankSwitch=function receiveAllRankSwitch(e){return{type:Qa,payload:e}},ChatRankAction.receiveMonthRankSwitch=function receiveMonthRankSwitch(e){return{type:Ja,payload:e}},ChatRankAction}(f.Action),Xa={isRankAllShow:!1,isCloseAllRank:null,isCloseMonthRank:null};var Za={chatRank:function chatRank(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa,t=arguments[1];switch(t.type){case Va:return Object.assign({},e,{weekRankList:t.payload});case $a:return Object.assign({},e,{isRankAllShow:t.payload});case Ka:return Object.assign({},e,{userRole:t.payload});case qa:return Object.assign({},e,{defaultConfig:t.payload});case Qa:return Object.assign({},e,{isCloseAllRank:t.payload});case Ja:return Object.assign({},e,{isCloseMonthRank:t.payload});default:return e}}};function nobleRankActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleRankActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var eo="ONLINE_NOBLE_LIST",to="NOBLE_NUM_INFO",ro="NOBLE_SUM_INFO",io="NOBLE_IS_RENEW",no=function(e){function NobleRankActions(){return function nobleRankActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRankActions),function nobleRankActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return nobleRankActions_inherits(NobleRankActions,e),NobleRankActions.receiveIsRenew=function receiveIsRenew(e){return{type:io,payload:e}},NobleRankActions.receiveNobleList=function receiveNobleList(e){return{type:eo,payload:e}},NobleRankActions.receiveNobleNumList=function receiveNobleNumList(e){return{type:to,payload:e}},NobleRankActions.receiveNobleSum=function receiveNobleSum(e){return{type:ro,payload:e}},NobleRankActions}(f.Action),ao=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},oo={nobleLevel:0,isInProtected:0,trial:0,nobleList:[],nobleSum:0,nobleSumCi:0,nobleNumList:[],nobleNumListci:0};var lo={getNoble:function getNoble(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oo,t=arguments[1];switch(t.type){case io:return ao({},e,t.payload);case eo:return ao({},e,{nobleList:t.payload});case to:return ao({},e,{nobleNumList:t.payload.nobleNumList,nobleNumListci:t.payload.ci});case ro:return ao({},e,{nobleSum:t.payload.num,nobleSumCi:t.payload.ci});default:return e}}},so=function filterMedalData(e,t){return e.filter(function(e){return e.medalRid===t})},co={MEDAL_LIST_BACK:function MEDAL_LIST_BACK(e,t){return Object.assign({},t,e)},RECEIVE_MEDAL_SWITCH:function RECEIVE_MEDAL_SWITCH(e,t){return Object.assign({},t,{medalSwitch:e})},MEDAL_DATA_UPDATE:function MEDAL_DATA_UPDATE(e,t){return Object.assign({},t,e)},MEDAL_OPERATION_BACK:function MEDAL_OPERATION_BACK(e,t){switch(e.wareStatus){case 1:return Object.assign({},t,{wareStatus:1,wareMedalId:0});case 2:var r=0,i=t.medalList.slice(0);return t.medalList.forEach(function(t){r+=1,t.medalRid===e.wareMedalId&&(i.splice(r-1,1),i.unshift(t))}),Object.assign({},t,{wareStatus:2,wareMedalId:e.wareMedalId,medalList:i});default:return t}},MEDAL_UPDATE_BACK:function MEDAL_UPDATE_BACK(e,t){var r=e,i=t.medalList.slice(0),n="synfimd"===r.type?r.updateMedalRid||t.wareMedalId:t.ownerRoomId,a=so(i,n)[0],o=function searchMedalIndex(e,t){for(var r=0;r<e.length;r++)if(e[r].medalRid===t)return r;return-1}(i,n);return a?(r.fansMedal=Object.assign({},a.fansMedal,r.fansMedal),delete r.type,delete r.updateMedalRid,i.splice(o,1,Object.assign({},a,r)),Object.assign({},t,{medalList:i})):t},MEDAL_GET_BACK:function MEDAL_GET_BACK(e,t){var r=t.medalList.slice(0);return so(r,e.medalRid)[0]?t:(r.unshift(e),Object.assign({},t,{wareStatus:0===t.wareStatus?1:t.wareStatus,firstCharge:0,medalList:r}))},MEDAL_OPERATION_DELETE:function MEDAL_OPERATION_DELETE(e,t){var r=t.medalList.slice(0),i=0;return so(r,e)[0]?(t.medalList.forEach(function(t){i+=1,t.medalRid===e&&r.splice(i-1,1)}),Object.assign({},t,{medalList:r})):t}},uo={isShowMedalPanel:function isShowMedalPanel(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:0},t=arguments[1];switch(t.type){case"TOGGLE_MEDAL_PANEL":var r=t.payload;return Object.assign({},e,r);default:return e}},medalDialogStatus:function medalDialogStatus(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{dialogType:1,hoverShow:1,defaultShow:0}],t=arguments[1];switch(t.type){case"MEDAL_DIALOG_STATUS":return e.some(function(e){return e.dialogType===t.payload.dialogType})?e:[].concat(e,[t.payload]);case"CLEAR_MEDAL_DIALOG":return e.slice(0).filter(function(e){return e.dialogType!==t.payload});default:return e}},medalListMsgData:function medalListMsgData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{medalSwitch:0,wareStatus:0,ownerMedalName:"\u7c89\u4e1d",ownerMedalRank:0,isReqAnchorInfo:0,firstCharge:0,ownerRoomId:0,medalList:[]},t=arguments[1];return co[t.type]?co[t.type](t.payload,e):e}},po={medalDroppingList:function medalDroppingList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"MEDAL_DROPPING_LIST":return t.payload;default:return e}},medalDroppingClose:function medalDroppingClose(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;switch(arguments[1].type){case"MEDAL_DROPPING_CLOSE":return 0;default:return e}},medalDroppingRemainStatus:function medalDroppingRemainStatus(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(arguments[1].type){case"MEDAL_DROPPING_REMAIN_SWITCH":return e?0:1;default:return e}}};function horn4CategoryActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function horn4CategoryActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var fo="ROOM_PLAYERASIDE_SET_HORNCOUNT",bo="ROOM_PLAYERASIDE_SET_HORNMUTE",mo="ROOM_PLAYERASIDE_HANDLE_HORNRESPONSE",ho="ROOM_PLAYERASIDE_HANDLE_HORNNOBLE",vo="ROOM_PLAYERASIDE_HANDLE_HORNMODE",go=function(e){function Horn4CategoryActions(){return function horn4CategoryActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Horn4CategoryActions),function horn4CategoryActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return horn4CategoryActions_inherits(Horn4CategoryActions,e),Horn4CategoryActions.setHornCount=function setHornCount(e){return{type:fo,payload:e}},Horn4CategoryActions.handleHornResponse=function handleHornResponse(e){return{type:mo,payload:e}},Horn4CategoryActions.setNobleStatus=function setNobleStatus(e){return{type:ho,payload:e}},Horn4CategoryActions.setMute=function setMute(e){return{type:bo,payload:e}},Horn4CategoryActions.setMode=function setMode(e){return{type:vo,payload:e}},Horn4CategoryActions}(f.Action),yo=r("c0e50"),_o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},So={count:0,leadTipShowState:0,checkingCont:"",errorStatus:-1,mode:0,btnType:0,statusTxt:"",openType:0,nobleLevel:0,nobleProtectLevel:0,muteType:-1,muteDesc:"",unMuteTime:"",showTip:0};var No={horn4CategoryData:function horn4CategoryData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:So,t=arguments[1],r=t.payload;switch(t.type){case fo:return _o({},e,r);case bo:var i=parseInt(1e3*r.met,10);return _o({},e,{muteType:r.mtype,muteDesc:["\u623f\u95f4","\u623f\u95f4","\u5168\u7ad9","\u5168\u7ad9"][r.mtype-1],unMuteTime:yo.a.formatDate(i,"yyyy\u5e74MM\u6708dd\u65e5 hh:mm:ss")});case mo:case ho:return _o({},e,r);case vo:var n=r.btnType,a=_o({},e,r);return 3===n&&(a.statusTxt="\u5ba1\u6838\u672a\u901a\u8fc7\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165"),a;default:return e}}},Co=r("cfc6b"),Oo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},wo={isLogin:!1,status:1,isSetFansSpeak:!1,hasFansMedal:!1,isMute:!1,muteType:1,muteTime:0,fansColor:null,dataError:0};var Do={chatSendData:function chatSendData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wo,t=arguments[1];switch(t.type){case Co.e:return Oo({},e,{status:t.payload});case Co.c:var r=t.payload,i=r.mtype,n=r.met;return Oo({},e,{status:3,muteType:i,muteTime:n});case Co.b:return Oo({},e,{fansColor:t.payload});case Co.a:return Oo({},e,{cdTime:t.payload});case Co.d:return Oo({},e,{dataError:t.payload});default:return e}}};function enterEffectActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function enterEffectActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Eo="RECEIVE_LEVEL120_ENTER",ko="RECEIVE_NOBLE_ENTER",Ro="RECEIVE_WINDCLOUD_ENTER",jo="RECEIVE_NORMAL_ENTER",Po="RECEIVE_MOTORCADE_ENTER",To="RECEIVE_SHARK_ENTER",Bo="DELETE_LEVEL120_ENTER",Mo="DELETE_NOBLE_ENTER",Lo="DELETE_WINDCLOUD_ENTER",zo="DELETE_NORMAL_ENTER",Ao="DELETE_MOTORCADE_ENTER",Io="DELETE_SHARK_ENTER",Fo=function(e){function EnterEffectAction(){return function enterEffectActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterEffectAction),function enterEffectActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return enterEffectActions_inherits(EnterEffectAction,e),EnterEffectAction.receiveLevel120Enter=function receiveLevel120Enter(e){return{type:Eo,payload:e}},EnterEffectAction.receiveNobleEnter=function receiveNobleEnter(e){return{type:ko,payload:e}},EnterEffectAction.receiveWindCloudEnter=function receiveWindCloudEnter(e){return{type:Ro,payload:e}},EnterEffectAction.receiveNormalEnter=function receiveNormalEnter(e){return{type:jo,payload:e}},EnterEffectAction.receiveMotorcadeEnter=function receiveMotorcadeEnter(e){return{type:Po,payload:e}},EnterEffectAction.receiveSharkEnter=function receiveSharkEnter(e){return{type:To,payload:e}},EnterEffectAction.deleteEnter=function deleteEnter(e){return{type:e}},EnterEffectAction}(f.Action),xo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Go={level120Queue:[],nobleQueue:[],windCloudQueue:[],normalQueue:[],motorcadeQueue:[],sharkQueue:[]};var Uo={enterEffecUenter:function enterEffecUenter(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Go,t=arguments[1];switch(t.type){case Eo:return e.level120Queue.push(t.payload),xo({},e);case Bo:return e.level120Queue.shift(),xo({},e);case ko:return e.nobleQueue.push(t.payload),xo({},e);case Mo:return e.nobleQueue.shift(),xo({},e);case Ro:return e.windCloudQueue.push(t.payload),xo({},e);case Lo:return e.windCloudQueue.shift(),xo({},e);case jo:return e.normalQueue.push(t.payload),xo({},e);case zo:return e.normalQueue.shift(),xo({},e);case Po:return e.motorcadeQueue.push(t.payload),xo({},e);case Ao:return e.motorcadeQueue.shift(),xo({},e);case To:return e.sharkQueue.push(t.payload),xo({},e);case Io:return e.sharkQueue.shift(),xo({},e);default:return e}}},Ho=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Wo={config:[]};var Vo={chatEnterLevel120:function chatEnterLevel120(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo,t=arguments[1];switch(t.type){case Xt:var r=t.payload.data;return Ho({},e,{config:r});default:return e}}},$o={list:[{index:0,color:0,status:1,level:0},{status:0,level:6,color:2},{status:0,level:9,color:3},{status:0,level:12,color:6},{status:0,level:15,color:4},{status:0,level:18,color:5},{status:0,level:21,color:1}],selectedIndex:0,colorArr:["#2c3e50","#1e87f0","#7ac84b","#ff69b4","#ff7f00","#9b39f4","#f00"]};function chatToolBarActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatToolBarActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Ko=function(e){function ChatToolBarAction(){return function chatToolBarActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatToolBarAction),function chatToolBarActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return chatToolBarActions_inherits(ChatToolBarAction,e),ChatToolBarAction.openLetter=function openLetter(e){return{type:"OPEN_CHAT_LETTER",payload:e}},ChatToolBarAction.openFace=function openFace(e){return{type:"OPEN_CHAT_FACE",payload:e}},ChatToolBarAction.openFansBarrageBox=function openFansBarrageBox(e){return{type:"OPEN_FANS_BARRAGE_BOX",payload:e}},ChatToolBarAction.scrollToolbar=function scrollToolbar(e){return{type:"SCROLL_TOOL_BAR",payload:e}},ChatToolBarAction.observerFansBarrage=function observerFansBarrage(e){return{type:"OBSERVER_FANS_BARRAGE",payload:e}},ChatToolBarAction.sendSelectedIndex=function sendSelectedIndex(e){return{type:"SEND_SELECTED_INDEX",payload:e}},ChatToolBarAction.closeFansBarrage=function closeFansBarrage(e){return{type:"CLOSE_FANS_BARRAGE",payload:e}},ChatToolBarAction.updateCampColor=function updateCampColor(e){return{type:"UPDATE_CAMP_COLOR",payload:e}},ChatToolBarAction}(f.Action),qo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Qo={fansBarrageLv:$o.list,selectedIndex:0,colorValue:$o.colorArr[0],receiveSummerReward:!1},Jo={openLetter:function openLetterReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case"OPEN_CHAT_LETTER":return t.payload;default:return e}},openFace:function openFaceReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(arguments[1].type){case"OPEN_CHAT_FACE":return e?0:1;default:return e}},openFansBarrageBox:function openFansBarrageBoxReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(arguments[1].type){case"OPEN_FANS_BARRAGE_BOX":return e?0:1;default:return e}},chatToolBar:function chatToolBarReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qo,t=arguments[1];switch(t.type){case"SCROLL_TOOL_BAR":return Object.assign({},e,t.payload);case"OBSERVER_FANS_BARRAGE":return qo({},e,{fansBarrageLv:t.payload.list,selectedIndex:t.payload.selectedIndex,color:t.payload.color,colorValue:$o.colorArr[t.payload.selectedIndex],receiveSummerReward:t.payload.receiveSummerReward});case"SEND_SELECTED_INDEX":return qo({},e,{selectedIndex:t.payload.selectedIndex,color:t.payload.color,colorValue:$o.colorArr[t.payload.selectedIndex]});case"CLOSE_FANS_BARRAGE":return qo({},e,{color:0,selectedIndex:0,colorValue:$o.colorArr[0]});case"UPDATE_CAMP_COLOR":return qo({},e,{color:t.payload.color,selectedIndex:0,colorValue:t.payload.colorValue});default:return e}}};function chatNobleBarrageActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatNobleBarrageActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Yo=function(e){function ChatNobleBarrageActions(){return function chatNobleBarrageActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatNobleBarrageActions),function chatNobleBarrageActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return chatNobleBarrageActions_inherits(ChatNobleBarrageActions,e),ChatNobleBarrageActions.receiveNobleData=function receiveNobleData(e){return{type:"RECEIVE_NOBLE_DATA",payload:e}},ChatNobleBarrageActions.openNobleBarrageBox=function openNobleBarrageBox(e){return{type:"OPEN_NOBLE_BARRAGE_BOX",payload:e}},ChatNobleBarrageActions.toggleNobleBarrage=function toggleNobleBarrage(e){return{type:"TOGGLE_NOBLE_BARRAGE",payload:e}},ChatNobleBarrageActions.updateNobleReminder=function updateNobleReminder(e){return{type:"UPDATE_NOBLE_REMINDER",payload:e}},ChatNobleBarrageActions.closeNobleBarrage=function closeNobleBarrage(e){return{type:"CLOSE_NOBLE_BARRAGE",payload:e}},ChatNobleBarrageActions}(f.Action),Xo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Zo={btnStatus:0,isTipsShow:0,toggleStatus:0,isOpenReminder:!0,nobleChatBarrage:!1,isNobleBarrage:!1,nobleInfo:{nl:0,remindStatus:0}},el={openNobleBarrageBox:function openNobleBarrageBoxReducer(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case"OPEN_NOBLE_BARRAGE_BOX":return t.payload;default:return e}},nobleBarrageData:function nobleBarrageData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zo,t=arguments[1];switch(t.type){case"RECEIVE_NOBLE_DATA":return Object.assign({},e,t.payload);case"UPDATE_NOBLE_REMINDER":return Xo({},e,{nobleInfo:Xo({},e.nobleInfo,t.payload)});case"TOGGLE_NOBLE_BARRAGE":return Xo({},e,{isNobleBarrage:!e.isNobleBarrage});case"CLOSE_NOBLE_BARRAGE":return Xo({},e,{isNobleBarrage:!1});default:return e}}};function chatRankAllActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatRankAllActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var tl="ALL_RANK_RECEIVE",rl="OPEN_RANK_ALL",il="GET_DEFAULT_CONFIG",nl="RECEIVE_MONTH_RANK",al=function(e){function ChatRankAllAction(){return function chatRankAllActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRankAllAction),function chatRankAllActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return chatRankAllActions_inherits(ChatRankAllAction,e),ChatRankAllAction.receiveAllRank=function receiveAllRank(e){return{type:tl,payload:e}},ChatRankAllAction.receiveMonthRank=function receiveMonthRank(e){return{type:nl,payload:e}},ChatRankAllAction.openAllRank=function openAllRank(e){return{type:rl,payload:e}},ChatRankAllAction.setDeafultConfig=function setDeafultConfig(e){return{type:il,payload:e}},ChatRankAllAction}(f.Action),ol=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};var ll={chatRankAllData:function chatRankAllData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{count:0},t=arguments[1];switch(t.type){case tl:var r=t.payload;return ol({},e,{rankAllData:r});case nl:var i=t.payload;return ol({},e,{rankMonthData:i});case rl:return Object.assign({},e,{isRankAllShow:t.payload});case il:return Object.assign({},e,{defaultConfig:t.payload});default:return e}}};function shieldToolActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function shieldToolActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var sl={999:{id:999,type:"allShield",text:"\u5c4f\u853d\u5168\u90e8\u7279\u6548"},106:{id:106,type:"allGift",text:"\u5c4f\u853d\u5168\u90e8\u793c\u7269"},107:{id:107,type:"message",text:"\u5c4f\u853d\u6d88\u606f\u901a\u77e5"},108:{id:108,type:"videoBroadcast",text:"\u5c4f\u853d\u89c6\u9891\u5e7f\u64ad"},105:{id:105,type:"smallGift",text:"\u5c4f\u853d\u5c0f\u793c\u7269"}},cl={105:0,106:0,107:0,108:0},ul=function(e){function ShieldingActions(){return function shieldToolActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ShieldingActions),function shieldToolActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return shieldToolActions_inherits(ShieldingActions,e),ShieldingActions.switchShield=function switchShield(e){return{type:"SWITCH_SHIELD",payload:e}},ShieldingActions.updateShield=function updateShield(e){return{type:"UPDATE_SHIELD",payload:e}},ShieldingActions}(f.Action);var pl={shieldConfig:function shieldConfig(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.assign({},cl),t=arguments[1];switch(t.type){case"SWITCH_SHIELD":var r=Object.assign({},sl),i=t.payload,n="allShield"===i.type?1:0,a=r[999],o=Object.assign({},e);if(n?Object.keys(r).forEach(function(e){"allShield"!==r[e].type&&(r[e].state=a.state?0:1,o[e]=a.state?0:1)}):(r[i.id].state=i.state?0:1,o[i.id]=i.state?0:1),!n){var l=0;Object.keys(r).forEach(function(e){"allShield"!==r[e].type&&1===r[e].state&&(l+=1)}),4===l?(a.state=1,o[999]=1):l>0&&l<4?(a.state=2,o[999]=2):(a.state=0,o[999]=0)}return Object.assign({},o);case"UPDATE_SHIELD":var s=t.payload||{},c=function selectShieldNum(e){var t=0;return Object.keys(e).forEach(function(r){999!==r&&1===e[r]&&(t+=1)}),t}(s);return s[999]=0,c>=4?s[999]=1:c>0&&c<4&&(s[999]=2),Object.assign({},s);default:return e}}};function barrageFilterActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageFilterActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var fl="BARRAGEFILTER_SET_FILTER_DATA",dl=function(e){function BarrageFilterAction(){return function barrageFilterActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageFilterAction),function barrageFilterActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return barrageFilterActions_inherits(BarrageFilterAction,e),BarrageFilterAction.setFilterData=function setFilterData(e){return{type:fl,payload:e}},BarrageFilterAction}(f.Action),bl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ml={type:"global",keywords:[],levelFilter:0,levelLimit:"",keywordsFilter:0};var hl={barrageFilterReducers:function barrageFilterReducers(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ml,t=arguments[1],r=t.type,i=t.payload,n=void 0===i?{}:i;switch(r){case fl:return bl({},e,n);default:return e}}};function fansRankActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function fansRankActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var vl="FANS_RANK_LIST",gl="FANS_RANK_SUM",yl="INCREASE_FANS_SUM",_l="IS_OPEN_FANS",Sl="HAS_ROOM_FANSMEDAL",Nl="ROOM_FANS_MEDAL",Cl="OWNER_FNAS_RANK",Ol="OWNER_MEDAL_LEVEL",wl="FANS_RANKALL_SHOW",Dl="FANS_RANKALL_LIST",El=function(e){function FansRankActions(){return function fansRankActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankActions),function fansRankActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return fansRankActions_inherits(FansRankActions,e),FansRankActions.receiveFansList=function receiveFansList(e){return{type:vl,payload:e}},FansRankActions.receiveFansSum=function receiveFansSum(e){return{type:gl,payload:e}},FansRankActions.increaseFansSum=function increaseFansSum(e){return{type:yl,payload:e}},FansRankActions.updateOpenFans=function updateOpenFans(e){return{type:_l,payload:e}},FansRankActions.receiveHasRoomFansMedal=function receiveHasRoomFansMedal(e){return{type:Sl,payload:e}},FansRankActions.receiveRoomFansMedal=function receiveRoomFansMedal(e){return{type:Nl,payload:e}},FansRankActions.receiveOwnerFansRank=function receiveOwnerFansRank(e){return{type:Cl,payload:e}},FansRankActions.receiveOwnerMedaLevel=function receiveOwnerMedaLevel(e){return{type:Ol,payload:e}},FansRankActions.toggleFansRankAll=function toggleFansRankAll(e){return{type:wl,payload:e}},FansRankActions.receiveFansAllList=function receiveFansAllList(e){return{type:Dl,payload:e}},FansRankActions}(f.Action),kl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Rl={isOpenFans:!0,fansSum:0,fansSumCi:0,fansRankList:[],hasRoomFansMedal:0,roomFansMedal:"",ownerMedalLevel:"",ownerFansRank:"--",isShowFansRankAll:!1,fansRankAllList:[]};var jl={getFansRank:function getFansRank(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rl,t=arguments[1];switch(t.type){case _l:return kl({},e,{isOpenFans:t.payload});case gl:return kl({},e,{fansSum:t.payload.fc,fansSumCi:t.payload.ci});case yl:var r=e.fansSum>=50?e.fansSum+1:e.fansSum;return kl({},e,{fansSum:r});case vl:return kl({},e,{fansRankList:t.payload,isOpenFans:!0});case Sl:return kl({},e,{hasRoomFansMedal:!0,isOpenFans:!0});case Nl:return kl({},e,{roomFansMedal:t.payload});case Ol:return kl({},e,{ownerMedalLevel:t.payload});case Cl:return kl({},e,{ownerFansRank:t.payload});case wl:return kl({},e,{isShowFansRankAll:t.payload});case Dl:return kl({},e,{fansRankAllList:t.payload,isOpenFans:!0});default:return e}}},Pl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Tl={isShowDialog:!1,femalePrivilege:0,identSex:0,dlgText:"",btnText:"",slogan:"",desc:""},Bl=["\u5b9e\u540d\u8ba4\u8bc1\u4e3a\u5973\u6027\u7684\u7528\u6237\u53ef\u9886\u53d6\u7279\u6743","\u60a8\u7684\u5b9e\u540d\u8ba4\u8bc1\u7ed3\u679c\u4e3a\u7537\u6027\uff0c\u53ea\u80fd\u6b23\u8d4f\u800c\u4e0d\u53ef\u62e5\u6709\u5c0f\u59d0\u59d0\u7279\u6743~","\u60a8\u5df2\u901a\u8fc7\u5b9e\u540d\u8ba4\u8bc1\u4e14\u8ba4\u8bc1\u4e3a\u5973\u6027\uff0c\u53ef\u4ee5\u9886\u53d6\u7279\u6743~","\u76ee\u524d\u53ea\u652f\u6301\u5927\u9646\u8eab\u4efd\u8bc1\u5b9e\u540d\u8ba4\u8bc1\u4e3a\u5973\u6027\u7684\u7528\u6237\u624d\u80fd\u9886\u53d6\u7279\u6743"],Ml=["\u7acb\u5373\u8ba4\u8bc1","\u6715\u77e5\u9053\u4e86","\u9886\u53d6\u7279\u6743","\u6211\u77e5\u9053\u4e86"],Ll=["\u60a8\u5df2\u4eab\u6709\u5c0f\u59d0\u59d0\u7279\u6743","\u9886\u53d6\u6210\u529f\uff01"],zl=["\u5feb\u53bb\u76f4\u64ad\u95f4\u770b\u770b\u5427\uff01","\u60a8\u5df2\u4eab\u6709\u5c0f\u59d0\u59d0\u7279\u6743\uff0c\u5feb\u53bb\u76f4\u64ad\u95f4\u770b\u770b\u5427\uff01"];var Al={litterSisterData:function litterSisterData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tl,t=arguments[1];switch(t.type){case ai.f:return Pl({},e,{isShowDialog:!0});case ai.a:return Pl({},e,{isShowDialog:!1});case ai.e:var r=t.payload;if(0===Number(r.error)){var i=r.data;return Pl({},e,{femalePrivilege:i.femalePrivilege,identSex:i.identSex,dlgText:Bl[i.identSex],btnText:Ml[i.identSex],slogan:Ll[i.femalePrivilege],desc:zl[i.femalePrivilege],isShowDialog:!0})}return p.a.error(r.msg),e;case ai.b:var n=t.payload;return 0===Number(n.error)?Pl({},e,{femalePrivilege:1,identSex:2,dlgText:Bl[2],btnText:Ml[2],slogan:Ll[1],desc:zl[1]}):(p.a.error(n.msg),e);default:return e}}},Il={BarrageSuperLinkData:function BarrageSuperLinkData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{superLinkSwitch:0,superLinkShow:0,superLinkContent:"",superLinkError:0},t=arguments[1];switch(t.type){case Ei.b:return Object.assign({},e,t.payload);default:return e}}};function nobleReminderActions_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleReminderActions_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Fl="UPDATE_NOBLE_REMINDER_TYPE",xl=function(e){function NobleReminderActions(){return function nobleReminderActions_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleReminderActions),function nobleReminderActions_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return nobleReminderActions_inherits(NobleReminderActions,e),NobleReminderActions.openNobleReminder=function openNobleReminder(e){return{type:"OPEN_NOBLE_REMINDER",payload:e}},NobleReminderActions.updateNobleReminderType=function updateNobleReminderType(e){return{type:Fl,payload:e}},NobleReminderActions}(f.Action),Gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};var Ul={openNobleReminder:function openNobleReminderReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case"OPEN_NOBLE_REMINDER":return t.payload;default:return e}},updateNobleReminderType:function nobleReminderReducers_updateNobleReminderType(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case Fl:return Gl({},e,{nobleReminderType:t.payload});default:return e}}},Hl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Wl={hasInvisible:0,isInvisible:0};var Vl={getInvisible:function nobleVisibleReducers_getInvisible(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wl,t=arguments[1];switch(t.type){case di:return Hl({},e,{hasInvisible:t.payload});case bi:return Hl({},e,{isInvisible:t.payload});case mi:return Hl({},e,{isInvisible:!e.isInvisible});case hi:return Hl({},e,{isInvisible:t.payload});default:return e}}},$l={nobleImg:"",nobleName:"",frozenNobleYc:0,unfreezeDate:"",savedMoney:0};var Kl={nobleExpiredTipData:function nobleExpiredTipReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$l,t=arguments[1];switch(t.type){case Ai:return Object.assign({},$l,t.payload);default:return e}}},ql={treasureData:function treasureData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[],type:"",isDestory:!1,bindStatus:0,isGeePanelsShow:!1,isBanUser:0,banList:[]},t=arguments[1];switch(t.type){case gn.g:return e.data.push(t.payload.data),Object.assign({},e,{data:e.data,type:t.payload.type,isDestory:!1,isBanUser:0});case gn.h:return Object.assign({},e,{data:t.payload.data,type:t.payload.type,isDestory:!1,isBanUser:0});case gn.b:var r=function cutOverTimeData(e,t){var r=parseInt((new Date).getTime()/1e3,10),i=[];return e.shift(),e.forEach(function(e){t&&t.length?e.destroyTime>r&&t.indexOf(e.senderUid)<0&&i.push(e):e.destroyTime>r&&i.push(e)}),i}(e.data,e.banList);return Object.assign({},e,{data:r,isDestory:!0,isGeePanelsShow:!1,isBanUser:0});case gn.l:return Object.assign({},e,{bindStatus:1,isDestory:!1,isBanUser:0});case gn.n:return Object.assign({},e,{isGeePanelsShow:t.payload,isDestory:!1,isBanUser:0});case gn.a:var i=t.payload,n=e.banList||[];n.push(i);var a=function filterData(e,t){var r=[],i=0;return e&&e.length&&e[0]&&t.indexOf(e[0].senderUid)>=0?(e.forEach(function(e){t.indexOf(e.senderUid)<0&&r.push(e)}),i=1):r=e,{backList:r,type:i}}(Object.assign(e.data),n);return Object.assign({},e,{data:a.backList||[],isDestory:a.type>0?1:0,isBanUser:a.type,banList:n})}return e},treasureDrawResult:function treasureDrawResult(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},t=arguments[1];switch(t.type){case gn.e:return Object.assign({},e,{data:t.payload,isShowGee:!1});case gn.f:return Object.assign({},e,{data:{},isShowGee:!1});case gn.k:return Object.assign({},e,{isShowGee:!0});case gn.j:return Object.assign({},e,{data:{},isShowGee:!1})}return e},tipsMsg:function tipsMsg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},t=arguments[1];switch(t.type){case gn.m:return Object.assign({},e,{data:t.payload});case gn.j:return{data:{isban:1}}}return e},treasureLuckyTips:function treasureLuckyTips(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case gn.i:return Object.assign({},e,t.payload);case gn.c:return{}}return e},treasureInfoFlag:function treasureInfoFlag(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case gn.n:return t.payload}return e}},Ql=r("ee55f"),Jl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Yl={hasGetData:!1,isVisitor:!0,isNormal:!1,isAnchor:!1,isRoomAdmin:!1,isSuperAdmin:!1};var Xl={userRoleData:function userRoleData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yl,t=arguments[1];switch(t.type){case Ql.a:return Jl({},e,t.payload,{hasGetData:!0});default:return e}}},Zl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},es={isShow:!1,isInit:!1,remindIsShow:!1,selectIndex:-1,color:"",campList:[],giftIds:[]};var ts={chatCamp:function chatCampReducers(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zl({},es),t=arguments[1],r=t.type,i=t.payload;switch(r){case Rn.e:return Zl({},e,{isShow:i.isShow,remindIsShow:!1});case Rn.c:return Zl({},e,{campList:i.campList,isInit:i.isInit,remindIsShow:i.remindIsShow});case Rn.d:return Zl({},e,{selectIndex:i.campId,giftIds:i.giftIds,color:i.color});case Rn.a:return Zl({},e,{isShow:!1,giftIds:[],color:"",selectIndex:-1});default:return e}}},rs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},is={gameStage:0,isGaming:0,matchingTeams:[],teamsList:[],inviteNum:0,ticketNum:0,shareCode:"",showVoteDialog:!1};var ns={lolVoteData:function lolVoteReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:is,t=arguments[1];switch(t.type){case zn:var r=t.payload,i=r.gameStage,n=r.isGaming,a=r.teamsList1,o=r.teamsList2;return rs({},e,{gameStage:i,isGaming:n,matchingTeams:a,teamsList:o});case In:return rs({},e,{showVoteDialog:!0});case Fn:return rs({},e,{showVoteDialog:!1});case xn:return rs({},e,{shareCode:t.payload});case An:var l=t.payload,s=l.ticketNum,c=l.inviteNum,u=l.teamsList;return rs({},e,{ticketNum:s,inviteNum:c,teamsList:u});case Gn:var p=t.payload,f=e;return f.ticketNum=p.ticketNum,f.teamsList.forEach(function(e){var t=e;e.id===p.tid&&(t.isSupport=1)}),f;default:return e}}},as=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},os={roleList:[],selectedRole:null};var ls={chatRoleBarrageData:function chatRoleBarrageData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os,t=arguments[1],r=t.type,i=t.payload;switch(r){case oa.c:return as({},e,{roleList:i});case oa.d:return as({},e,{selectedRole:i});case oa.a:return as({},e,{selectedRole:null});default:return e}}},ss=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},cs={lushiStatusCode:""};var us={emotionData:function emotionReducer(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs,t=arguments[1];switch(t.type){case ba:return ss({},e,{lushiStatusCode:t.payload});default:return e}}},ps=r("02e3f"),fs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ds={type:"",visible:!1};var bs={followTipsData:function followTipsData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ds,t=arguments[1];switch(t.type){case ps.b:return fs({},e,t.payload,{visible:!0});case ps.a:return fs({},e,t.payload,{visible:!1});default:return e}}},ms=Object.assign({},ja,Ba,Fa,Wa,Za,lo,uo,po,No,Do,Uo,Vo,Jo,el,ll,pl,hl,jl,Al,Il,Ul,Vl,Kl,ql,Xl,ts,ns,ls,us,bs),hs=r("8af19"),vs=r.n(hs),gs=(r("00265"),r("7d4e5")),ys=r("fa757"),_s=r("4eabb"),Ss=r("97975"),Ns=r("eacfc"),Cs=r("313df"),Os=r("2de2f"),ws=r("d38ed"),Ds=r.n(ws),Es=r("38c54"),ks=r.n(Es);var Rs=new ye.Logger,js=function indexCrease(e,t){var r=Math.log(e);return parseInt(t*(r/2<1?1:r)+1,10)},Ps=function linearCrease(e){return e+1},Ts=function(){function BarrageQueue(e){var t=this;!function barrageQueue_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageQueue),this.config=Object.assign({},{maxQueueLength:200,hotplan:200,minThreshold:40,maxThreshold:50,maxCacheLength:3e3,render:function render(e){return Rs.log("[BarrageQueue] - render: ",e)},destroy:function destroy(e){return Rs.log("[BarrageQueue] - destroy: ",e)}},e),this.CACHE=[],this.RENDERED=[],this.FPS=new ks.a({force:!0,update:function update(e){t.CACHE.length?t.release(e):t.FPS.stop()}}),this.renderCount=1}return BarrageQueue.prototype.push=function push(e,t){var r=Array.isArray(e)?e:[e],i=this.CACHE.length+r.length-this.config.maxCacheLength;return i>0&&r.splice(-i),r.length&&(this.CACHE=t?r.concat(this.CACHE):this.CACHE.concat(r),this.FPS.start()),this},BarrageQueue.prototype.clear=function clear(){"function"===typeof this.config.destroy&&this.config.destroy.call(null,this.RENDERED),this.CACHE=[],this.RENDERED=[]},BarrageQueue.prototype.release=function release(e){var t=(e||{}).fps,r=this.config;this.renderCount=document.hidden?64:this.updateRenderCount(t),this.renderCount>r.hotplan&&(this.renderCount=r.hotplan);var i=this.CACHE.splice(0,this.renderCount);i.length&&(this.RENDERED=this.RENDERED.concat(i),"function"===typeof r.render&&r.render.call(null,{list:i,cacheLength:this.CACHE.length}));var n=this.RENDERED.splice(0,this.RENDERED.length-r.maxQueueLength);n.length&&"function"===typeof r.destroy&&r.destroy.call(null,n)},BarrageQueue.prototype.updateRenderCount=function updateRenderCount(e){return e>this.config.maxThreshold?js(e-this.config.maxThreshold,this.renderCount):e<this.config.minThreshold?Ps(parseInt(this.renderCount/2,10)):Ps(this.renderCount)},BarrageQueue.prototype.updateConfig=function updateConfig(e){this.config=Object.assign({},this.config,e)},BarrageQueue}(),Bs={create:function create(e){return new Ts(e)}},Ms=r("e4da0"),Ls="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var zs,As,Is,Fs,xs,Gs,Us,Hs=new ye.Logger,Ws=function isValidString(e){return e&&"string"===typeof e},Vs=function isFunction(e){return"function"===typeof e},$s=function isPlainObject(e){if(e&&"object"===("undefined"===typeof e?"undefined":Ls(e))&&!e.nodeType&&e!==e.window){var t=function _hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)};return!(e.constructor&&!t(e,"constructor")&&!t(e.constructor.prototype,"isPrototypeOf"))}return!1},Ks=function forEach(e,t){if(Array.isArray(e))for(var r=0,i=e.length;r<i&&!1!==t.call(e[r],e[r],r);r++);if($s(e)){var n=Object.prototype.hasOwnProperty;for(var a in e)if(n.call(e,a)&&!1===t.call(e[a],e[a],a))break}},qs=function(){function BarrageBase(e){var t=this;!function barrageBase_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageBase);var r=e||{},i=r.element,n=void 0===i?null:i,a=r.itemClassName,o=void 0===a?"Barrage-listItem":a,l=r.currentUserId,s=void 0===l?-1:l,c=r.barrageLimit,u=(c=void 0===c?{}:c).defaultLimit,p=void 0===u?200:u,f=c.bufferLimit,d=void 0===f?100:f,b=r.callbacks,m=(b=void 0===b?{}:b).init,h=b.render,v=b.destroy;n&&1===n.nodeType?(this.$barrageList=n,this.itemClassName=o,this.currentUserId=parseInt(s,10),this.barrageLimit={defaultLimit:p,bufferLimit:d},this.callbacks={render:Vs(h)?h:function(){},destroy:Vs(v)?v:function(){}},this.PROTOCOL={},this.MODULE={},this.QUEUE=Bs.create({maxQueueLength:p,render:function render(e){return t.render(e)},destroy:function destroy(e){return t.destroy(e)}}),this.subscribe()):Hs.error("[Barrage-System]: The mount point does not exist!!!"),Vs(m)&&m.call(this)}return BarrageBase.prototype.subscribe=function subscribe(){var e=this;Ms.a.subscribe(Na.g,function(t){var r=t||{},i=r.defaultLimit,n=r.bufferLimit;e.barrageLimit={defaultLimit:i,bufferLimit:n}}),Ms.a.subscribe(Na.f,function(t){var r=e.barrageLimit,i=r.defaultLimit,n=r.bufferLimit;e.QUEUE.updateConfig({maxQueueLength:t?i+n:i})}),Ms.a.subscribe(Na.a,function(){e.QUEUE.clear()},!1)},BarrageBase.prototype.register=function register(e,t){var r=this,i=(t||{}).protocol,n="";switch(i=Array.isArray(i)?i:[i],!1){case Ws(e):n="The componet name '"+e+"' must be a valid string.";break;case!this.MODULE[e]:n="The component name '"+e+"' has been used";break;case $s(t):n="The '"+e+"' componet must be a plain object.";break;case Ws(i.join("")):n="The '"+e+"' component's protocol is not a valid string or an empty array."}return n?Hs.error("[Barrage-System]: "+n):(Ks(i,function(t){Ws(t)&&(r.PROTOCOL[t]=r.PROTOCOL[t]||[],r.PROTOCOL[t].includes(e)||r.PROTOCOL[t].push(e))}),this.MODULE[e]=t),this},BarrageBase.prototype.push=function push(e){var t=this.model(e)||{},r=t.unshiftData,i=void 0===r?[]:r,n=t.pushData,a=void 0===n?[]:n;i.length&&this.QUEUE.push(i,!0),a.length&&this.QUEUE.push(a)},BarrageBase.prototype.model=function model(e){var t=this,r=[],i=[];return Ks(Array.isArray(e)?e:[e],function(e){Ks(t.PROTOCOL[e.type],function(n){var a={},o=t.MODULE[n]||a,l=Object.assign({},o,{data:e}),s=o.model;Vs(s)&&(s=s.call(l,e)),s&&(Ks(s,function(t,r){Ws(t)&&(a[r]=e[t]),Vs(t)&&(a[r]=t.call(l,e))}),a.uniqueIdentifier=function generateGID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=((new Date).getTime()+16*Math.random())%16|0;return("x"===e?t:3&t|8).toString(16)})}(),a.barrageName=n,a.isSelf=void 0===a.isSelf?parseInt(a.senderId,10)===t.currentUserId:a.isSelf,a.unshift||a.isSelf?r.push(a):i.push(a))})}),{unshiftData:r,pushData:i}},BarrageBase.prototype.destroy=function destroy(e){var t=this,r=(Array.isArray(e)?e:[e]).length;r>0&&([].slice.call(this.$barrageList.querySelectorAll("."+this.itemClassName)).forEach(function(e,i){i<r&&t.$barrageList.removeChild(e)}),this.callbacks.destroy.call(this,e))},BarrageBase.prototype.render=function render(e){var t=this,r=!1,i=[],n=[],a=document.createDocumentFragment(),o=e||{},l=o.list,s=void 0===l?[]:l,c=o.cacheLength,u=void 0===c?0:c;Ks(Array.isArray(s)?s:[s],function(e){if($s(e)){var o=t.MODULE[e.barrageName]||{},l=Object.assign({},o,{data:e}),s=Vs(o.render)?o.render.call(l,e):null;if(s){var c=document.createElement("li");c.id=e.uniqueIdentifier,c.className=t.itemClassName+(e.selector?" "+e.selector:""),c.innerHTML=s,a.appendChild(c),Vs(o.method)&&n.push({context:l,method:o.method,data:e}),e.isSelf&&(r=!0),i.push(e)}}}),a.hasChildNodes()&&(this.$barrageList.appendChild(a),this.callbacks.render.call(this,{hasSelfBarrage:r,cacheLength:u,data:i}),n.length&&this.method(n))},BarrageBase.prototype.method=function method(e){e.forEach(function(e){var t=e||{},r=t.context,i=t.method,n=t.data;i.call(r,n)})},BarrageBase}(),Qs=void 0,Js=function create(e,t){return Qs||(Qs=new qs(e)),Vs(t)&&t.call(Qs),Qs},Ys=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function barrageScroll_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function barrageScroll_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Xs=n.a.Service,Zs=/\s+/g,ec=(zs=Xs(Cs.a),As=Xs(C.DataCenter.global),Is=Xs(C.DataCenter.common),Fs=function(){function BarrageScroll(e){var t=this;!function barrageScroll_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageScroll),barrageScroll_initDefineProp(this,"barrageService",xs,this),barrageScroll_initDefineProp(this,"global",Gs,this),barrageScroll_initDefineProp(this,"common",Us,this);var r=e.main,i=e.scrollbar;r&&1===r.nodeType&&(this.config=Ys({},e,{floatingClass:"js-floating-barrage",nobleBarrageClass:"js-noblefloating-barrage",fansBarrageClass:"js-fansfloating-barrage",fansBarrageBgClass:"Barrage-listItem--floatingFansBadgeBg",floatingContainer:document.getElementById("js-floatingbarrage-container"),floatingTimer:null}),this.common.get("$DATA").subscribe(function(e){t.nobleBarrageFloatingSwitch=e.get("colligate.NobleSuspend")}),Ms.a.subscribe(Na.a,function(){i.update()},!1),Ms.a.subscribe(Na.d,function(){t.updateBarrageScroll(),i.update()},!1),Ms.a.subscribe(Na.e,function(){t.updateBarrageScroll()},!1),Ms.a.subscribe(Na.h,function(e){t.watchScroll(e)},!1))}return BarrageScroll.prototype.updateBarrageScroll=function updateBarrageScroll(){var e=this.config.scrollbar;this.barrageService.getState("isLockScreen")||e.scrollToBottom()},BarrageScroll.prototype.watchScroll=function watchScroll(){var e=this.barrageService,t=this.config.scrollbar;if(t){var r=t.getClientHeight(),i=t.getScrollHeight(),n=t.getScrollTop();parseInt(i-n-r,10)<=0?e.toggleLockScreen(!1):e.toggleLockScreen(!0),this.nobleBarrageFloatingSwitch&&this.watchNobleBarrageFloating()}},BarrageScroll.prototype.watchNobleBarrageFloating=function watchNobleBarrageFloating(){for(var e=this.config,t=e.main,r=e.list,i=e.floatingClass,n=e.fansBarrageClass,a=e.fansBarrageBgClass,o=e.floatingContainer,l=r.getElementsByClassName(i)||[],s=t.getBoundingClientRect().top,c=0;c<l.length;c++){var u=l[c];if(u){var p=u.className,f=void 0===p?"":p,d=f.split(Zs);if(!(d.indexOf(i)>-1&&u.getBoundingClientRect().top<=s))break;var b=u.cloneNode(!0);b.setAttribute("data-guid",u.id),b.id="",o.innerHTML="",d.indexOf(n)>-1&&(b.className+=" "+a),o.appendChild(b),u.className=f.replace(i+" "," "),this.startDelayRemove(b)}}},BarrageScroll.prototype.startDelayRemove=function startDelayRemove(e){e&&e.parentNode&&(clearTimeout(this.config.floatingTimer),this.config.floatingTimer=setTimeout(function(){e.parentNode.removeChild(e)},3e3))},BarrageScroll}(),xs=barrageScroll_applyDecoratedDescriptor(Fs.prototype,"barrageService",[zs],{enumerable:!0,initializer:null}),Gs=barrageScroll_applyDecoratedDescriptor(Fs.prototype,"global",[As],{enumerable:!0,initializer:null}),Us=barrageScroll_applyDecoratedDescriptor(Fs.prototype,"common",[Is],{enumerable:!0,initializer:null}),Fs),tc=void 0,rc=function init(e){return tc||(tc=new ec(e)),tc},ic=r("ed531"),nc=r("c3dbc"),ac=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},oc=o.a.decode,lc={id:"1500000004",title:"\u7ea2\u8272\u6635\u79f0\uff1a\u7d2f\u8ba1\u5145\u503c\u8d85\u8fc71000\u9c7c\u7fc5\u53ef\u83b7\u5f97\u3002"},sc=function htmlEscape(e){return"string"===typeof e&&e.length?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/'/g,"&#39;").replace(/"/g,"&quot;").replace(/\s/g," "):""},cc=function getNumberValue(e,t){return parseInt(e,10)||t},uc=function getIsShowSuperIcon(e){return parseInt(isNaN(e)?1:e,10)},pc=function getUserCqName(e){var t=e||10;return 0===t||"0"===t?"\u916c\u52e4\u7528\u6237":1===t||"1"===t?"\u521d\u7ea7\u916c\u52e4\u7528\u6237":2===t||"2"===t?"\u4e2d\u7ea7\u916c\u52e4\u7528\u6237":3===t||"3"===t?"\u9ad8\u7ea7\u916c\u52e4\u7528\u6237":""},fc=function handleEL(e,t){if(t&&t.length)for(var r=t.length,i=0;i<r;i++){if("namered"===e&&t[i].eid&&lc&&t[i].eid===lc.id)return e;if("namegold"===e&&t[i].eid&&"1500000082"===t[i].eid)return e}return!1},dc=function getChargeNameObj(e){var t={};return"namegold"===fc("namegold",e)?(t.color="gold",t.title="\u91d1\u8272\u6635\u79f0"):"namered"===fc("namered",e)?(t.color="red",t.title=lc.title):!function checkGirlPri(e,t){for(var r=0,i=e.length;r<i;r++)if(parseInt(e[r].eid,10)===t)return!0;return!1}(e,1500000173)?(t.color="blue",t.title=""):(t.color="red",t.title=""),t},bc=function getEnumArr(e){var t=[];return(e||"").split("/").forEach(function(e){e&&t.push(e)}),t},mc=function parseData(e){var t=e.el,r=e.hb,i=e.ht;return ac({},e,{el:t?oc(t).map(function(e){return oc(e)}):[],hb:bc(r),ht:bc(i)})},hc=function getRankTypeName(e){return 1===e||"1"===e?"\u8d21\u732e\u5468\u699c":2===e||"2"===e?"\u8d21\u732e\u603b\u699c":"\u8d21\u732e\u5468\u699c"},vc=function parents(e,t){var r=function dir(e,t){var r=[],i=e;do{1===(i=i[t]).nodeType&&r.push(i)}while(9!==i.nodeType);return r}(e,"parentNode");if(!t)return r;for(var i=0;i<r.length;i++)for(var n=r[i].className.split(" "),a=0,o=n.length;a<o;a++)if(n[a]===t)return r[i];return null},gc=function hasClass(e,t){var r=!1;return e.className.split(/\s+/).forEach(function(e){e===t&&(r=!0)}),r},yc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function barrageMedalServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageMedalServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var _c=r("3e908"),Sc=function(e){function BarrageMedalServices(){!function barrageMedalServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageMedalServices);var t=function barrageMedalServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.data=[],t.chatAchievement=[],t.resourceUrl="//res.douyucdn.cn//resource/",t}return barrageMedalServices_inherits(BarrageMedalServices,e),BarrageMedalServices.prototype.setMedalData=function setMedalData(e){var t=e[0],r=e[1],i=e[2],n=e[3],a=t.el,o=t.hb;return this.data=[],this.chatAchievement=[],this.effectInfo=r,this.madelConfig=i||null,this.achievementConfig=n||{},this.setFansDayData(a),this.setEntranceData(a),this.setAnnualData(a),this.setWeekStarData(a),this.setJifenData(a),this.setFansRecharge(a),this.setGuessRankData(a),this.setAchievementMedal(o),yc({},t,{chatMedal:this.data,chatAchievement:this.chatAchievement})},BarrageMedalServices.prototype.setFansDayData=function setFansDayData(e){var t=this,r=[1500000231,1500000232,1500000233,1500000234,1500000235,1500000236,1500000237,1500000238];e.length&&t.madelConfig&&e.forEach(function(e){r.forEach(function(r){parseInt(e.eid,10)===r&&t.madelConfig[e.eid]&&t.data.push({title:t.madelConfig[e.eid].name,img:t.resourceUrl+t.madelConfig[e.eid].web_img,link:null,eid:e.eid})})})},BarrageMedalServices.prototype.setEntranceData=function setEntranceData(e){var t=this;e.length&&t.effectInfo&&e.forEach(function(e){e.etp&&"1"===e.etp&&e.ef&&"1"===e.ef&&t.effectInfo[e.eid]&&t.data.push({title:t.effectInfo[e.eid].txt,img:""+t.resourceUrl+t.effectInfo[e.eid].icon,link:null,eid:e.eid})})},BarrageMedalServices.prototype.setAnnualData=function setAnnualData(e){var t=this,r=[1500000225,1500000226,1500000227,1500000228];e.length&&t.madelConfig&&e.forEach(function(e){r.forEach(function(r){parseInt(e.eid,10)===r&&t.madelConfig[r]&&t.data.push({title:t.madelConfig[r].name,img:t.resourceUrl+t.madelConfig[r].web_img,link:null,eid:e.eid})})})},BarrageMedalServices.prototype.setWeekStarData=function setWeekStarData(e){var t=this,r=[1500000142,1500000141,1500000140,1500000139];e.length&&t.madelConfig&&e.forEach(function(e){r.forEach(function(r){parseInt(e.eid,10)===r&&t.madelConfig[r]&&t.data.push({title:t.madelConfig[r].desc,img:t.resourceUrl+t.madelConfig[r].web_img,link:t.madelConfig[r].link||null,eid:e.eid})})})},BarrageMedalServices.prototype.setJifenData=function setJifenData(e){var t=this,r=1600028076;e.length&&t.madelConfig&&e.forEach(function(i,n){parseInt(e[n].eid,10)===r&&t.madelConfig[r]&&t.data.push({title:t.madelConfig[r].desc,img:t.resourceUrl+t.madelConfig[r].web_img,link:null,eid:i.eid})})},BarrageMedalServices.prototype.setFansRecharge=function setFansRecharge(e){var t=this;e.length&&e.forEach(function(r,i){1500000160===parseInt(e[i].eid,10)&&t.data.push({title:"\u9996\u51456\u5143\u4e13\u5c5e\u5fbd\u7ae0",img:_c,link:null,eid:r.eid})})},BarrageMedalServices.prototype.setGuessRankData=function setGuessRankData(e){var t=this;e.length&&t.madelConfig&&e.forEach(function(r,i){1500000230===parseInt(e[i].eid,10)&&t.madelConfig[1500000230]&&t.data.push({title:t.madelConfig[1500000230].name,img:t.resourceUrl+t.madelConfig[1500000230].web_img,link:null,eid:r.eid})})},BarrageMedalServices.prototype.setAchievementMedal=function setAchievementMedal(e){var t=this;e.length&&e.forEach(function(e){t.chatAchievement.push({achievementId:e,imgType:t.achievementConfig[e]&&t.achievementConfig[e].smallIconType,img:t.achievementConfig[e]&&2===+t.achievementConfig[e].smallIconType?t.achievementConfig[e].smallIcon2:t.achievementConfig[e].smallIcon})})},BarrageMedalServices}(f.Service);function barrageMotorServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageMotorServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Nc,Cc,Oc,wc,Dc,Ec=function(e){function BarrageMotorServices(){return function barrageMotorServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageMotorServices),function barrageMotorServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return barrageMotorServices_inherits(BarrageMotorServices,e),BarrageMotorServices.prototype.loadMotorcadeData=function loadMotorcadeData(){return C.jsonpClient.get(String,"//webconf.douyucdn.cn//resource/common/fleet/fleet_config.json","motorcadeConfig")},BarrageMotorServices.prototype.getMotorcadeConfig=function getMotorcadeConfig(e,t){if(!t)return"";var r="",i=e.cbid||"",n=JSON.parse(t);if(i&&n&&n.list){var a=n.list[i];a&&(r=a.flag)}return r},BarrageMotorServices.prototype.getMotorcadeBg=function getMotorcadeBg(e,t){if(!t)return"";var r="",i=e.cbid||"",n=JSON.parse(t);if(i&&n&&n.flagBgListV49){var a=n.flagBgListV49[i];a&&(r=a.web)}return r},BarrageMotorServices}(f.Service);function AnnualBabyDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function AnnualBabyDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function AnnualBabyDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function AnnualBabyDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function AnnualBabyDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var kc=C.basicTypes.string,Rc=Object(ye.log)((Cc=function(e){function AnnualBabyDto(){var t,r;!function AnnualBabyDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AnnualBabyDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=AnnualBabyDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),AnnualBabyDto_initDefineProp(r,"name",Oc,r),AnnualBabyDto_initDefineProp(r,"link",wc,r),AnnualBabyDto_initDefineProp(r,"pic",Dc,r),AnnualBabyDto_possibleConstructorReturn(r,t)}return AnnualBabyDto_inherits(AnnualBabyDto,e),AnnualBabyDto}(C.EntityDto),Oc=AnnualBabyDto_applyDecoratedDescriptor(Cc.prototype,"name",[kc],{enumerable:!0,initializer:null}),wc=AnnualBabyDto_applyDecoratedDescriptor(Cc.prototype,"link",[kc],{enumerable:!0,initializer:null}),Dc=AnnualBabyDto_applyDecoratedDescriptor(Cc.prototype,"pic",[kc],{enumerable:!0,initializer:null}),Nc=Cc))||Nc,jc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function barrageBabyServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageBabyServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Pc,Tc,Bc,Mc,Lc,zc,Ac,Ic,Fc=r("b0316"),xc=function(e){function BarrageBabyServices(){!function barrageBabyServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageBabyServices);var t=function barrageBabyServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.defaultConfig={title:"",img:"",link:""},t.data=[],t}return barrageBabyServices_inherits(BarrageBabyServices,e),BarrageBabyServices.prototype.setSharkData=function setSharkData(e){var t=this;e.length&&this.madelConfig&&!this.data.length&&e.forEach(function(e){1500000124===parseInt(e.eid,10)&&t.data.push({title:"\u5b8c\u6210\u5145\u503c\u6216\u6536\u96c6\u6210\u5c31\uff01\u5c0a\u4eab\u73cd\u85cf\u9ca8\u9c7c\u738b\u840c\u5ba0",img:Fc,link:"/t/DouyuKing",eid:e.eid})})},BarrageBabyServices.prototype.setAnnualData=function setAnnualData(e,t){var r=this;e.length&&!this.data.length&&e.forEach(function(e){Object.keys(t).forEach(function(i){parseInt(e.eid,10)===parseInt(i,10)&&r.data.push({title:t[i].name||r.defaultConfig.title,img:t[i].pic||r.defaultConfig.img,link:t[i].link||r.defaultConfig.link,eid:e.eid})})})},BarrageBabyServices.prototype.setAchievementMedal=function setAchievementMedal(e){var t=this;e.length&&t.achievementConfig&&e.forEach(function(e){t.data.push({achievementId:e,img:t.achievementConfig[e]&&t.achievementConfig[e].smallIcon})})},BarrageBabyServices.prototype.setBabyData=function setBabyData(e){var t=e[0],r=e[1],i=e[2],n=e[3],a=t.el,o=t.ht;return this.madelConfig=i,this.achievementConfig=n||{},this.data=[],this.setAchievementMedal(o),this.setAnnualData(a,r),this.setSharkData(a),jc({},t,{chatBaby:this.data})},BarrageBabyServices.prototype.loadAnnuaBabyData=function loadAnnuaBabyData(){return C.jsonpClient.get(Object(C.Dictionary)(Rc),"//webconf.douyucdn.cn//resource/common/annual2017/web_barrage_tail.json","annual2017BarrageTail")},BarrageBabyServices}(f.Service),Gc=r("c659d"),Uc=r("3358e"),Hc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function chatNobleBarrageServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function chatNobleBarrageServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function chatNobleBarrageServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatNobleBarrageServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function chatNobleBarrageServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Wc=n.a.Store,Vc=n.a.Service,$c=w.a.socketStream,Kc=w.a.socketProxy;window.socketProxy=Kc;var qc,Qc,Jc,Yc,Xc,Zc,eu,tu,ru,iu,nu,au,ou,lu,su,cu,uu,pu=(Pc=Vc(C.DataCenter.common),Tc=Vc(Uc.a),Bc=Wc(),Object(ye.log)((Lc=function(e){function ChatNobleBarrageServices(){var t,r;!function chatNobleBarrageServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatNobleBarrageServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=chatNobleBarrageServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),chatNobleBarrageServices_initDefineProp(r,"common",zc,r),chatNobleBarrageServices_initDefineProp(r,"commonDataService",Ac,r),chatNobleBarrageServices_initDefineProp(r,"store",Ic,r),chatNobleBarrageServices_possibleConstructorReturn(r,t)}return chatNobleBarrageServices_inherits(ChatNobleBarrageServices,e),ChatNobleBarrageServices.prototype.getEnterRoomData=function getEnterRoomData(){var e=this;$c.subscribe("memberinfores",function(t){e.common.get("$DATA").subscribe(function(r){var i=e.resetNobleBarrage(e.leInfoHandle(t),r),n=e.updateNobleReminder(i);e.store.dispatch(Yo.receiveNobleData(i)),e.store.dispatch(Yo.updateNobleReminder(n))})})},ChatNobleBarrageServices.prototype.resetNobleBarrage=function resetNobleBarrage(e,t){var r=(this.store.getState().nobleBarrageData||{}).nobleInfo,i={};i.nobleInfo=Hc({},r);var n=i.nobleInfo;if(n.load=!0,n.npl=e.npl||0,n.ncp=e.ncp||0,i.isOpenReminder=!1,+e.nl>2&&+e.nl<7){n.nl=e.nl;var a=t.get("room.nobleConfig["+e.nl+"]")||{};n.ncp=parseInt(a.noble_barrage,10)||0,i.btnStatus=1,i.isNobleBarrage=!0}return 1===+n.ncp?(i.nobleChatBarrage=!0,i.toggleStatus=1,i.isTipsShow=1,i.isOpenReminder=!1):(n.nl=e.nl,i.toggleStatus=0,i.btnStatus=0,i.isOpenReminder=!0),i},ChatNobleBarrageServices.prototype.updateNobleReminder=function updateNobleReminder(e){var t=e.nobleInfo;if(t.load){if(0===t.nl)return 0!==t.npl?void(t.remindStatus=1):void(t.remindStatus=0);1!==t.ncp&&(t.remindStatus=2)}},ChatNobleBarrageServices.prototype.openNobleBarrageBox=function openNobleBarrageBox(){this.store.dispatch(Yo.openNobleBarrageBox(!0))},ChatNobleBarrageServices.prototype.closeNobleBarrageBox=function closeNobleBarrageBox(){this.store.dispatch(Yo.openNobleBarrageBox(!1))},ChatNobleBarrageServices.prototype.toggleNobleBarrage=function toggleNobleBarrage(){this.store.dispatch(Yo.toggleNobleBarrage())},ChatNobleBarrageServices.prototype.closeNobleBarrage=function closeNobleBarrage(){this.store.dispatch(Yo.closeNobleBarrage())},ChatNobleBarrageServices.prototype.leInfoHandle=function leInfoHandle(e){return{nl:parseInt(e.nl,10)||0,npl:parseInt(e.npl,10)||0,npts:parseInt(e.npts,10)||0,ncp:parseInt(e.ncp,10)||0,ih:parseInt(e.ih,10)||0,iha:parseInt(e.iha,10)||0,nhp:parseInt(e.nhp,10)||0,nets:parseInt(e.nets,10)||0}},ChatNobleBarrageServices.prototype.getNobleBarrageColor=function getNobleBarrageColor(){return C.jsonpClient.get(String,"//webconf.douyucdn.cn//resource/noble/global/web.json","nobleGlobalConfig")},ChatNobleBarrageServices}(f.Service),zc=chatNobleBarrageServices_applyDecoratedDescriptor(Lc.prototype,"common",[Pc],{enumerable:!0,initializer:null}),Ac=chatNobleBarrageServices_applyDecoratedDescriptor(Lc.prototype,"commonDataService",[Tc],{enumerable:!0,initializer:null}),Ic=chatNobleBarrageServices_applyDecoratedDescriptor(Lc.prototype,"store",[Bc],{enumerable:!0,initializer:null}),Mc=Lc))||Mc);function normalServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function normalServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function normalServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function normalServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function normalServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var fu,du,bu,mu=w.a.socketStream,hu=n.a.Service,vu=(qc=hu(Sc),Qc=hu(Ec),Jc=hu(xc),Yc=hu(jn.a),Xc=hu(M),Zc=hu(Gc.a),eu=hu(pu),tu=hu(Ss.a),ru=function(e){function NormalServices(){var t,r;!function normalServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NormalServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=normalServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),normalServices_initDefineProp(r,"barrageMedalService",iu,r),normalServices_initDefineProp(r,"barrageMotorService",nu,r),normalServices_initDefineProp(r,"barrageBabyService",au,r),normalServices_initDefineProp(r,"chatCampService",ou,r),normalServices_initDefineProp(r,"medalOperatService",lu,r),normalServices_initDefineProp(r,"userRoleService",su,r),normalServices_initDefineProp(r,"chatNobleBarrageService",cu,r),normalServices_initDefineProp(r,"achievementService",uu,r),normalServices_possibleConstructorReturn(r,t)}return normalServices_inherits(NormalServices,e),NormalServices.prototype.init=function init(e){var t=this;mu.subscribe("chatmsg",function(r){t.handle(r,e)}),mu.subscribe("chatres",function(r){t.handle(r,e)})},NormalServices.prototype.handle=function handle(e,t){var r=this,i={};"chatmsg"!==e.type&&("chatres"!==e.type||"288"!==e.res&&"356"!==e.res)||(i.type="chatmsg",i=mc(e),this.userRoleService.setUserGroup(i.uid,{pg:i.pg||1,rg:i.rg||1})),i&&0!==Object.keys(i).length&&Object(s.of)(i).pipe(Object(ic.concatMap)(function(e){return e?Object(l.forkJoin)(Object(s.of)(e),r.barrageBabyService.loadAnnuaBabyData(),r.barrageMotorService.loadMotorcadeData(),r.medalOperatService.getConfig(),r.chatCampService.getJsonData(),r.chatNobleBarrageService.getNobleBarrageColor(),r.achievementService.getAchievementChatConfig()):Object(s.of)(null)}),Object(c.map)(function(e){var i=null,n=C.DataCenter.global.get("USER_INFO.uid"),a=parseInt(n,10)===+t.$ROOM.owner_uid;if(e){var o=e[0];if(o&&0!==Object.keys(o).length){var l=e[1].data,s=e[2].data,c=e[3].data,u=e[4].barrage_color_list||{},p=e[5].barrage_bgcolor||"",f=e[6].data&&e[6].data.info||{},d={name:o.bnn,lev:parseInt(o.bl,10),medalId:parseInt(o.brid,10),isVipFan:o.vipfan,type:"special"};i=r.barrageMedalService.setMedalData([o,t.$ROOM.effectInfo,t.$COLLIGATE.madelConfig,f]),(i=r.barrageBabyService.setBabyData([i,l,t.$COLLIGATE.madelConfig,f])).motorcadeFlag=r.barrageMotorService.getMotorcadeConfig(i,s),i.motorcadeBg=r.barrageMotorService.getMotorcadeBg(i,s),i.fansMedal={medalBgOptions:r.medalOperatService.handleMedalOptions(d,c),name:o.bnn,lev:parseInt(o.bl,10),medalId:parseInt(o.brid,10),isVipFan:o.vipfan,type:"special"},i.curRoomId=t.$ROOM.room_id,i.nobleConfig=t.$ROOM.nobleConfig,i.linkMsgConfig=t.$COLLIGATE.barrage_link?t.$COLLIGATE.barrage_link.link_pre:{},i.isShowUserLevel=t.$COLLIGATE.userLevelSwitch>0?1:0,i.chatCampColor=u[o.col]||"",i.nobleColor=p,i.isAnchor=a}}return i&&i.iaid?{type:"impress",txt:i.txt,isAnchor:a,nn:i.nn}:i})).subscribe(function(e){e&&0!==Object.keys(e).length&&t.barrageBase.push(e)})},NormalServices}(f.Service),iu=normalServices_applyDecoratedDescriptor(ru.prototype,"barrageMedalService",[qc],{enumerable:!0,initializer:null}),nu=normalServices_applyDecoratedDescriptor(ru.prototype,"barrageMotorService",[Qc],{enumerable:!0,initializer:null}),au=normalServices_applyDecoratedDescriptor(ru.prototype,"barrageBabyService",[Jc],{enumerable:!0,initializer:null}),ou=normalServices_applyDecoratedDescriptor(ru.prototype,"chatCampService",[Yc],{enumerable:!0,initializer:null}),lu=normalServices_applyDecoratedDescriptor(ru.prototype,"medalOperatService",[Xc],{enumerable:!0,initializer:null}),su=normalServices_applyDecoratedDescriptor(ru.prototype,"userRoleService",[Zc],{enumerable:!0,initializer:null}),cu=normalServices_applyDecoratedDescriptor(ru.prototype,"chatNobleBarrageService",[eu],{enumerable:!0,initializer:null}),uu=normalServices_applyDecoratedDescriptor(ru.prototype,"achievementService",[tu],{enumerable:!0,initializer:null}),ru);function barrageTipsServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function barrageTipsServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageTipsServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var gu,yu,_u,Su=(fu=(0,n.a.Store)(),du=function(e){function BarrageTipsServices(){var t,r;!function barrageTipsServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageTipsServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=barrageTipsServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function barrageTipsServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"store",bu,r),barrageTipsServices_possibleConstructorReturn(r,t)}return barrageTipsServices_inherits(BarrageTipsServices,e),BarrageTipsServices.prototype.updateSysTips=function updateSysTips(e){var t={tipsInfo:e,isShow:!0};this.store.dispatch(wa.updateSysTips(t))},BarrageTipsServices.prototype.hideSysTips=function hideSysTips(){this.store.dispatch(wa.hideSysTips({isShow:!1}))},BarrageTipsServices}(f.Service),bu=function barrageTipsServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(du.prototype,"store",[fu],{enumerable:!0,initializer:null}),du),Nu=r("09473"),Cu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function barrageGeeServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageGeeServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Ou,wu,Du,Eu,ku,Ru,ju,Pu,Tu,Bu,Mu,Lu,zu,Au={"content-type":"application/x-www-form-urlencoded"},Iu=(gu=(0,n.a.Store)(),yu=function(e){function BarrageGeeServices(){!function barrageGeeServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageGeeServices);var t=function barrageGeeServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function barrageGeeServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"store",_u,t),t.geeFn=null,t.dstUid=null,t.roomId="",t}return barrageGeeServices_inherits(BarrageGeeServices,e),BarrageGeeServices.prototype.init=function init(e){var t=this;this.dstUid=e,this.geeFn=Object(Nu.a)({geeInitParams:{isNeedCheck:!0,data:{}},xhrParams:{url:"/member/cpSecurity/check_geetest_status",data:{op_type:30}},geeOptions:{id:"BarrageGee-captcha",area:".captcha-gt"},success:function success(){t.success()},error:function error(){t.error()}})},BarrageGeeServices.prototype.show=function show(e,t){var r={dstUid:e||"",isShow:!0};this.roomId=t,this.store.dispatch(za.showGeeTest(r))},BarrageGeeServices.prototype.close=function close(){this.store.dispatch(za.hideGeeTest({isShow:!1}))},BarrageGeeServices.prototype.success=function success(){var e=this,t=this.getResult(),r=Cu({dst_uid:e.dstUid||"",room_id:e.roomId},t);C.httpClient.post(String,"/member/forwardmute/index",r,{headers:Au}).subscribe(function(t){var r=t.code,i=t.msg;0!==r?(p.a.error(i||"\u8bf7\u6c42\u51fa\u73b0\u5f02\u5e38"),e.geeFn.refresh()):(e.geeFn.destroy(),e.geeFn=null,e.close())})},BarrageGeeServices.prototype.error=function error(){p.a.error("\u9a8c\u8bc1\u7801\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\u3002")},BarrageGeeServices.prototype.getResult=function getResult(){var e={};return this.geeFn&&(e=this.geeFn.getGeeResult()),e},BarrageGeeServices}(f.Service),_u=function barrageGeeServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(yu.prototype,"store",[gu],{enumerable:!0,initializer:null}),yu),Fu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function sysServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function sysServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function sysServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function sysServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function sysServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var xu,Gu,Uu,Hu,Wu,Vu,$u,Ku=w.a.socketStream,qu=n.a.Service,Qu=C.DataCenter.global.get("$SYS"),Ju=(Ou=qu(C.DataCenter.acj),wu=qu(C.DataCenter.global),Du=qu(C.DataCenter.common),Eu=qu(Su),ku=qu(Iu),Ru=qu(Gc.a),ju=function(e){function SysBarrageServices(){var t,r;!function sysServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SysBarrageServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=sysServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),sysServices_initDefineProp(r,"acj",Pu,r),sysServices_initDefineProp(r,"global",Tu,r),sysServices_initDefineProp(r,"common",Bu,r),sysServices_initDefineProp(r,"barrageTipsService",Mu,r),sysServices_initDefineProp(r,"barrageGeeService",Lu,r),sysServices_initDefineProp(r,"userRoleService",zu,r),sysServices_possibleConstructorReturn(r,t)}return sysServices_inherits(SysBarrageServices,e),SysBarrageServices.prototype.init=function init(e){var t=this,r=this,i=parseInt(this.global.get("USER_INFO.uid"),10);Ku.subscribe("chatres",function(i){Object(s.of)(i).pipe(Object(c.map)(function(e){var i=e;return"288"===(i=mc(i)).res||"356"===i.res?null:"363"===i.res?null:("391"===i.res&&window.loader.loadAsyncModule("accountSecurity",function(){t.common.push("securityData",{resource:1})}),i.resMsg=r.getResMsg(i.res),i.resMsg?i:null)})).subscribe(function(t){r.handle(t,e)})}),Ku.subscribe("newblackres",function(t){Object(s.of)(t).pipe(Object(c.map)(function(t){var n=t,a=parseInt(n.ret,10),o=parseInt(Qu.owner_uid,10);if(0===a)i&&n.sid&&n.did&&o&&i===parseInt(n.sid,10)&&parseInt(n.did,10);else if(268===a)r.barrageGeeService.show(n.did,e.$ROOM.room_id);else if(4822===a)return null;return n.resMsg=r.getSysMsg(n),n})).subscribe(function(t){r.handle(t,e)})}),Ku.subscribe("gbmres",function(t){Object(s.of)(t).pipe(Object(c.map)(function(e){var t=e,r="",i=0,n=parseInt(t.ret,10),a=t.uname||"";if(0===n)r='<span class="Barrage-notice--name">'+a+"</span>\u88ab\u5c01\u53f7";else if(208===n)r='<span class="Barrage-notice--name">'+a+"</span>\u5df2\u88ab\u5c01\u7981\u6216\u5df2\u88ab\u4e00\u952e\u5c01\u53f7";else{if(4822===n)return null;r='<span class="Barrage-notice--name">'+a+"</span>\u8fdb\u884c\u4e00\u952e\u5c01\u53f7\u5931\u8d25\uff0c\u9519\u8bef\u7801\uff1a"+n,i=1}return Fu({},t,{resMsg:{str:r,type:i}})})).subscribe(function(t){r.handle(t,e)})}),Ku.subscribe("setadminres",function(i){Object(s.of)(i).pipe(Object(c.map)(function(e){var i=e,n=parseInt(i.rescode,10),a=parseInt(i.group,10),o=i.adnick;return 0!==n&&206!==n&&208!==n&&214!==n||(0===n&&t.userRoleService.setUserGroup(i.uid,{rg:i.group||1}),i.resMsg=r.getAdminMsg(n,a,o)),i})).subscribe(function(t){r.handle(t,e)})}),Ku.subscribe("error",function(t){var i=t.code;if(59===parseInt(void 0===i?0:i,10)){r.handle({type:"chatres",resMsg:{type:1,str:'\u60a8\u7684\u8d26\u53f7\u5728\u53e6\u4e00\u5730\u70b9\u767b\u5f55\uff0c\u5f39\u5e55\u8fde\u63a5\u5df2\u65ad\u5f00 <a class="js-danmu-reconnect Barrage-notice--red" style="cursor: pointer;">\u70b9\u51fb\u91cd\u65b0\u8fde\u63a5\u5f39\u5e55</a>'}},e)}}),Ms.a.subscribe(Na.a,function(){r.handle({type:"chatres",resMsg:{str:"\u5df2\u6e05\u7a7a\u6240\u6709\u5f39\u5e55\u5185\u5bb9",type:2}},e)},!1),Ms.a.subscribe(Na.b,function(t){if(t){var i=t.resMsg;if(i){var n={type:"chatres",resMsg:{type:0,str:i}};r.handle(n,e)}}},!1),Ms.a.subscribe(Na.c,function(t){if(t){var i=t.resMsg;if(i){var n={resMsg:{type:2,str:i}};r.handle(n,e)}}},!1)},SysBarrageServices.prototype.getSysMsg=function getSysMsg(e){var t=parseInt(C.DataCenter.global.get("USER_INFO.uid"),10),r=parseInt(Qu.owner_uid,10),i="";switch(parseInt(e.ret,10)){case 0:i=e.sid===t?'<span class="Barrage-notice--name">'+e.dnic+"</span>\u5df2\u88ab\u6210\u529f\u7981\u8a00":'<span class="Barrage-notice--name">'+e.dnic+"</span>\u5df2\u88ab\u7981\u8a00",t&&e.sid&&e.did&&r&&t===parseInt(e.sid,10)&&parseInt(e.did,10);break;case 4807:case 4808:i="\u8be5\u7528\u6237\u5df2\u88ab\u7981\u8a00\u3002";break;case 264:i='\u8d35\u65cf\u7528\u6237 <span class="Barrage-notice--name">'+(e.dnic||e.did)+"</span>",i+=' \u9632\u5fa1\u4e86\u623f\u7ba1 <span class="Barrage-notice--name">'+(e.snic||e.sid)+"</span> \u7684\u7981\u8a00 ",i+='<a class="Barrage-notice--systemLink js-buy-noble" href="javascript:;">\u8d2d\u4e70\u8d35\u65cf\u9632\u5fa1\u7981\u8a00</a>'}return{str:i,type:0}},SysBarrageServices.prototype.getResMsg=function getResMsg(e){var t=Da.a.BARRAGE_ERROR,r="";return Object.keys(t).forEach(function(i){parseInt(e,10)===parseInt(i,10)&&(r=t[i])}),{str:r,type:2}},SysBarrageServices.prototype.getAdminMsg=function getAdminMsg(e,t,r){var i="",n=0;return 0===e?i=t>1?'<span class="Barrage-notice--name">'+r+"</span>\u88ab\u4efb\u547d\u4e3a\u623f\u7ba1":'<span class="Barrage-notice--name">'+r+"</span>\u88ab\u89e3\u9664\u623f\u7ba1\u8eab\u4efd":214===e?(i="\u623f\u7ba1\u6570\u91cf\u5df2\u8fbe\u4e0a\u9650",n=2):206===e?(i="\u975e\u6cd5\u64cd\u4f5c",n=2):208===e&&(i="\u7528\u6237\u4e0d\u5728\u623f\u95f4",n=2),{str:i,type:n}},SysBarrageServices.prototype.handle=function handle(e,t){if(e&&e.resMsg&&0!==Object.keys(e.resMsg).length){var r=e.resMsg,i=void 0===r?{}:r,n=i.type,a=void 0===n?0:n,o=i.str,l=void 0===o?"":o;2===a&&l?this.barrageTipsService.updateSysTips(l):t.barrageBase.push(e)}},SysBarrageServices}(f.Service),Pu=sysServices_applyDecoratedDescriptor(ju.prototype,"acj",[Ou],{enumerable:!0,initializer:null}),Tu=sysServices_applyDecoratedDescriptor(ju.prototype,"global",[wu],{enumerable:!0,initializer:null}),Bu=sysServices_applyDecoratedDescriptor(ju.prototype,"common",[Du],{enumerable:!0,initializer:null}),Mu=sysServices_applyDecoratedDescriptor(ju.prototype,"barrageTipsService",[Eu],{enumerable:!0,initializer:null}),Lu=sysServices_applyDecoratedDescriptor(ju.prototype,"barrageGeeService",[ku],{enumerable:!0,initializer:null}),zu=sysServices_applyDecoratedDescriptor(ju.prototype,"userRoleService",[Ru],{enumerable:!0,initializer:null}),ju),Yu=r("878cf"),Xu=r("0ec06"),Zu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function shieldToolServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function shieldToolServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function shieldToolServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function shieldToolServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function shieldToolServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ep,tp,rp,ip=n.a.Store,np=n.a.Service,ap=new ks.a,op=o.a.decode,lp=w.a.socketStream,sp=w.a.socketProxy,cp=function setLocalStorage(e,t,r){return C.DataCenter.localStorage.set(e,t,r)},up=function getLocalStorage(e){return C.DataCenter.localStorage.get(e)},pp="shield_showShieldTip",fp=null,dp=[],bp=!1,mp=[106,107,108,105],hp={106:"allGift",107:"message",108:"videoBroadcast",105:"smallgift"},vp={allGift:106,message:107,videoBroadcast:108,smallgift:105},gp=[],yp=(xu=ip(),Gu=np(C.DataCenter.acj),Uu=np(Cs.a),Hu=function(e){function ShieldToolServices(){var t,r;!function shieldToolServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ShieldToolServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=shieldToolServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),shieldToolServices_initDefineProp(r,"store",Wu,r),shieldToolServices_initDefineProp(r,"acj",Vu,r),shieldToolServices_initDefineProp(r,"barrageService",$u,r),shieldToolServices_possibleConstructorReturn(r,t)}return shieldToolServices_inherits(ShieldToolServices,e),ShieldToolServices.prototype.init=function init(){this.listenMsgShield(),this.fpsMonitorSwitch=!0,this.showShieldTipCallback=null,fp=up(pp);var e=this.getStorageShieldDataToNew();this.updateReducerShield(e)},ShieldToolServices.prototype.listenFPS=function listenFPS(){var e=this;return Object(Yu.timer)(3e3,500).subscribe(function(){return!!e.fpsMonitorSwitch&&(ap.fps<15&&(dp.push(ap.fps),e.checkToShieldGiftEffect()),!1)})},ShieldToolServices.prototype.checkToShieldGiftEffect=function checkToShieldGiftEffect(){dp&&dp.length>=10&&!this.getShield(105)&&(this.fpsMonitorSwitch=!1,dp=[],this.switchShield({id:105,type:"smallGift",text:"\u5c4f\u853d\u5c0f\u793c\u7269",state:0},1),this.showShieldTipCallback&&this.checkShowTip()&&(this.setShieldTipShowExpired(),this.showShieldTipCallback()))},ShieldToolServices.prototype.checkShowTip=function checkShowTip(){return!fp||1===fp.type&&fp.num<2},ShieldToolServices.prototype.showShieldTip=function showShieldTip(e){"function"===typeof e&&(this.showShieldTipCallback=e)},ShieldToolServices.prototype.initShieldStatus=function initShieldStatus(){var e=this.getStorageShieldDataToNew();dp=[],ap.start(),this.listenFPS(),this.getShield(105)&&(this.fpsMonitorSwitch=!1),this.sendFlashShield(e,2)},ShieldToolServices.prototype.getStorageShieldDataToNew=function getStorageShieldDataToNew(){var e=up("chat-shield-config"),t=e&&"string"===typeof e?f.GSON.parse(e):{},r=this.shieldConfigToNew(t),i=cl;return r&&(i=r),this.getToShieldData(i)},ShieldToolServices.prototype.setToShieldData=function setToShieldData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach(function(r){e[r]&&(t[r]=parseInt(e[r].state,10)||0)}),t},ShieldToolServices.prototype.getToShieldData=function getToShieldData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(sl).forEach(function(r){t[r]=Object.assign({},sl[r],{state:parseInt(e[r],10)||0})}),t},ShieldToolServices.prototype.sendCPPShieldData=function sendCPPShieldData(e){gp=e,sp.isSocketReady?(sp.sendMessage({type:"dmfbdreq",dfl:e}),sp.sendMessage({type:"dmfbdreq",dfl:e},Xu.e.barrage)):bp||(bp=!0,lp.subscribe("socket_ready",function(){sp.sendMessage({type:"dmfbdreq",dfl:gp}),sp.sendMessage({type:"dmfbdreq",dfl:gp},Xu.e.barrage)}))},ShieldToolServices.prototype.sendFlashShield=function sendFlashShield(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=e||{},i=f.GSON.stringify(sl),n=f.GSON.parse(i),a={},o=[];Object.keys(n).forEach(function(e){if(n[e]&&999!==n[e].id){var t=r[e]||{};a[n[e].type]=t.state?1:0,o.push({sn:t.id,ss:t.state?1:0})}}),this.acj.push(k.c.JS_SHIELDEFFECTS,a),2!==t&&this.sendCPPShieldData(o)},ShieldToolServices.prototype.listenMsgShield=function listenMsgShield(){var e=this,t=f.GSON.stringify(sl);lp.subscribe("dmfbdres",function(r){var i=Object.assign({},f.GSON.parse(t));if(r.dfl){var n={};op(r.dfl).forEach(function(e){var t=op(e);n[t.sn]=parseInt(t.ss,10),i[t.sn]&&(i[t.sn].state=parseInt(t.ss,10)?1:0)})}var a=0,o=i[999];Object.keys(i).forEach(function(e){"allShield"!==i[e].type&&1===i[e].state&&(a+=1)}),o.state=4===a?1:a>0&&a<4?2:0,e.updateReducerShield(i)}),this.acj.get(k.d.ROOM_DATA_SHIELD_EFFECT).subscribe(function(t){var r=t||{},i=[];Object.keys(vp).forEach(function(e){"smallgift"===e?i.push({sn:vp[e],ss:+r.smallGift?1:0}):i.push({sn:vp[e],ss:+r[e]?1:0})}),e.acj.push(k.c.JS_SHIELDEFFECTS,r),e.sendCPPShieldData(i)}),this.acj.get(k.d.ROOM_PLAYER_READY).subscribe(function(){e.initShieldStatus()})},ShieldToolServices.prototype.switchShield=function switchShield(e,t){var r=this.getToShieldData(this.store.getState().shieldConfig);if("allShield"===e.type){var i=[],n={},a=[];Object.keys(r).forEach(function(t){r[t].id&&(i.push({sn:r[t].id,ss:e.state?0:1}),n[t]=Object.assign({},r[t],{state:e.state?0:1}),e.state&&r[t].state&&999!==r[t].id?a.push(mp.indexOf(r[t].id)+1):e.state||r[t].state||999===r[t].id||a.push(mp.indexOf(r[t].id)+1))}),e.state?this.DYSub("click_shield_gift_cancel",{shield_can:a.join(",")}):this.DYSub("click_shield_gift_select",{shield_sel:a.join(",")}),this.sendFlashShield(n)}else this.sendCPPShieldData([{sn:e.id,ss:e.state?0:1}]),r[e.id]&&(r[e.id].state=e.state?0:1),e.state?this.DYSub("click_shield_gift_cancel",{shield_can:mp.indexOf(e.id)+1}):this.DYSub("click_shield_gift_select",{shield_sel:mp.indexOf(e.id)+1}),this.sendFlashShield(r,2);1!==t&&this.showShieldMsg(e),this.store.dispatch(ul.switchShield(e))},ShieldToolServices.prototype.showShieldMsg=function showShieldMsg(e){var t=null;switch(e.type){case"allShield":t=e.state?"\u5df2\u5f00\u542f\u5168\u90e8\u7279\u6548":"\u5df2\u5c4f\u853d\u5168\u90e8\u7279\u6548";break;case"allGift":t=e.state?"\u5df2\u5f00\u542f\u5168\u90e8\u793c\u7269\u4fe1\u606f":"\u5df2\u5c4f\u853d\u5168\u90e8\u793c\u7269\u4fe1\u606f";break;case"message":t=e.state?"\u5df2\u5f00\u542f\u4fe1\u606f\u901a\u77e5\u5f39\u5e55":"\u5df2\u5c4f\u853d\u4fe1\u606f\u901a\u77e5\u5f39\u5e55";break;case"videoBroadcast":t=e.state?"\u5df2\u5f00\u542f\u89c6\u9891\u533a\u793c\u7269\u5e7f\u64ad":"\u5df2\u5c4f\u853d\u89c6\u9891\u533a\u793c\u7269\u5e7f\u64ad";break;case"smallGift":t=e.state?"\u5df2\u5f00\u542f\u5c0f\u793c\u7269\u548c\u9886\u53d6\u5f39\u5e55":"\u5df2\u5c4f\u853d\u5c0f\u793c\u7269\u548c\u9886\u53d6\u5f39\u5e55"}t&&this.barrageService.receiveSysTipsMsg({resMsg:t})},ShieldToolServices.prototype.updateReducerShield=function updateReducerShield(e){var t=this.setToShieldData(e),r=f.GSON.stringify(this.shieldConfigToOld(t));cp("chat-shield-config",r),C.DataCenter.global.set("shield_setConfig",t),this.store.dispatch(ul.updateShield(t))},ShieldToolServices.prototype.setShieldTipShowExpired=function setShieldTipShowExpired(e){var t=new Date,r=up(pp);return 2===e?(fp={num:r?r.num:1,type:2,endTimes:t.getTime()+432e5},cp(pp,fp,604800-(3600*t.getHours()+60*t.getMinutes()+t.getSeconds()))):r?(fp={num:3===e?r.num:2,type:1,endTimes:t.getTime()+432e5},cp(pp,fp,43200-parseInt((r.endTimes-t.getTime())/1e3,10))):(fp={num:1,type:1,endTimes:t.getTime()+432e5},cp(pp,fp,43200))},ShieldToolServices.prototype.getShield=function getShield(e){var t=(this.store.getState()||{}).shieldConfig;return e?t[e]||0:t},ShieldToolServices.prototype.shieldConfigToOld=function shieldConfigToOld(e){var t={allGift:0,message:0,videoBroadcast:0,smallgift:0};return e&&Object.keys(t).forEach(function(r){var i=vp[r];t[r]=+e[i]?1:0}),t},ShieldToolServices.prototype.shieldConfigToNew=function shieldConfigToNew(e){var t={106:0,107:0,108:0,105:0};return e&&Object.keys(t).forEach(function(r){var i=hp[r];t[r]=+e[i]?1:0}),t},ShieldToolServices.prototype.DYSub=function DYSub(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(O.dysub)(e,Zu({},t))},ShieldToolServices}(f.Service),Wu=shieldToolServices_applyDecoratedDescriptor(Hu.prototype,"store",[xu],{enumerable:!0,initializer:null}),Vu=shieldToolServices_applyDecoratedDescriptor(Hu.prototype,"acj",[Gu],{enumerable:!0,initializer:null}),$u=shieldToolServices_applyDecoratedDescriptor(Hu.prototype,"barrageService",[Uu],{enumerable:!0,initializer:null}),Hu);function superServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function superServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function superServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var _p,Sp,Np,Cp,Op,wp=w.a.socketStream,Dp=(ep=(0,n.a.Service)(yp),tp=function(e){function SuperServices(){var t,r;!function superServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SuperServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=superServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function superServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"shieldToolService",rp,r),superServices_possibleConstructorReturn(r,t)}return superServices_inherits(SuperServices,e),SuperServices.prototype.init=function init(e){var t=this;wp.subscribe("ssd",function(r){Object(s.of)(r).pipe(Object(c.map)(function(e){return t.shieldToolService.getShield(107)?null:e})).subscribe(function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(t)})})},SuperServices}(f.Service),rp=function superServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(tp.prototype,"shieldToolService",[ep],{enumerable:!0,initializer:null}),tp);function athenaServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function athenaServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function athenaServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function athenaServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function athenaServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ep,kp,Rp,jp=n.a.Service,Pp=0,Tp=[],Bp=void 0,Mp=(_p=jp(C.DataCenter.acj),Sp=jp(yp),Np=function(e){function AthenaServices(){var t,r;!function athenaServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AthenaServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=athenaServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),athenaServices_initDefineProp(r,"acj",Cp,r),athenaServices_initDefineProp(r,"shieldToolService",Op,r),athenaServices_possibleConstructorReturn(r,t)}return athenaServices_inherits(AthenaServices,e),AthenaServices.prototype.init=function init(e){this.cateId=e.$ROOM.cate_id,this.roomId=e.$ROOM.room_id,this.athenaSwitch=e.$COLLIGATE.athena_switch||{},this.distributeBarrage(),this.listenBarrage(e)},AthenaServices.prototype.distributeBarrage=function distributeBarrage(){var e=this.athenaSwitch.sdm||0;100*Math.random()<e&&this.loadDistributeInfo()},AthenaServices.prototype.listenBarrage=function listenBarrage(e){var t=this,r=this;this.acj.get(k.d.ROOM_PLAYER_READY).subscribe(function(){r.flashReady()}),this.acj.get(k.d.ROOM_DATA_ATHENA_SUPERMSG).subscribe(function(r){Object(s.of)(r).pipe(Object(c.map)(function(e){if(t.shieldToolService.getShield(107))return null;var r=e;return r.type="athena",r})).subscribe(function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(t)})})},AthenaServices.prototype.isReverse=function isReverse(e){for(var t=[],r=0,i=e.length;r<i;r++){var n=e[r];if(n)try{var a=JSON.parse(n);a.isReverse=a.remark-1,t.push(a)}catch(e){}}return t},AthenaServices.prototype.loadDistributeInfo=function loadDistributeInfo(){var e=this,t=this.cateId,r=this.roomId;return C.httpClient.get(String,"lapi/athena/room/barrage",{t:(new Date).getTime(),roomId:r,cid:t}).subscribe(function(t){if(0===t.error&&t.data&&t.data instanceof Array){var r=t.data.length>0?e.isReverse(t.data):[];Pp?e.distributeBarrageByQueue(r):Tp=r}else e.distributeBarrageByQueue([])})},AthenaServices.prototype.flashReady=function flashReady(){Pp||this.distributeBarrageByQueue(Tp),Pp=1},AthenaServices.prototype.distributeBarrageByQueue=function distributeBarrageByQueue(e){var t=this;clearTimeout(Bp);var r=this.athenaSwitch.lmt||60;if(r*=1e3,e&&0!==e.length){var i=e.shift();this.acj.push(k.c.JS_SEND_SUPER_DANMU,i),Bp=setTimeout(function(){t.distributeBarrageByQueue(e)},r)}else Bp=setTimeout(function(){t.loadDistributeInfo()},6e4)},AthenaServices}(f.Service),Cp=athenaServices_applyDecoratedDescriptor(Np.prototype,"acj",[_p],{enumerable:!0,initializer:null}),Op=athenaServices_applyDecoratedDescriptor(Np.prototype,"shieldToolService",[Sp],{enumerable:!0,initializer:null}),Np);function fishBallServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function fishBallServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function fishBallServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Lp,zp,Ap,Ip,Fp,xp,Gp,Up,Hp,Wp,Vp,$p,Kp,qp,Qp,Jp=w.a.socketStream,Yp=(Ep=(0,n.a.Service)(yp),kp=function(e){function FishBallServices(){var t,r;!function fishBallServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FishBallServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=fishBallServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function fishBallServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"shieldToolService",Rp,r),fishBallServices_possibleConstructorReturn(r,t)}return fishBallServices_inherits(FishBallServices,e),FishBallServices.prototype.init=function init(e){var t=this;Jp.subscribe("clubreward",function(r){var i=C.DataCenter.global.get("USER_INFO.nickname");r.unick!==i&&t.shieldToolService.getShield(105)||r&&0!==Object.keys(r).length&&e.barrageBase.push(r)})},FishBallServices}(f.Service),Rp=function fishBallServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(kp.prototype,"shieldToolService",[Ep],{enumerable:!0,initializer:null}),kp);function WeekRankDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function WeekRankDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function WeekRankDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function WeekRankDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function WeekRankDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Xp,Zp,ef,tf,rf,nf,af,of,lf,sf,cf,uf,pf,ff,df,bf=C.basicTypes.string,mf=(Lp=(0,C.basicTypes.mapping)({uid:"uid",groupId:"pg",rg:"rg",nickName:"nickname",avatar:"icon",nobleLevel:"ne",userLevel:"level",trend:"rs",trendRank:"lrk",gold:"gold",isShowSuperIcon:"sahf",isInvisible:"ih"}),Object(ye.log)(zp=Lp((Ap=function(e){function WeekRankDto(){var t,r;!function WeekRankDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WeekRankDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=WeekRankDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),WeekRankDto_initDefineProp(r,"uid",Ip,r),WeekRankDto_initDefineProp(r,"nickName",Fp,r),WeekRankDto_initDefineProp(r,"avatar",xp,r),WeekRankDto_initDefineProp(r,"nobleLevel",Gp,r),WeekRankDto_initDefineProp(r,"userLevel",Up,r),WeekRankDto_initDefineProp(r,"trend",Hp,r),WeekRankDto_initDefineProp(r,"trendRank",Wp,r),WeekRankDto_initDefineProp(r,"gold",Vp,r),WeekRankDto_initDefineProp(r,"isShowSuperIcon",$p,r),WeekRankDto_initDefineProp(r,"isInvisible",Kp,r),WeekRankDto_initDefineProp(r,"groupId",qp,r),WeekRankDto_initDefineProp(r,"rg",Qp,r),WeekRankDto_possibleConstructorReturn(r,t)}return WeekRankDto_inherits(WeekRankDto,e),WeekRankDto}(C.EntityDto),Ip=WeekRankDto_applyDecoratedDescriptor(Ap.prototype,"uid",[bf],{enumerable:!0,initializer:null}),Fp=WeekRankDto_applyDecoratedDescriptor(Ap.prototype,"nickName",[bf],{enumerable:!0,initializer:null}),xp=WeekRankDto_applyDecoratedDescriptor(Ap.prototype,"avatar",[bf],{enumerable:!0,initializer:null}),Gp=WeekRankDto_applyDecoratedDescriptor(Ap.prototype,"nobleLevel",[bf],{enumerable:!0,initializer:null}),Up=WeekRankDto_applyDecoratedDescriptor(Ap.prototype,"userLevel",[bf],{enumerable:!0,initializer:null}),Hp=WeekRankDto_applyDecoratedDescriptor(Ap.prototype,"trend",[bf],{enumerable:!0,initializer:null}),Wp=WeekRankDto_applyDecoratedDescriptor(Ap.prototype,"trendRank",[bf],{enumerable:!0,initializer:null}),Vp=WeekRankDto_applyDecoratedDescriptor(Ap.prototype,"gold",[bf],{enumerable:!0,initializer:null}),$p=WeekRankDto_applyDecoratedDescriptor(Ap.prototype,"isShowSuperIcon",[bf],{enumerable:!0,initializer:null}),Kp=WeekRankDto_applyDecoratedDescriptor(Ap.prototype,"isInvisible",[bf],{enumerable:!0,initializer:null}),qp=WeekRankDto_applyDecoratedDescriptor(Ap.prototype,"groupId",[bf],{enumerable:!0,initializer:null}),Qp=WeekRankDto_applyDecoratedDescriptor(Ap.prototype,"rg",[bf],{enumerable:!0,initializer:null}),zp=Ap))||zp)||zp);function MonthRankDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MonthRankDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MonthRankDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MonthRankDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MonthRankDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var hf,vf,gf,yf,_f,Sf,Nf,Cf,Of,wf,Df,Ef=C.basicTypes.string,kf=C.basicTypes.mapping,Rf=C.basicTypes.optional,jf=(Xp=kf({uid:"uid",groupId:"pg",rg:"rg",nickName:"nickname",avatar:"icon",avatarRl:"iconrl",nobleLevel:"ne",userLevel:"level",trend:"rs",gold:"gold",isShowSuperIcon:"sahf",isInvisible:"ih"}),Object(ye.log)(Zp=Xp((ef=function(e){function MonthRankDto(){var t,r;!function MonthRankDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MonthRankDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MonthRankDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),MonthRankDto_initDefineProp(r,"uid",tf,r),MonthRankDto_initDefineProp(r,"nickName",rf,r),MonthRankDto_initDefineProp(r,"avatar",nf,r),MonthRankDto_initDefineProp(r,"avatarRl",af,r),MonthRankDto_initDefineProp(r,"nobleLevel",of,r),MonthRankDto_initDefineProp(r,"userLevel",lf,r),MonthRankDto_initDefineProp(r,"trend",sf,r),MonthRankDto_initDefineProp(r,"gold",cf,r),MonthRankDto_initDefineProp(r,"isShowSuperIcon",uf,r),MonthRankDto_initDefineProp(r,"isInvisible",pf,r),MonthRankDto_initDefineProp(r,"groupId",ff,r),MonthRankDto_initDefineProp(r,"rg",df,r),MonthRankDto_possibleConstructorReturn(r,t)}return MonthRankDto_inherits(MonthRankDto,e),MonthRankDto}(C.EntityDto),tf=MonthRankDto_applyDecoratedDescriptor(ef.prototype,"uid",[Ef],{enumerable:!0,initializer:null}),rf=MonthRankDto_applyDecoratedDescriptor(ef.prototype,"nickName",[Ef],{enumerable:!0,initializer:null}),nf=MonthRankDto_applyDecoratedDescriptor(ef.prototype,"avatar",[Ef],{enumerable:!0,initializer:null}),af=MonthRankDto_applyDecoratedDescriptor(ef.prototype,"avatarRl",[Rf,Ef],{enumerable:!0,initializer:null}),of=MonthRankDto_applyDecoratedDescriptor(ef.prototype,"nobleLevel",[Ef],{enumerable:!0,initializer:null}),lf=MonthRankDto_applyDecoratedDescriptor(ef.prototype,"userLevel",[Ef],{enumerable:!0,initializer:null}),sf=MonthRankDto_applyDecoratedDescriptor(ef.prototype,"trend",[Ef],{enumerable:!0,initializer:null}),cf=MonthRankDto_applyDecoratedDescriptor(ef.prototype,"gold",[Ef],{enumerable:!0,initializer:null}),uf=MonthRankDto_applyDecoratedDescriptor(ef.prototype,"isShowSuperIcon",[Ef],{enumerable:!0,initializer:null}),pf=MonthRankDto_applyDecoratedDescriptor(ef.prototype,"isInvisible",[Ef],{enumerable:!0,initializer:null}),ff=MonthRankDto_applyDecoratedDescriptor(ef.prototype,"groupId",[Ef],{enumerable:!0,initializer:null}),df=MonthRankDto_applyDecoratedDescriptor(ef.prototype,"rg",[Ef],{enumerable:!0,initializer:null}),Zp=ef))||Zp)||Zp),Pf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function chatRankServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function chatRankServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function chatRankServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatRankServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function chatRankServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Tf,Bf,Mf,Lf,zf,Af,If,Ff=n.a.Store,xf=w.a.socketStream,Gf=w.a.socketProxy,Uf=n.a.Service,Hf=(hf=Uf(C.DataCenter.global),vf=Uf(C.DataCenter.localStorage),gf=Uf(C.DataCenter.common),yf=Uf(Gc.a),_f=Ff(),Sf=function(e){function ChatRankServices(){var t,r;!function chatRankServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRankServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=chatRankServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),chatRankServices_initDefineProp(r,"global",Nf,r),chatRankServices_initDefineProp(r,"localStorage",Cf,r),chatRankServices_initDefineProp(r,"common",Of,r),chatRankServices_initDefineProp(r,"userRoleService",wf,r),chatRankServices_initDefineProp(r,"store",Df,r),chatRankServices_possibleConstructorReturn(r,t)}return chatRankServices_inherits(ChatRankServices,e),ChatRankServices.prototype.initSocket=function initSocket(){var e=this;this.common.get("$DATA").subscribe(function(t){e.$ROOM=t.get("room"),e.setAboutConfig(),e.checkRankSwitch(),e.weekRank()})},ChatRankServices.prototype.weekRank=function weekRank(){var e=this,t=this;xf.subscribe("ranklist",function(r){var i=r.list||[],n=r.list_all||[],a=i.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.uid,i=t.pg,n=t.rg;return e.userRoleService.setUserGroup(r,{pg:i,rg:n}),mf.fromJSON(t)}),o=n.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.uid,i=t.pg,n=t.rg;return e.userRoleService.setUserGroup(r,{pg:i,rg:n}),mf.fromJSON(t)});e.store.dispatch(Ya.receiveWeekRank(t.handleRankData(a))),e.store.dispatch(al.receiveAllRank(t.handleRankData(o)))}),xf.subscribe("umrtpgb",function(r){var i=(r.list||[]).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.uid,i=t.pg,n=t.rg;return e.userRoleService.setUserGroup(r,{pg:i,rg:n}),jf.fromJSON(t)});e.store.dispatch(al.receiveMonthRank(t.handleRankData(i,"month")))});var r={type:"qrl",et:0,rid:this.global.get("$ROOM.room_id")};xf.subscribe("socket_ready",function(){Gf.sendMessage(r)})},ChatRankServices.prototype.findUpdateList=function findUpdateList(){this.socket.emit("contributionRankUpDate",1)},ChatRankServices.prototype.openRankAll=function openRankAll(){this.store.dispatch(al.openAllRank(!0))},ChatRankServices.prototype.closeRankAll=function closeRankAll(){this.store.dispatch(al.openAllRank(!1))},ChatRankServices.prototype.handleRankData=function handleRankData(e,t){var r,i=this.defaultConfig.maxListLength,n=this.defaultConfig.maxMonthLength,a=e||[],o=0,l=null,s=[],c=this.global.get("USER_INFO.uid");for(r=(a="month"===t?a.slice(0,n):a.slice(0,i)).length;o<r;o++)(l=a[o])&&(l.isShowMedal=!0,String(c)===String(l.uid)?l.isOwn=!0:l.isOwn=!1,+l.isInvisible&&(l.isOwn||this.UserRole.isAnchor||this.UserRole.isSuper?(l.isShowInvisible=!0,l.isShowMedal=!0,"month"===t&&l.avatarRl&&(l.avatar=l.avatarRl)):("month"===t&&(l.nickName="\u795e\u79d8\u4eba"),l.isShowMedal=!1)),l.trend=this.setTrend(l.trend),l.trendRank>=1&&l.trendRank<=i?l.trendTitle="\u4e4b\u524d\u6392\u540d\u7b2c"+l.trendRank+"\u4f4d":l.trendTitle="\u4e4b\u524d\u672a\u4e0a\u699c","month"===t&&(l.trendTitle=""),l.gold=l.gold?l.gold/100:0,l.gold>=1e6?l.fgold=this.formatNumber({number:l.gold,unit:"\u4e07"}):l.fgold=l.gold,s.push(l));return s},ChatRankServices.prototype.setTrend=function setTrend(e){switch(parseInt(e,10)){case 1:return"rankUp";case-1:return"rankDown";case 0:return"rankNormal";default:return!1}},ChatRankServices.prototype.setAboutConfig=function setAboutConfig(){var e=this.global,t=this.$ROOM;this.UserRole={isAnchor:String(e.get("USER_INFO.uid"))===String(t.owner_uid),isSuper:5===parseInt(e.get("USER_INFO.groupId"),10)},this.defaultConfig={isFaceScore:t.isVertical||0,maxUserLevel:120,maxListLength:10,maxMonthLength:50},this.store.dispatch(Ya.getUserRole(this.UserRole)),this.store.dispatch(Ya.setDeafultConfig(this.defaultConfig)),this.store.dispatch(al.setDeafultConfig(this.defaultConfig))},ChatRankServices.prototype.checkRankSwitch=function checkRankSwitch(){var e=this,t=this.global,r=this.$ROOM,i=t.get("$SYS.webconfUrl"),n=r.cate_id,a=i+"/resource/common/gxrsw/web.json";C.jsonpClient.get(String,a,"rankAllSwitch").subscribe(function(t){if(t&&0===+t.error){var r=t.data?JSON.parse(t.data):"",i=r.sw||{},a=+(r.month||{})[n],o=+i[n];e.store.dispatch(Ya.receiveAllRankSwitch(o)),e.store.dispatch(Ya.receiveMonthRankSwitch(a))}})},ChatRankServices.prototype.notifyIsCloseAllRank=function notifyIsCloseAllRank(){return(this.store.getState()||{}).chatRank.isCloseAllRank},ChatRankServices.prototype.formatNumber=function formatNumber(e){var t=0,r=e.unit||"";switch(r){case"\u5343\u4e07":t=1e7;break;case"\u767e\u4e07":case"t":case"T":t=1e6;break;case"\u4e07":t=1e4;break;case"\u5343":case"k":case"K":t=1e3;break;case"\u767e":t=100}return parseFloat(Number(e.number)||0/t).toFixed(e.precision||0)+(e.isUnit?r:"")},ChatRankServices.prototype.setDYSub=function setDYSub(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(O.dysub)(e,Pf({},t))},ChatRankServices}(f.Service),Nf=chatRankServices_applyDecoratedDescriptor(Sf.prototype,"global",[hf],{enumerable:!0,initializer:null}),Cf=chatRankServices_applyDecoratedDescriptor(Sf.prototype,"localStorage",[vf],{enumerable:!0,initializer:null}),Of=chatRankServices_applyDecoratedDescriptor(Sf.prototype,"common",[gf],{enumerable:!0,initializer:null}),wf=chatRankServices_applyDecoratedDescriptor(Sf.prototype,"userRoleService",[yf],{enumerable:!0,initializer:null}),Df=chatRankServices_applyDecoratedDescriptor(Sf.prototype,"store",[_f],{enumerable:!0,initializer:null}),Sf),Wf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function rankServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function rankServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function rankServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function rankServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function rankServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Vf,$f,Kf,qf,Qf,Jf=w.a.socketStream,Yf=n.a.Service,Xf=(Tf=(0,n.a.Store)(),Bf=Yf(yp),Mf=Yf(Hf),Lf=function(e){function RankServices(){var t,r;!function rankServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RankServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=rankServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),rankServices_initDefineProp(r,"store",zf,r),rankServices_initDefineProp(r,"shieldToolService",Af,r),rankServices_initDefineProp(r,"chatRankService",If,r),r.MaxListNum=10,rankServices_possibleConstructorReturn(r,t)}return rankServices_inherits(RankServices,e),RankServices.prototype.initRankUpdate=function initRankUpdate(e){var t=this,r=this,i=C.DataCenter.global.get("USER_INFO.uid");Jf.subscribe("rankup",function(n){if((parseInt(n.uid,10)===parseInt(i,10)||!t.shieldToolService.getShield(107))&&(2!==parseInt(n.rkt,10)||!t.chatRankService.notifyIsCloseAllRank())&&n&&0!==Object.keys(n).length){if(parseInt(n.rn,10)>r.MaxListNum)return;var a=r.getNickName(n);e.barrageBase.push(Wf({},n,{nickName:a}))}})},RankServices.prototype.initRankGap=function initRankGap(e){var t=this;Jf.subscribe("notify_cgap",function(r){if(r&&0!==Object.keys(r).length){var i=parseInt(r.nz,10),n=parseInt(r.urn,10);if(1!==i&&3!==i)return;if(n>t.MaxListNum)return;e.barrageBase.push(r)}})},RankServices.prototype.getNickName=function getNickName(e){var t=e.nk,r=parseInt(e.ih,10),i=this.store.getState().userRoleData,n=i.isAnchor,a=i.isSuperAdmin,o=C.DataCenter.global.get("USER_INFO.uid");return r&&(n||a||parseInt(o,10)===parseInt(e.uid,10))&&(t=e.nk+"(\u5df2\u9690\u8eab)"),t},RankServices}(f.Service),zf=rankServices_applyDecoratedDescriptor(Lf.prototype,"store",[Tf],{enumerable:!0,initializer:null}),Af=rankServices_applyDecoratedDescriptor(Lf.prototype,"shieldToolService",[Bf],{enumerable:!0,initializer:null}),If=rankServices_applyDecoratedDescriptor(Lf.prototype,"chatRankService",[Mf],{enumerable:!0,initializer:null}),Lf),Zf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function levelUpServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function levelUpServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function levelUpServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function levelUpServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function levelUpServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ed,td,rd,id=w.a.socketStream,nd=n.a.Service,ad=(Vf=nd(M),$f=nd(yp),Kf=function(e){function LevelUpServices(){var t,r;!function levelUpServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LevelUpServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=levelUpServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),levelUpServices_initDefineProp(r,"medalOperatService",qf,r),levelUpServices_initDefineProp(r,"shieldToolService",Qf,r),levelUpServices_possibleConstructorReturn(r,t)}return levelUpServices_inherits(LevelUpServices,e),LevelUpServices.prototype.initUserLevelUp=function initUserLevelUp(e){var t=this,r=C.DataCenter.global.get("USER_INFO.uid");id.subscribe("upgrade",function(i){if((parseInt(i.uid,10)===parseInt(r,10)||!t.shieldToolService.getShield(107))&&i&&0!==Object.keys(i).length){if((i.level?i.level:0)%20!==0)return;e.barrageBase.push(Zf({},i,{isShowUserLevel:e.$COLLIGATE.userLevelSwitch>0?1:0}))}})},LevelUpServices.prototype.initFansLevelUp=function initFansLevelUp(e){var t=this,r=C.DataCenter.global.get("USER_INFO.uid"),i=e.$ROOM.room_id;id.subscribe("blab",function(n){Object(s.of)(n).pipe(Object(c.map)(function(e){var i=parseInt(e.ba,10),n=null;return parseInt(e.uid,10)!==parseInt(r,10)&&t.shieldToolService.getShield(107)?null:("blab"!==e.type||1!==i&&3!==i||(n=e),Zf({},n))}),Object(ic.concatMap)(function(e){return e?Object(l.forkJoin)(Object(s.of)(e),t.medalOperatService.getConfig()):Object(s.of)(null)}),Object(c.map)(function(e){var r={};if(e){var i=e[0];if(i&&0!==Object.keys(i).length){var n=e[1].data,a={name:i.bnn,lev:parseInt(i.bl,10),medalId:parseInt(i.rid,10),isVipFan:i.vipfan,type:"special"};(r=i).fansMedal={medalBgOptions:t.medalOperatService.handleMedalOptions(a,n),name:i.bnn,lev:parseInt(i.bl,10),medalId:parseInt(i.rid,10),isVipFan:i.vipfan,type:"special"}}}return r})).subscribe(function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(Zf({},t,{curRoomId:i}))})})},LevelUpServices.prototype.initAnchorLevelUp=function initAnchorLevelUp(e){id.subscribe("upbc",function(t){var r=C.DataCenter.global.get("USER_INFO.uid"),i=e.$ROOM.owner_uid,n=e.$ROOM.owner_name,a=!1,o=parseInt(t.pu,10)||0;r===i&&(a=!0),a||o||t&&0!==Object.keys(t).length&&e.barrageBase.push(Zf({},t,{ownerName:n}))})},LevelUpServices.prototype.initAnchorLevelDown=function initAnchorLevelDown(e){id.subscribe("dgbc",function(t){var r=C.DataCenter.global.get("USER_INFO.uid"),i=e.$ROOM.owner_uid,n=e.$ROOM.owner_name,a=!1,o=parseInt(t.pu,10)||0;r===i&&(a=!0),a||o||t&&0!==Object.keys(t).length&&e.barrageBase.push(Zf({},t,{ownerName:n}))})},LevelUpServices}(f.Service),qf=levelUpServices_applyDecoratedDescriptor(Kf.prototype,"medalOperatService",[Vf],{enumerable:!0,initializer:null}),Qf=levelUpServices_applyDecoratedDescriptor(Kf.prototype,"shieldToolService",[$f],{enumerable:!0,initializer:null}),Kf);function videoServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function videoServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function videoServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var od=w.a.socketStream,ld=(ed=(0,n.a.Service)(yp),td=function(e){function VideoServices(){var t,r;!function videoServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VideoServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=videoServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function videoServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"shieldToolService",rd,r),videoServices_possibleConstructorReturn(r,t)}return videoServices_inherits(VideoServices,e),VideoServices.prototype.init=function init(e){var t=this,r=parseInt(C.DataCenter.global.get("USER_INFO.uid"),10);od.subscribe("redirect",function(t){var r=t;if(r&&0!==Object.keys(r).length){if("redirect"!==r.type||"wdf_video"!==r.msgtype)return;r.senderId=e.$ROOM.owner_uid,r.senderNick=e.$ROOM.owner_name,e.barrageBase.push(r)}}),od.subscribe("srres",function(i){parseInt(i.uid,10)!==parseInt(r,10)&&t.shieldToolService.getShield(107)||i&&0!==Object.keys(i).length&&e.barrageBase.push(i)})},VideoServices}(f.Service),rd=function videoServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(td.prototype,"shieldToolService",[ed],{enumerable:!0,initializer:null}),td),sd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function guessServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function guessServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function guessServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var cd=w.a.socketStream,ud=o.a.decode,pd=o.a.isArray,fd=function(e){function GuessServices(){var t,r;!function guessServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GuessServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=guessServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),r.defaultAvatar="//teststatic.dz11.com/app/douyu/res/com/defaultAvatar.png?20161229",r.avatarDomain="https://apic.douyucdn.cn/",guessServices_possibleConstructorReturn(r,t)}return guessServices_inherits(GuessServices,e),GuessServices.prototype.init=function init(e){cd.subscribe("qzembls",function(t){if(t&&0!==Object.keys(t).length){if(""===t.qzels)return;var r=t.qzels,i=[];if(r)i=(pd(r)?ud(r):[r]).map(function(e){return sd({type:t.type},ud(e))});e.barrageBase.push(i)}})},GuessServices}(f.Service),dd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function guessTicketServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function guessTicketServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var bd,md,hd,vd=w.a.socketStream,gd=o.a.decode,yd=o.a.isArray,_d=function(e){function GuessTicketServices(){return function guessTicketServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GuessTicketServices),function guessTicketServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return guessTicketServices_inherits(GuessTicketServices,e),GuessTicketServices.prototype.init=function init(e){vd.subscribe("tkqzembls",function(t){if(t&&0!==Object.keys(t).length){if(""===t.qzels)return;var r=t.qzels,i=[];if(r)i=(yd(r)?gd(r):[r]).map(function(e){return dd({type:t.type},gd(e))});e.barrageBase.push(i)}})},GuessTicketServices}(f.Service);function BroadCastDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BroadCastDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BroadCastDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Sd,Nd,Cd,Od=C.basicTypes.string,wd=Object(ye.log)((md=function(e){function BroadCastDto(){var t,r;!function BroadCastDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BroadCastDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BroadCastDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function BroadCastDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"title",hd,r),BroadCastDto_possibleConstructorReturn(r,t)}return BroadCastDto_inherits(BroadCastDto,e),BroadCastDto}(C.EntityDto),hd=function BroadCastDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(md.prototype,"title",[Od],{enumerable:!0,initializer:null}),bd=md))||bd,Dd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function broadcastServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function broadcastServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function broadcastServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Ed=n.a.Service,kd=w.a.socketStream,Rd=o.a.decode,jd=(Sd=Ed(C.DataCenter.acj),Nd=function(e){function BroadcastServices(){var t,r;!function broadcastServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BroadcastServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=broadcastServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function broadcastServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"acj",Cd,r),broadcastServices_possibleConstructorReturn(r,t)}return broadcastServices_inherits(BroadcastServices,e),BroadcastServices.prototype.init=function init(e){var t=this;kd.subscribe("gbroadcast",function(r){var i=r||{};Object(s.of)(i).pipe(Object(c.map)(function(e){var t=e,r=parseInt(t.ft,10),i={};return 1===r?i=JSON.parse(t.gbcc):2===r&&(i=Rd(t.gbcc)),11===i.gbcss&&Dd({},t,{boardCast:i})}),Object(ic.concatMap)(function(e){return e?Object(l.forkJoin)(Object(s.of)(e),t.loadBroadCastData()):Object(s.of)(null)}),Object(c.map)(function(e){var t={};if(e){var r=e[0];if(r&&0!==Object.keys(r).length){var i=e[1].data,n=r.boardCast;i&&n.param_v2&&i[n.param_v2]&&(t.title=i[n.param_v2].title||""),t.rid=n.rid,t.onn=n.onn,t.type="gbroadcast"}}return t})).subscribe(function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(t)})})},BroadcastServices.prototype.loadBroadCastData=function loadBroadCastData(){return C.jsonpClient.get(Object(C.Dictionary)(wd),"//webconf.douyucdn.cn//resource/common/privilege_broadcast/broadcast.json","privilegeBroadcasConfig")},BroadcastServices}(f.Service),Cd=function broadcastServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Nd.prototype,"acj",[Sd],{enumerable:!0,initializer:null}),Nd);function firstChargeServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function firstChargeServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Pd=w.a.socketStream,Td=function(e){function FirstChargeServices(){return function firstChargeServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FirstChargeServices),function firstChargeServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return firstChargeServices_inherits(FirstChargeServices,e),FirstChargeServices.prototype.init=function init(e){Pd.subscribe("frb",function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(t)})},FirstChargeServices}(f.Service);function spreadServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function spreadServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Bd=w.a.socketStream,Md=function(e){function SpreadServices(){return function spreadServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SpreadServices),function spreadServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return spreadServices_inherits(SpreadServices,e),SpreadServices.prototype.init=function init(e){Bd.subscribe("npue",function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(t)})},SpreadServices}(f.Service);function lotteryServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function lotteryServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Ld=w.a.socketStream,zd=function(e){function lotteryServices(){return function lotteryServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,lotteryServices),function lotteryServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return lotteryServices_inherits(lotteryServices,e),lotteryServices.prototype.init=function init(e){Ld.subscribe("ldn",function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(t)})},lotteryServices}(f.Service);function drawBarrageServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function drawBarrageServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Ad,Id,Fd,xd=w.a.socketStream,Gd=function(e){function DrawBarrageServices(){return function drawBarrageServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DrawBarrageServices),function drawBarrageServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return drawBarrageServices_inherits(DrawBarrageServices,e),DrawBarrageServices.prototype.init=function init(e){var t=this;xd.subscribe("lds",function(r){t.handle(r,e)}),xd.subscribe("lds_v2",function(r){t.handle(r,e)}),xd.subscribe("lde",function(r){t.handle(r,e)}),xd.subscribe("lde_v2",function(r){t.handle(r,e)})},DrawBarrageServices.prototype.handle=function handle(e,t){var r=this,i=null;if(e&&e.type)switch(e.type){case"lds":case"lds_v2":var n=t.$ROOM.owner_name||"";i={type:e.type,anchorName:n};break;case"lde":case"lde_v2":var a=JSON.parse(e.win_list),o=e.prize_name,l=a.length,s=C.DataCenter.global.get("USER_INFO.uid"),c=t.$ROOM.owner_uid,u=!1;if(+s===+c&&(u=!0),l){var p=l>10?a.slice(0,10):a,f="";p.forEach(function(e,t){var i=r.getUserStarNickName(e.nickname,u,+e.uid===+s);f+=i,t<p.length-1&&(f+="\u3001")}),i={type:e.type,nickName:f,len:a.length,prize:o}}else u&&(i={type:e.type,len:0})}i&&0!==Object.keys(i).length&&t.barrageBase.push(i)},DrawBarrageServices.prototype.getUserStarNickName=function getUserStarNickName(e,t,r){if(t||r)return e;var i=e,n=e.length,a="";if(n<5){for(var o=1;o<n;o++)a+="*";i=i.substring(0,1)+a}else i=i.substring(0,1)+"***"+i.substring(4,n);return i},DrawBarrageServices}(f.Service),Ud=r("620ed"),Hd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function enterEffectServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function enterEffectServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function enterEffectServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Wd,Vd,$d,Kd,qd,Qd,Jd,Yd,Xd,Zd,eb,tb=n.a.Store,rb=w.a.socketStream,ib=(Ad=tb(),Id=function(e){function EnterEffectServices(){var t,r;!function enterEffectServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterEffectServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=enterEffectServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function enterEffectServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"store",Fd,r),enterEffectServices_possibleConstructorReturn(r,t)}return enterEffectServices_inherits(EnterEffectServices,e),EnterEffectServices.prototype.init=function init(){var e=this;rb.subscribe("clubcall",function(t){e.store.dispatch(Fo.receiveMotorcadeEnter(t))})},EnterEffectServices.prototype.handlerEnterData=function handlerEnterData(e,t){var r=this,i=Hd({},e),n=i.el,a=i.ceid,o=i.nl,l=[1500000263,1500000264,1500000265,1500000279];if(n&&this.processArrData(e.el).some(function(t){var i=t||{},n=i.etp,a=i.ef,o=Hd({},e,{el:t});return 2===+n&&1===+a&&(r.store.dispatch(Fo.receiveNormalEnter(o)),!0)}))return!0;if(a)return this.store.dispatch(Fo.receiveLevel120Enter(e)),!0;if(n&&this.processArrData(e.el).some(function(t){var i=(t||{}).eid,n=Hd({},e,{el:t});return l.some(function(e){return+i===e&&(r.store.dispatch(Fo.receiveSharkEnter(n)),!0)})}))return!0;if(n&&t.cateVaLid&&this.processArrData(e.el).some(function(i){if(+(i||{}).eid===+t.effect_id){var n=["duke","king","emperor"],a={enterBg:t.effect_url||"",wText:t.welcome_text||"",nColor:t.normal_color||"#111",nkColor:t.normal_nn_color||"#111"};o>3&&7!==+o&&(a={enterBg:t[n[+o-4]+"_pic"]||t.effect_url||"",wText:t.welcome_text||"",nColor:t[n[+o-4]+"_color"]||t.normal_color||"#111",nkColor:t[n[+o-4]+"_nn_color"]||t.normal_nn_color||"#111"});var l=Hd({},e,{el:i,wcConfig:a});return r.store.dispatch(Fo.receiveWindCloudEnter(l)),!0}return!1}))return!0;return o>3&&7!==+o&&(this.store.dispatch(Fo.receiveNobleEnter(e)),!0)},EnterEffectServices.prototype.processArrData=function processArrData(){var e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("/").forEach(function(t){var r=Ud.a.decode(t).too();0!==Object.keys(r).length&&e.push(r)}),e},EnterEffectServices.prototype.deleteEnterData=function deleteEnterData(e){this.store.dispatch(Fo.deleteEnter(e))},EnterEffectServices}(f.Service),Fd=function enterEffectServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Id.prototype,"store",[Ad],{enumerable:!0,initializer:null}),Id),nb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function userEnterServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function userEnterServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function userEnterServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function userEnterServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function userEnterServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ab,ob,lb,sb,cb=w.a.socketStream,ub=n.a.Service,pb=(Wd=ub(C.DataCenter.global),Vd=ub(Sc),$d=ub(Ec),Kd=ub(ib),qd=ub(Gc.a),Qd=function(e){function UserEnterServices(){var t,r;!function userEnterServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,UserEnterServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=userEnterServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),userEnterServices_initDefineProp(r,"global",Jd,r),userEnterServices_initDefineProp(r,"barrageMedalService",Yd,r),userEnterServices_initDefineProp(r,"barrageMotorService",Xd,r),userEnterServices_initDefineProp(r,"enterEffectServices",Zd,r),userEnterServices_initDefineProp(r,"userRoleService",eb,r),userEnterServices_possibleConstructorReturn(r,t)}return userEnterServices_inherits(UserEnterServices,e),UserEnterServices.prototype.init=function init(e){var t=this,r=this;C.jsonpClient.get(String,this.global.get("$SYS.webconfUrl")+"resource/common/activity/wind_cloud.json","actCloud").subscribe(function(i){var n=t.flattenLogicCate(i,e.$ROOM.cate2_id);cb.subscribe("uenter",function(i){Object(s.of)(i).pipe(Object(c.map)(function(i){var a=i,o=t.enterEffectServices.handlerEnterData(a,n),l=t.notHighLevelStrategy(a);return o||l?null:(a=mc(a),a=r.barrageMedalService.setMedalData([a,e.$ROOM.effectInfo,e.$COLLIGATE.madelConfig]),t.userRoleService.setUserGroup(a.uid,{pg:a.pg||1,rg:a.rg||1}),a)}),Object(ic.concatMap)(function(e){return e?Object(l.forkJoin)(Object(s.of)(e),t.barrageMotorService.loadMotorcadeData()):Object(s.of)(null)}),Object(c.map)(function(e){var r=null;if(e){var i=e[0];if(i&&0!==Object.keys(i).length){var n=e[1].data;(r=i).motorcadeFlag=t.barrageMotorService.getMotorcadeConfig(r,n),r.motorcadeBg=t.barrageMotorService.getMotorcadeBg(r,n)}}return r})).subscribe(function(t){t&&0!==Object.keys(t).length&&e.barrageBase.push(nb({},t,{nobleConfig:e.$ROOM.nobleConfig,isShowUserLevel:e.$COLLIGATE.userLevelSwitch>0?1:0}))})})})},UserEnterServices.prototype.notHighLevelStrategy=function notHighLevelStrategy(){var e=(this.global.get("BARRAGE_CACHE_LENGTH")||{}).bufferCount;return(void 0===e?0:e)>=5&&!!parseInt(8*Math.random(),10)},UserEnterServices.prototype.flattenLogicCate=function flattenLogicCate(e,t){var r={cateVaLid:!1},i=e.zone_list||{};return Object.keys(i).forEach(function(e){i[e].forEach(function(e){+e.cate2_id===+t&&Object.assign(r,e||{},{cateVaLid:!0})})}),r},UserEnterServices}(f.Service),Jd=userEnterServices_applyDecoratedDescriptor(Qd.prototype,"global",[Wd],{enumerable:!0,initializer:null}),Yd=userEnterServices_applyDecoratedDescriptor(Qd.prototype,"barrageMedalService",[Vd],{enumerable:!0,initializer:null}),Xd=userEnterServices_applyDecoratedDescriptor(Qd.prototype,"barrageMotorService",[$d],{enumerable:!0,initializer:null}),Zd=userEnterServices_applyDecoratedDescriptor(Qd.prototype,"enterEffectServices",[Kd],{enumerable:!0,initializer:null}),eb=userEnterServices_applyDecoratedDescriptor(Qd.prototype,"userRoleService",[qd],{enumerable:!0,initializer:null}),Qd),fb=r("ead42"),db=r("b2b3f"),bb=r("d48de"),mb=((ab={1:"BANNER_4_GIFT",2:"BANNER_4_NOBLE"}).BANNER_4_GIFT=1,ab.BANNER_4_NOBLE=2,{BANNER_4_GIFT:[54,76,88],BANNER_4_NOBLE:[0,94,106,106,106,106,106,75]}),hb=mb,vb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function barrageBannerServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function barrageBannerServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageBannerServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var gb,yb,_b,Sb,Nb,Cb,Ob,wb,Db,Eb,kb,Rb,jb,Pb,Tb,Bb=n.a.Service,Mb=w.a.socketStream,Lb=C.DataCenter.global.get("$ROOM"),zb=C.DataCenter.global.get("USER_INFO"),Ab=(ob=Bb(C.DataCenter.common),lb=function(e){function BarrageBannerService(){var t,r;!function barrageBannerServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageBannerService);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=barrageBannerServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function barrageBannerServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"common",sb,r),r.bannersList=[],r.bannersMap={},r.BANNER_LIST_MAX_LENGTH=4,r.forbiddenMap={},barrageBannerServices_possibleConstructorReturn(r,t)}return barrageBannerServices_inherits(BarrageBannerService,e),BarrageBannerService.prototype.bindStateChange=function bindStateChange(e){var t=this;this.changeView=e,Mb.subscribe("ban_user",function(e){var r=e.uid;r&&(t.forbiddenMap[r]=r,t.clearBanner(r))})},BarrageBannerService.prototype.isUserBanned=function isUserBanned(e){return!!this.forbiddenMap[e]},BarrageBannerService.prototype.getBannerData=function getBannerData(e){if("BANNER_4_NOBLE"===e.bannerType){var t=+new Date,r=this.getBannerId(e),i=t+(e.bannerStayTime||0)+300;return vb({},e,{bannerId:r,createTime:t,expireTime:i,bannerHeight:hb[e.bannerType][e.objectId]})}return"BANNER_4_GIFT"===e.bannerType?this.getGiftBanner(e):null},BarrageBannerService.prototype.getGiftBanner=function getGiftBanner(e){var t=e.hitTimes,r=e.senderId,i=e.senderName,n=e.id,a=e.name,o=e.devote,l=e.stayTime,s=void 0===l?0:l,c=e.bimg,u=e.himg,p=e.brgb,f=e.urgb,d=e.grgb,b=e.drgb,m=e.batchBannerConf,h=e.type,v=e.pc,g=e.batchData,y=e.batchNumArr,_=e.data||{},S=_.bst,N=_.gfcnt,C=_.bcnt,O={bannerType:"BANNER_4_GIFT",senderId:r,senderName:i,objectId:n,objectName:a,senderFansname:"",hitTimes:parseInt(t,10)||1,gfcnt:parseInt(N,10)||1,bcnt:parseInt(C,10)||1,contribution:o*(N||1),bannerStayTime:(S&&"0"!==S?1e3*S:s)||0,level:6,bannerBgImg:c,bannerHeaderImg:u,bannerHeaderImgBorder:p,senderNameColor:f,actionColor:b,objectColor:d},w={batchBannerConf:m,type:h,pc:v,gfcnt:N,batchData:g,batchNumArr:y},D=+new Date,E=this.getBannerId(O),k=D+(O.bannerStayTime||0)+300,R=this.getBatchBannerData(O,w);return Object.assign(vb({bannerId:E,createTime:D,expireTime:k,gfcnt:N,bcnt:C},R),O)},BarrageBannerService.prototype.receiveBannerData=function receiveBannerData(e){var t=this,r=e.giftData;r&&(this.$ROOM?this.handleBannerData(r):this.common.get("$DATA").subscribe(function(e){t.$ROOM=e.get("room"),t.handleBannerData(r)}))},BarrageBannerService.prototype.handleBannerData=function handleBannerData(e){var t=this.bannersList,r=this.getBannerData(e),i=r.bannerId,n=t.concat();if(!this.forbiddenMap[r.senderId]){if(n.unshift(r),n=this.sort(n),this.bannersMap[i])Object.assign(this.bannersMap[i],r);else if(n.length>4){(n=n.slice(0,4)).indexOf(r)>-1?(this.destroyBanner(3),t.unshift(r),this.bannersMap[i]=r):+r.senderId===+zb.uid&&(this.destroyBanner(3,r),this.bannersMap[i]=r)}else t.unshift(r),this.bannersMap[i]=r;this.bannersList=this.sort(t),this.setPositions(),this.changeView(this.bannersList),this.runTimer()}},BarrageBannerService.prototype.getBatchBannerData=function getBatchBannerData(e,t){var r=t.type,i=t.pc,n=t.gfcnt,a=void 0===n?1:n,o=t.batchNumArr,l=void 0===o?[]:o,s=t.batchData,c=void 0===s?{}:s,u=t.batchBannerConf,p=void 0===u?{}:u,f=0;p&&p.threshold&&(1===r?f=p.threshold.ywsw:2===r&&(f=p.threshold.ycsw));for(var d=i*(a||1),b=this.getPriceIndex(d,f)||0,m=hb[e.bannerType][b],h="",v=0,g=0;g<l.length;g++)parseInt(a,10)>=parseInt(l[g],10)&&(h=l[g]);var y=c[h]?c[h].bimg_effect:"",_=c[h]?c[h].bimg_lv:0;1===_?v=0:2===_?v=1:3===_&&(v=2);var S={};if(p){var N=p.room||{},C=p.tag||{},O=p.default||{},w=Lb.room_id,D=this.$ROOM.cate_id;N[w]?S=N[w]||{}:C[D]?S=C[D]||{}:O&&(S=O||{})}var E=S.src||[],k=S.nc?"#"+S.nc:"#ffffff",R=S.gnc?"#"+S.gnc:"#ffffff",j=S.oc?"#"+S.oc:"#ffffff";return y||(y=E[b],v=b),{bannerHeight:m,bannerBatchBg:y,batchPriceIndex:v,nickNameColor:k,giftNameColor:R,otherColor:j}},BarrageBannerService.prototype.getPriceIndex=function getPriceIndex(e,t){for(var r=0,i=0;i<t.length;i++)parseInt(e,10)>=parseInt(t[i],10)&&(r=i+1);return r},BarrageBannerService.prototype.getBannerId=function getBannerId(e){return e.bannerType+"-"+e.senderId+"-"+e.objectId},BarrageBannerService.prototype.sort=function sort(e){return e.sort(function(e,t){var r=void 0,i=e.gfcnt>1?e.bcnt:e.hitTimes,n=t.gfcnt>1?t.bcnt:t.hitTimes;return e.contribution!==t.contribution?r=t.contribution-e.contribution:i!==n?r=n-i:e.createTime!==t.createTime&&(r=t.createTime-e.createTime),r})},BarrageBannerService.prototype.setPositions=function setPositions(){var e=this,t=30;this.bannersList.forEach(function(r,i){e.bannersList[i].top=t,t+=r.bannerHeight+15})},BarrageBannerService.prototype.runTimer=function runTimer(){var e=this;this.isTimerRunning=!0;!function timerRun(){e.bannersList.forEach(function(t,r){+new Date>=t.expireTime&&(e.destroyBanner(r),e.setPositions(),e.changeView(e.bannersList))}),e.bannersList.length>0?setTimeout(function(){timerRun()},500):e.isTimerRunning=!1}()},BarrageBannerService.prototype.destroyBanner=function destroyBanner(e,t){var r=this.bannersList,i=this.getBannerId(r[e]);this.bannersMap[i]=null,delete this.bannersMap[i],t?this.bannersList.splice(e,1,t):this.bannersList.splice(e,1),this.changeView(this.bannersList)},BarrageBannerService.prototype.clearBanner=function clearBanner(e){var t=this;e?(this.bannersList=this.bannersList.filter(function(r){var i=r.senderId,n=t.getBannerId(r),a=+i===+e;return a&&(t.bannersMap[n]=null,delete t.bannersMap[n]),!a}),this.setPositions(),this.changeView(this.bannersList)):(this.bannersList=[],this.bannersMap={},this.changeView(this.bannersList))},BarrageBannerService}(f.Service),sb=function barrageBannerServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(lb.prototype,"common",[ob],{enumerable:!0,initializer:null}),lb);function giftBarrageServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function giftBarrageServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function giftBarrageServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function giftBarrageServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ib,Fb,xb,Gb=w.a.socketStream,Ub=n.a.Service,Hb=(gb=Ub(bb.a),yb=Ub(Ec),_b=Ub(M),Sb=Ub(yp),Nb=Ub(Ab),Cb=Ub(C.DataCenter.common),Ob=Ub(C.DataCenter.global),wb=function(e){function GiftBarrageServices(){!function giftBarrageServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftBarrageServices);var t=function giftBarrageServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return giftBarrageServices_initDefineProp(t,"giftSendService",Db,t),giftBarrageServices_initDefineProp(t,"barrageMotorService",Eb,t),giftBarrageServices_initDefineProp(t,"medalOperatService",kb,t),giftBarrageServices_initDefineProp(t,"shieldToolService",Rb,t),giftBarrageServices_initDefineProp(t,"barrageBannerServices",jb,t),giftBarrageServices_initDefineProp(t,"common",Pb,t),giftBarrageServices_initDefineProp(t,"global",Tb,t),t.giftList=[],t}return giftBarrageServices_inherits(GiftBarrageServices,e),GiftBarrageServices.prototype.getGiftByGiftId=function getGiftByGiftId(e){var t={};return(this.global.get("$GIFT_ALL_CONFIG")||[]).forEach(function(r){parseInt(e,10)===parseInt(r.id,10)&&(t=r)}),t},GiftBarrageServices.prototype.isNeedBarrageAbandon=function isNeedBarrageAbandon(e){var t=e.uid,r=(C.DataCenter.global.get("USER_INFO")||{}).uid,i=this.getGiftByGiftId(e.gfid),n=0;if(parseInt(r,10)!==parseInt(t,10))return!1;switch(i.type){case 1:n=i.pc*e.gfcnt/1e3;break;case 2:n=i.pc*e.gfcnt;break;default:n=0}return n<=6e3},GiftBarrageServices.prototype.giftAsync=function giftAsync(e){var t=this,r=Object(fb.interval)(400).subscribe(function(){0!==t.giftList.length?e.next(t.giftList.shift()):r.unsubscribe()})},GiftBarrageServices.prototype.pressInGiftList=function pressInGiftList(e){this.giftList.length<60?this.giftList.push(e):(this.giftList.shift(),this.giftList.push(e))},GiftBarrageServices.prototype.init=function init(e){var t=this,r=this,i=C.DataCenter.global.get("USER_INFO.uid"),n=new db.Subject;n.subscribe(function(e){return t.handleGiftBat.apply(t,e)}),this.common.get("$DATA").subscribe(function(a){var o=+a.get("room.owner_uid"),l=i>0&&i===o?"bgd":"dgb";Gb.subscribe(l,function(a){parseInt(a.uid,10)!==parseInt(i,10)&&t.shieldToolService.getShield(106)||t.barrageBannerServices.isUserBanned(a.uid)||(t.isNeedBarrageAbandon(a)?0===t.giftList.length?(t.pressInGiftList([a,e]),t.giftAsync(n)):t.pressInGiftList([a,e]):r.handleGiftBat(a,e))})}),Gb.subscribe("tsgs",function(r){if(parseInt(r.uid,10)===parseInt(i,10)||!t.shieldToolService.getShield(105)){var n=r;parseInt(n.silver,10)?n.type="tsgspeck":n.type="tsgsprop",n&&0!==Object.keys(n).length&&e.barrageBase.push(n)}})},GiftBarrageServices.prototype.handleGiftBat=function handleGiftBat(e,t){var r=this,i=this,n=mc(e);Object(s.of)(n).pipe(Object(ic.concatMap)(function(e){return e?Object(l.forkJoin)(Object(s.of)(e),r.barrageMotorService.loadMotorcadeData(),r.medalOperatService.getConfig(),r.giftSendService.getAllGiftConfig(),r.giftSendService.getAllPropsConfig()):Object(s.of)(null)}),Object(c.map)(function(e){var n=null;if(e){var a=e[0];if(a&&0!==Object.keys(a).length){var o=e[1].data,l=e[2].data,s=e[3].data||[],c=e[4].data||[],u={name:a.bnn,lev:parseInt(a.bl,10),medalId:parseInt(a.brid,10),isVipFan:a.vipfan,type:"special"},p=s.filter(function(e){return parseInt(e.id,10)===parseInt(a.gfid,10)})[0];if(!p&&!(p=c[a.gfid]))return null;if(i.giftBatterMsgShow(a,p))return null;(n=a).motorcadeFlag=r.barrageMotorService.getMotorcadeConfig(n,o),n.motorcadeBg=r.barrageMotorService.getMotorcadeBg(n,o),n.fansMedal={medalBgOptions:r.medalOperatService.handleMedalOptions(u,l),name:a.bnn,lev:parseInt(a.bl,10),medalId:parseInt(a.brid,10),isVipFan:a.vipfan,type:"special"},n.curRoomId=t.$ROOM.room_id,n.nobleConfig=t.$ROOM.nobleConfig,n.isShowUserLevel=t.$COLLIGATE.userLevelSwitch>0?1:0,n.giftConfig=p}}return n})).subscribe(function(e){e&&0!==Object.keys(e).length&&t.barrageBase.push(e)})},GiftBarrageServices.prototype.giftBatterMsgShow=function giftBatterMsgShow(e,t){if(!t)return!1;var r=e.gfcnt||1,i=parseInt(e.bcnt,10)||0,n=parseInt(e.hits,10)||0;if(t.pc/100*r<=1){if(!n||n<=1)return!1;if(r>1){if(i>0&&i%10===0||1===i)return!1}else if(n>1&&n%10===0)return!1;return!0}return!1},GiftBarrageServices}(f.Service),Db=giftBarrageServices_applyDecoratedDescriptor(wb.prototype,"giftSendService",[gb],{enumerable:!0,initializer:null}),Eb=giftBarrageServices_applyDecoratedDescriptor(wb.prototype,"barrageMotorService",[yb],{enumerable:!0,initializer:null}),kb=giftBarrageServices_applyDecoratedDescriptor(wb.prototype,"medalOperatService",[_b],{enumerable:!0,initializer:null}),Rb=giftBarrageServices_applyDecoratedDescriptor(wb.prototype,"shieldToolService",[Sb],{enumerable:!0,initializer:null}),jb=giftBarrageServices_applyDecoratedDescriptor(wb.prototype,"barrageBannerServices",[Nb],{enumerable:!0,initializer:null}),Pb=giftBarrageServices_applyDecoratedDescriptor(wb.prototype,"common",[Cb],{enumerable:!0,initializer:null}),Tb=giftBarrageServices_applyDecoratedDescriptor(wb.prototype,"global",[Ob],{enumerable:!0,initializer:null}),wb);function yzServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function yzServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function yzServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Wb=w.a.socketStream,Vb=o.a.decode,$b=(Ib=(0,n.a.Service)(yp),Fb=function(e){function YzServices(){var t,r;!function yzServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,YzServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=yzServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function yzServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"shieldToolService",xb,r),yzServices_possibleConstructorReturn(r,t)}return yzServices_inherits(YzServices,e),YzServices.prototype.init=function init(e){var t=this,r=C.DataCenter.global.get("USER_INFO.uid");Wb.subscribe("apkb",function(i){var n=i;if((parseInt(n.uid,10)===parseInt(r,10)||!t.shieldToolService.getShield(107))&&4===parseInt(n.cmd,10)){var a=n.ac,o=n.bc,l=Vb(n.ai),s=Vb(n.bi),c=Vb(n.ua),u=Vb(n.ub),p={},f={};if(parseInt(a,10)===parseInt(o,10))return;parseInt(a,10)>parseInt(o,10)?(p=l||{},f=c||{}):(p=s||{},f=u||{}),p.id=e.$ROOM.owner_uid,n.winerInfo=p,n.maxDevoteUser=f,e.barrageBase.push(n)}})},YzServices}(f.Service),xb=function yzServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Fb.prototype,"shieldToolService",[Ib],{enumerable:!0,initializer:null}),Fb),Kb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function nobleNotifyServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleNotifyServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var qb=w.a.socketStream,Qb=function(e){function NobleNotifyServices(){return function nobleNotifyServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleNotifyServices),function nobleNotifyServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return nobleNotifyServices_inherits(NobleNotifyServices,e),NobleNotifyServices.prototype.init=function init(e){qb.subscribe("rnewbc",function(t){var r=e.$ROOM.room_id||"",i=e.$ROOM.nobleConfig||{},n="";t.nl&&(n=i[t.nl].noble_name),t&&0!==Object.keys(t).length&&parseInt(r,10)===parseInt(t.drid,10)&&e.barrageBase.push(Kb({},t,{nobleName:n,nobleConfig:i}))})},NobleNotifyServices}(f.Service);function goldPlayServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function goldPlayServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Jb,Yb,Xb,Zb=w.a.socketStream,em=function(e){function GoldPlayServices(){return function goldPlayServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GoldPlayServices),function goldPlayServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return goldPlayServices_inherits(GoldPlayServices,e),GoldPlayServices.prototype.init=function init(e){Zb.subscribe("pwvthr",function(t){e.barrageBase.push(t)})},GoldPlayServices}(f.Service),tm=r("bf2d1");function motorcadeServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function motorcadeServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function motorcadeServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var rm,im,nm=w.a.socketStream,am=(Jb=(0,n.a.Service)(tm.a),Yb=function(e){function MotorcadeServices(){var t,r;!function motorcadeServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MotorcadeServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=motorcadeServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function motorcadeServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"baseConfigService",Xb,r),motorcadeServices_possibleConstructorReturn(r,t)}return motorcadeServices_inherits(MotorcadeServices,e),MotorcadeServices.prototype.init=function init(){var e=this;nm.subscribe("socket_ready",function(){e.baseConfigService.privateLetterCreate().then(function(){var e=window.ImJsSdk;if(e){if(e.driverInPlace)try{e.driverInPlace()}catch(e){}if(e.getParams)try{e.getParams(1,O.dysub)}catch(e){}}})})},MotorcadeServices}(f.Service),Xb=function motorcadeServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Yb.prototype,"baseConfigService",[Jb],{enumerable:!0,initializer:null}),Yb);function summerMedalServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function summerMedalServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var om,lm,sm,cm,um,pm,fm,dm,bm,mm,hm,vm,gm,ym,_m,Sm,Nm,Cm,Om,wm,Dm,Em,km,Rm,jm,Pm,Tm,Bm,Mm,Lm,zm,Am,Im,Fm,xm,Gm,Um,Hm,Wm,Vm,$m,Km,qm,Qm=[1500000272,1500000271,1500000270],Jm=(im=rm=function(e){function SummerMedalServices(){return function summerMedalServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SummerMedalServices),function summerMedalServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return summerMedalServices_inherits(SummerMedalServices,e),SummerMedalServices}(f.Service),rm.getSummerMedal=function(e){if(e&&e.length){var t=!1,r="";return e.length&&(e.forEach(function(e){parseInt(e.eid,10)===Qm[0]&&(r="high",t=!0)}),t||e.forEach(function(e){parseInt(e.eid,10)===Qm[1]&&(r="middle",t=!0)}),t||e.forEach(function(e){parseInt(e.eid,10)===Qm[2]&&(r="low",t=!0)})),r}return!1},im),Ym=(r("61df2"),function Identity(e){var t=e.showSuperIdentity,r=e.platformGroup,i=e.roomGroup,n=e.identityName||"";if(""===n)if(5!==r&&2!==r||1!==t){if(4!==i)return"";n="roomAdmin"}else n="superAdmin";return'<span class="Barrage-icon Barrage-icon--'+n+'"></span>'}),Xm=(r("65e8a"),function Noble(e){var t=e.nobleLevel,r=void 0===t?0:t,i=e.nobleConfig,n=r?i[r]:null;return n?'\n        <span class="Barrage-icon Barrage-noble">\n            <img class="Barrage-nobleImg" src="//res.douyucdn.cn//resource/'+n.symbol.web_symbol_pic1+'" title="'+n.symbol.name+'"/>\n        </span>\n    ':""}),Zm=(r("7b832"),function Medal(e){var t=e.chatMedal,r=void 0===t?[]:t,i="";return r&&r.length>0&&r.forEach(function(e){i+='\n                <a class="Medal" '+(e.link?"href="+e.link:"")+" data-id="+e.eid+" "+(e.link?'target="_blank"':"")+' >\n                    <img class="Medal-image '+(e.achievementId?"is-achievement":"")+'" src="'+e.img+'" title="'+(e.title||"")+'" data-achievementId="'+e.achievementId+'" />\n                </a>\n            '}),i}),eh=(r("0c7af"),function Reward(e){var t=e.roomPayLevel,r=e.roomPayCount,i=e.platformPayLevel,n=e.roomPayTitle;return t>0&&r?'\n            <span class="Reward"}\n                title="'+n+'"\n            >\n                <span class="Reward-image Reward-image--level'+t+'"></span>\n                <em class="Reward-level Reward-level--level'+t+'">x'+r+"</em>\n            </span>\n        ":i>0?'\n            <span class="Reward">\n                <span class="Reward-image Reward-image--other" title="\u916c\u52e4\u7528\u6237"></span>\n            </span>\n        ':""}),th=function AnchorLevel(e){var t=e.anchorLevel;return t?'\n        <span\n            class="AnchorLevel AnchorLevel-'+t+'" style="margin-right:4px"\n            title="\u4e3b\u64ad\u7b49\u7ea7\uff1a'+t+'">\n        </span>\n    ':null},rh=(r("0d663"),function Level(e){var t=e.userLevel,r=e.isNext,i=void 0===r?"":r,n=e.isShowUserLevel;return t&&(void 0===n||n)?'\n        <span\n            class="UserLevel UserLevel--'+(i?"next-":"")+t+'"\n            title="\u7528\u6237\u7b49\u7ea7\uff1a'+t+'">\n        </span>\n    ':null}),ih=function Fans(e){var t=e.fansMedal||{},r=t.lev,i=void 0===r?0:r,n=t.name,a=void 0===n?"":n,o=t.medalBgOptions,l=void 0===o?{}:o,s=t.medalId,c=l.isBest,u=l.url,p=e.checkCode,f=void 0===p?"":p,d=e.curRoomId,b=void 0===d?"":d,m=e.fansIsDys,h=void 0!==m&&m;return i?u?b!==s?'\n                <a class="FansMedal '+(c?"is-best":"is-made")+" Barrage-icon "+(f?"js-fans-hover":"")+" "+(h?"js-fans-dysclick":"")+'" \n                href="/'+s+'" target="_blank" data-rid="'+s+'" '+(f?'data-hc="'+f+'"':"")+'\n                style="display:inline-block;background-image: url('+u+')">\n                    <span class="FansMedal-name '+(f?"js-fans-hover":"")+" "+(h?"js-fans-dysclick":"")+'" data-rid="'+s+'" '+(f?'data-hc="'+f+'"':"")+">"+a+"</span>\n                </a>\n            ":'\n            <div class="FansMedal '+(c?"is-best":"is-made")+" "+(h?"js-fans-dysclick":"")+' Barrage-icon" style="background-image: url('+u+')" data-rid="'+s+'">\n                <span class="FansMedal-name '+(h?"js-fans-dysclick":"")+'" data-rid="'+s+'">'+a+"</span>\n            </div>\n        ":b!==s?'\n            <a class="FansMedal level-'+i+" "+(f?"js-fans-hover":"")+" "+(h?"js-fans-dysclick":"")+' Barrage-icon" href="/'+s+'" target="_blank" data-rid="'+s+'" '+(f?'data-hc="'+f+'"':"")+'>\n                <span class="FansMedal-name '+(f?"js-fans-hover":"")+" "+(h?"js-fans-dysclick":"")+'" data-rid="'+s+'" '+(f?'data-hc="'+f+'"':"")+">"+a+"</span>\n            </a>\n        ":'\n        <div class="FansMedal level-'+i+" "+(h?"js-fans-dysclick":"")+' Barrage-icon" data-rid="'+s+'">\n            <span class="FansMedal-name '+(h?"js-fans-dysclick":"")+'" data-rid="'+s+'">'+a+"</span>\n        </div>\n    ":""},nh=(r("c913b"),function Name(e){var t=e.isSelf,r=e.senderNick,i=e.senderId,n=void 0===i?"":i,a=e.hasColon,o=e.senderNickPre,l=void 0===o?"":o,s=e.roleInfo,c=["Barrage-nickName","Barrage-nickName--"+(e.senderNickColor||"blue"),t?"is-self":"",e.hasCard?"js-nick":""].filter(Boolean).join(" "),u=(s?s.name:r)+(a?"\uff1a":""),p=e.senderNickTitle||r;return r?"\n            "+function renderPre(e){return e?'<span class="Barrage-nickName Barrage-nickName--blue">'+e+"</span>":""}(l)+'\n            <span class="'+c+'" title="'+p+'" data-uid="'+n+'">'+u+"</span>\n        ":""}),ah=(r("a8286"),r("a469f"),function Emot(e){var t=e.emotCode,r=void 0===t?"":t,i=e.repUrl,n=void 0===i?"":i;return n&&r?'\n            <img class="Emot-image" rel="dy'+r+'" src="'+n+'" />\n    ':""}),oh=(r("9cdeb"),function Content(e){var t=e.barrageColor,r=e.chatId,i=e.chatCampColor,n=t>=0?" Barrage-content--color"+t:"",a=e.barrageContent,o=function replaceFace(e){var t=[],r="",i="";return Da.a.BARRAGE_EMOT.forEach(function(n){var a=new RegExp("\\[emot:dy"+n.id+"\\]","g");e.match(a)&&(r=""+n.url,i=""+n.id,t.push({repUrl:r,emotCode:i}))}),t}(a);return o&&o.length>0&&o.forEach(function(e){var t=e.emotCode,r=void 0===t?"":t,i=e.repUrl,n=ah({emotCode:r,repUrl:void 0===i?"":i});a=a.replace(new RegExp("\\[emot:dy"+r+"\\]","g"),n)}),a?'\n        <span class="Barrage-content'+n+'" data-chatId="'+r+'" '+(i?'style="color:'+i+'"':"")+">\n            "+a+"\n        </span>\n    ":""}),lh=function Link(e){var t=e.superLink,r=void 0===t?{}:t;return'\n        <a class="HyperLink js-link-dysclick" data-msg-type="'+r.type+'" href="'+r.link+'" target="_blank">\n            <span class="HyperLink-brace">\u3010</span>\n            '+oh(e)+'\n            <span class="HyperLink-brace">\u3011</span>\n        </a>\n    '},sh=(r("ee4ef"),function Baby(e){var t=e.chatBaby,r=(void 0===t?[]:t)[0],i="";return r&&(i+='\n            <a class="Baby" '+(r.link?'href="'+r.link+'"':"")+" data-id="+r.eid+" "+(r.link?'target="_blank"':"")+'>\n                <img class="Baby-image '+(r.achievementId?"is-achievement":"")+'" src="'+r.img+'" title="'+(r.title||"")+'" data-achievementId="'+r.achievementId+'" />\n            </a>\n        '),i}),ch=(r("72b37"),function System(e){var t=e.resMsg,r=void 0===t?{}:t,i=r.type,n=void 0===i?0:i,a=r.str,o=void 0===a?"":a,l="\u7cfb\u7edf\u63d0\u793a\uff1a";return 0===n?l="\u7cfb\u7edf\u63d0\u793a\uff1a":1===n&&(l="\u6d88\u606f\u63d0\u9192\uff1a"),o?'\n        <i class="Barrage-icon Barrage-icon--sys"></i>\n        <div class="Barrage-notice">\n            <span class="Barrage-text Barrage-notice--red">'+l+'</span>\n            <span class="Barrage-text">'+o+"</span>\n        </div>\n    ":""}),uh=(r("6a5cb"),function Motor(e){var t=e.motorcadeFlag,r=void 0===t?"":t,i=e.motorcadeBg,n=void 0===i?"":i;return r?'\n            <span class="Motor" title="'+r+'" data-motorcade="'+r+'" \n            '+(n?'style="background-image:url('+n+')"':"")+'"\n            >\n                <span class="Motor-flag">'+r+"</span>\n            </span>\n        ":""}),ph=(r("2977f"),function SummerMedal(e){var t=e.summerMedal,r="";return t&&"high"===t?r+='\n            <a href="https://www.douyu.com/actives/summer?#rank" target="_blank" class="Summer_Medal Summer_Medal_high" title="\u7cbe\u795e\u80a1\u4e1c\uff1a\u9ad8\u9636\u5fbd\u7ae0"></a>\n        ':t&&"middle"===t?r+='\n            <a href="https://www.douyu.com/actives/summer?#rank" target="_blank" class="Summer_Medal Summer_Medal_middle" title="\u7cbe\u795e\u80a1\u4e1c\uff1a\u4e2d\u9636\u5fbd\u7ae0"></a>\n        ':t&&"low"===t&&(r+='\n            <a href="https://www.douyu.com/actives/summer?#rank" target="_blank" class="Summer_Medal Summer_Medal_low" title="\u7cbe\u795e\u80a1\u4e1c\uff1a\u4f4e\u9636\u5fbd\u7ae0"></a>\n        '),r}),fh=(r("7f84e"),function ChatAchievement(e){var t=e.chatAchievement,r=void 0===t?[]:t,i="";return r&&r.length>0&&r.forEach(function(e){i+='\n                <a class="ChatAchievement">\n                    <img class="ChatAchievement-image is-achievement '+(2===+e.imgType?"is-small2Img":"")+'" src="'+e.img+'"  data-achievementId="'+e.achievementId+'" />\n                </a>\n            '}),i}),dh=(r("8fa72"),{identity:Ym,noble:Xm,medal:Zm,reward:eh,summerMedal:ph,anchorLevel:th,level:rh,name:nh,fans:ih,link:lh,content:oh,emot:ah,baby:sh,system:ch,motor:uh,chatAchievement:fh,roleAvatar:function RoleAvatar(e){var t=e.roleInfo;return t?'\n            <span class="RoleAvatar-wrapper" title="'+t.name+'">\n                <img src="'+t.img+'" />\n            </span>\n        ':null}}),bh=function Elements(e,t){var r=[];return(e instanceof Array?e:[e]).forEach(function(e){var i=dh[e];i&&r.push(i(t))}),r.join("")},mh=(r("cdf7a"),{protocol:["chatmsg","chatres"],model:function model(e){if(!function checkRoomLink(e){return"string"!==typeof e||!e.length||e.match(/\[room=(([\da-z]*?[^\da-z]+[\da-z]*?)|([^\da-z]+[\da-z]*?[^\da-z]+))\]/gi)?0:1}(e.txt))return null;var t=e.roleid?(new la.a).getSelectedRoleInfo(e.roleid):null,r=this.nicknameHandle(e),i=r.nicknamePre,n=r.nickname;return{senderNickPre:function senderNickPre(){return i},senderNick:function senderNick(){return n},senderNickColor:function senderNickColor(e){return dc(e.el).color},senderNickTitle:function senderNickTitle(e){return dc(e.el).title},userLevel:function userLevel(e){return cc(e.level,0)},roomGroup:function roomGroup(e){return cc(e.rg,1)},anchorLevel:function anchorLevel(e){return cc(e.ol,0)},roomPayLevel:function roomPayLevel(e){return cc(e.dlv,0)},roomPayCount:function roomPayCount(e){return cc(e.dc,0)},platformPayLevel:function platformPayLevel(e){return cc(e.bdlv,0)},roomPayTitle:function roomPayTitle(e){return pc(e.dlv)},chatMedal:"chatMedal",chatAchievement:"chatAchievement",chatBaby:"chatBaby",motorcadeFlag:"motorcadeFlag",motorcadeBg:"motorcadeBg",barrageContent:function barrageContent(e){return sc(e.txt)},chatId:"cid",barrageColor:function barrageColor(e){return cc(e.col,0)-1},nobleLevel:function nobleLevel(e){return cc(e.nl,0)},nobleBarrage:function nobleBarrage(e){return cc(e.nc,0)},fansMedal:"fansMedal",summerMedal:function summerMedal(e){return Jm.getSummerMedal(e.el)},isFansFloatingBarrage:function isFansFloatingBarrage(e){return cc(e.hl,0)},checkCode:"hc",superLink:function superLink(e){return function handleLinkBarrage(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.toString(),i={open:0,type:"",link:""};if(!r||r.indexOf("_")<=0)return i;var n=r.split("_"),a=t[n[0]];return n.length>=2&&t[n[0]]&&n[1]&&(i.open=1,i.type=n[0],2===n.length?i.link=a+n[1]:(n.shift(),i.link=a+n.join("_"))),i}(e.lk||"",e.linkMsgConfig)},hasCard:function hasCard(){return!0},clientType:function clientType(e){return cc(e.ct,0)},senderId:"uid",senderAvatar:"ic",platformGroup:function platformGroup(e){return cc(e.pg,0)},showSuperIdentity:function showSuperIdentity(e){return uc(e.sahf)},curRoomId:"curRoomId",nobleConfig:"nobleConfig",fansIsDys:function fansIsDys(){return!0},chatCampColor:"chatCampColor",isShowUserLevel:"isShowUserLevel",nobleColor:"nobleColor",pid:"pid",roleInfo:function roleInfo(){return t},selector:function selector(e){var t="";return 1===cc(e.nc,0)?t="js-floating-barrage js-noblefloating-barrage":1===cc(e.hl,0)&&(t="js-floating-barrage js-fansfloating-barrage"),t}}},render:function render(e){var t=e.superLink&&e.superLink.open,r=0!==e.anchorLevel,i=e.roleInfo,n="",a="";return 1===e.nobleBarrage?(n="js-noblefloating-barragecont Barrage-notice--noble",a=e.nobleColor?"background-color: "+e.nobleColor:""):n=1===e.isFansFloatingBarrage?"js-fansfloating-barragecont Barrage--paddedBarrage":"Barrage-notice--normalBarrage",'\n            <div class="'+n+'"'+(a?' style="'+a+'"':"")+">\n                "+bh(["identity","noble","reward","medal","fans","summerMedal",r?"anchorLevel":"level","motor","chatAchievement",i?"roleAvatar":"","name",t?"link":"content","emot","baby"],Object.assign({},e,{hasColon:!0}))+"\n            </div>\n        "},nicknameHandle:function nicknameHandle(e){return e.isAnchor&&16===+e.ct&&45447946===+e.pid?{nicknamePre:"[\u7edd\u5730\u6c42\u751f\u5b98\u65b9APP]",nickname:e.nn.replace("\u7ad9\u5916_","")}:{nicknamePre:"",nickname:e.nn}}}),hh=(r("d2686"),{protocol:["chatres","newblackres","gbmres","setadminres"],model:function model(){return{resMsg:"resMsg"}},render:function render(e){return e.resMsg?bh(["system"],Object.assign({},e)):null}}),vh=(r("30567"),{protocol:["impress"],model:function model(e){var t=(sc(e.txt)||"").split("|");return 0===t.length?null:{senderNick:"nn",tags:function tags(){return t},isAnchor:"isAnchor"}},render:function render(e){var t="";return e.tags.forEach(function(e){t+='<span style="color:#f70;margin-left:2px">['+e+"]</span>"}),'\n            <div class="Barrage-message">\n                '+bh(["name"],Object.assign({},e))+'\n                <span class="Barrage-text">\n                    '+(e.isAnchor?"\u5bf9\u4f60\u7684\u5370\u8c61\u662f":"\u5bf9\u4e3b\u64ad\u7684\u5370\u8c61\u662f")+"\n                    "+t+"\n                </span>\n            </div>\n        "}}),gh=(r("6066b"),{protocol:["ssd"],model:function model(){return{superId:"sdid",jumpType:"jmptp",roomId:"trid",linkUrl:"url",barrageContent:"content"}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice Barrage-notice--red Barrage-notice--pointer">\n                <span class="js-super-barrage Barrage-text" \n                    data-superId="'+e.superId+'"\n                    data-jumpType="'+e.jumpType+'"\n                    data-roomId="'+e.roomId+'"\n                    data-linkUrl="'+e.linkUrl+'"\n                >\n                    '+e.barrageContent+"\n                </span>\n            </div>\n        "}}),yh=(r("52d06"),{protocol:["athena"],model:function model(e){var t=this;return e?{bid:"bid",boothId:function boothId(e){return e.isReverse?10:1},rulesetId:"ruleset_id",conId:"con_id",roomId:function roomId(e){return 2===cc(e.jump_type,0)?e.jump_to:""},videoId:function videoId(e){return 1!==cc(e.jump_type,0)&&2!==cc(e.jump_type,0)?e.jump_to:""},linkUrl:function linkUrl(e){return t.handle(e)},barrageContent:"title",isReverse:"isReverse",jumpType:"jump_type"}:null},handle:function handle(e){return 1===cc(e.jump_type,0)?e.jump_to:2===cc(e.jump_type,0)?"/"+e.jump_to:"//v.douyu.com/show/"+e.jump_to},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice Barrage-notice--red Barrage-notice--pointer">\n                <span class="js-athena-barrage Barrage-text"\n                    data-bid="'+e.bid+'"\n                    data-boothId="'+e.boothId+'"\n                    data-rulesetId="'+e.rulesetId+'"\n                    data-conId="'+e.conId+'"\n                    data-roomId="'+e.roomId+'"\n                    data-videoId="'+e.videoId+'"\n                    data-linkUrl="'+e.linkUrl+'"\n                    data-reverse="'+e.isReverse+'"\n                    data-jumpType="'+e.jumpType+'"\n                >\n                    '+e.barrageContent+"\n                </span>\n            </div>\n        "}}),_h={protocol:["clubreward"],model:function model(){var e=this;return{userNick:"unick",senderNick:"cnick",num:"num",awardName:function awardName(t){return e.getRewardByType(cc(t.retype,0))}}},render:function render(e){return'\n            <div class="Barrage-message">\n                '+bh(["name"],{senderNick:e.userNick})+'\n                <span class="Barrage-text">\u9886\u53d6\u4e86</span>\n                '+bh(["name"],{senderNick:e.senderNick})+'\n                <span class="Barrage-text">\n                    \u6d3e\u9001\u7684\n                    <span class="Barrage-message--red">'+e.num+"\u4e2a"+e.awardName+"</span>\n                </span>\n            </div>\n        "},getRewardByType:function getRewardByType(e){var t="";switch(e){case 0:t="\u672a\u77e5";break;case 1:t="\u9c7c\u4e38";break;case 2:t="\u9c7c\u7fc5"}return t}},Sh=(r("6c92a"),{protocol:["pwvthr"],model:function model(){return{name:"uname",content:"dm"}},render:function render(e){return'\n            <div class="Barrage-goldPlay">\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class=" Barrage-nickName Barrage-nickName--blue ">\n                        '+e.name+'\n                    </span>\n                    <span class="Barrage-text">\n                        '+e.content+"\n                    </span>\n                </div>\n            </div>\n        "}}),Nh=(r("0f1fe"),{protocol:["rankup"],model:function model(){return{senderNick:"nickName",rankTypeName:function rankTypeName(e){return hc(e.rkt)},rankNum:function rankNum(e){return cc(e.rn,1)}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u606d\u559c</span>\n                '+bh(["name"],e)+'\n                <span class="Barrage-text">\u7684'+e.rankTypeName+'\u6392\u540d\u4e0a\u5347\u5230\u4e86</span>\n                <span class="Barrage-notice--red Barrage-text">\u7b2c'+e.rankNum+'\u540d</span>\n                <span class="Barrage-text">\uff01</span>\n            </div>\n        '},getNickColor:function getNickColor(e){return parseInt(e.ih,10)?"purple":"blue"},getRankTypeName:function getRankTypeName(e){var t=e.rkt;return 1===t||"1"===t?"\u8d21\u732e\u5468\u699c":2===t||"2"===t?"\u8d21\u732e\u603b\u699c":"\u8d21\u732e\u5468\u699c"}}),Ch={protocol:["notify_cgap"],model:function model(){return{gap:function gap(e){return cc(e.cg,1)},rankTypeName:function rankTypeName(e){return hc(e.rt)},rankNum:function rankNum(e){return cc(e.urn,2)-1}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\n                    <span class="Barrage-notice--red">\u6d88\u606f\u63d0\u9192\uff1a</span>\u7ee7\u7eed\u8d60\u9001\n                    <span class="Barrage-notice--red">'+e.gap+"</span>\n                    \u70b9\u8d21\u732e\u503c\uff0c\u60a8\u5c31\u53ef\u4ee5\u5347\u5230"+e.rankTypeName+'<span class="Barrage-notice--red">\u7b2c'+e.rankNum+"\u540d</span>\n                </span>\n            </div>\n        "}},Oh=(r("0b551"),{protocol:["upgrade"],model:function model(){return{senderNick:"nn",userLevel:function userLevel(e){return cc(e.level,0)},clientType:function clientType(e){return cc(e.ct,0)},hasCard:function hasCard(){return!0},senderId:"uid",senderAvatar:"ic",showSuperIdentity:function showSuperIdentity(e){return uc(e.sahf)},isShowUserLevel:"isShowUserLevel",groupId:"gid"}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u606d\u559c</span>\n                '+bh(["name"],e)+'\n                <span class="Barrage-text">\n                    \u5347\u7ea7\u5230\n                    '+bh(["level"],e)+"\n                </span>\n            </div>\n        "}}),wh={protocol:["blab"],model:function model(){return{senderNick:"nn",fansMedal:"fansMedal",curRoomId:"curRoomId"}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u606d\u559c</span>\n                '+bh(["name"],e)+'\n                <span class="Barrage-text">\n                    \u7c89\u4e1d\u7b49\u7ea7\u5347\u7ea7\u5230\n                </span>\n                '+bh(["fans"],e)+'\n                <span class="Barrage-text">\n                    \uff0c\u4e3b\u64ad\u66f4\u7231\u4f60\u54df\n                </span>\n            </div>\n        '}},Dh={protocol:["upbc"],model:function model(){return{senderNick:"ownerName",anchorLevel:function anchorLevel(e){return cc(e.lev,1)}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u606d\u559c</span>\n                '+bh(["name"],e)+'\n                <span class="Barrage-text">\u4e3b\u64ad\u7b49\u7ea7\u8fbe\u5230</span>\n                '+bh(["anchorLevel"],e)+'\n                <span class="Barrage-text">\uff0c\u7ee7\u7eed\u6311\u6218\u65b0\u7684\u4fdd\u7ea7\u4efb\u52a1\u5427</span>\n            </div>\n        '}},Eh={protocol:["dgbc"],model:function model(){var e=this;return{senderNick:"ownerName",userLevel:function userLevel(e){return cc(e.llev,0)},exp:function exp(t){return e.formatContribute(parseInt(t.ddct,10)/100,2)||0}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u5f88\u9057\u61be\uff0c</span>\n                '+bh(["name"],e)+'\n                <span class="Barrage-text Barrage-notice--red">'+e.userLevel+'\u7ea7\u4fdd\u7ea7\u5931\u8d25</span>\n                <span class="Barrage-text">\uff0c\u6263\u9664</span>\n                <span class="Barrage-text Barrage-notice--red">'+e.exp+'</span>\n                <span class="Barrage-text">\u7ecf\u9a8c\u503c</span>\n            </div>\n        '},formatContribute:function formatContribute(e,t){var r=e;return e>=1e4&&(r=this.formatDecimals(e/1e4,t)+"\u4e07"),r},formatDecimals:function formatDecimals(e,t){var r=new RegExp("(\\.\\d{"+t+"})\\d*$"),i=(""+e).replace(r,"$1");return i=this.formatDotZero(i)},formatDotZero:function formatDotZero(e){return String(e).replace(/(\.\d*?)0+$/g,"$1").replace(/\.$/,"")}},kh={protocol:["redirect"],model:function model(){return{senderNick:"senderNick",anchorLevel:function anchorLevel(e){return cc(e.rl,0)},identityName:function identityName(){return"anchor"},videoId:"vid",clientType:function clientType(e){return cc(e.ct,0)},senderId:"senderId",hasCard:function hasCard(){return!0},senderAvatar:"ic"}},render:function render(e){return'\n            <div class="Barrage-videoMsg">\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    '+bh(["anchorLevel","name"],Object.assign({},e,{hasColon:!1}))+'\n                    <span class="Barrage-text">\n                        <a href=//v.douyu.com/show/'+e.videoId+' target="_blank">\n                            \u5f55\u5236\u4e86\u4e00\u6bb5\u7cbe\u5f69\u65f6\u523b\n                        </a>\n                        \u5feb\u6765\u56f4\u89c2\u5427\uff01\n                    </span>\n                </div>\n            </div>\n        '}},Rh=(r("d4c57"),{protocol:["qzembls"],model:function model(){var e=this;return{ecNum:function ecNum(t){return t.ec>=1e4?e.decimal(t.ec)+"\u4e07":t.ec},senderNick:"uname"}},render:function render(e){return'\n            <div class="Barrage-guess">\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class="Barrage-text">\n                        \u606d\u559c\n                    </span>\n                    '+bh(["name"],e)+'\n                    <span class="Barrage-text">\n                        \u53c2\u4e0e\u7ade\u731c\u83b7\u5f97\n                        <span class="Barrage-notice--red">'+e.ecNum+"\u9c7c\u4e38</span>\n                        \uff01\u4e3a\u4e3b\u64ad\u52a0\u70ed\u5ea6\u4e0a\u70ed\u95e8\uff01\n                    </span>\n                </div>\n            </div>\n        "},decimal:function decimal(e){var t=(Math.round(e/1e3)/10).toString();return t.indexOf(".")>-1?t:t+".0"}}),jh=(r("8dc58"),{protocol:["tkqzembls"],model:function model(){var e=this;return{ecNum:function ecNum(t){var r=e.parseTicket(t.ec);return r>=1e4?e.decimal(r)+"\u4e07":r},senderNick:"uname"}},render:function render(e){return'\n            <div class="Barrage-guess">\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class="Barrage-text">\n                        \u606d\u559c\n                    </span>\n                    '+bh(["name"],e)+'\n                    <span class="Barrage-text">\n                        \u53c2\u4e0e\u7ade\u731c\u83b7\u5f97\n                        <span class="Barrage-notice--red">'+e.ecNum+"\u63a2\u9669\u5238</span>\n                        \uff01\u4e3a\u4e3b\u64ad\u52a0\u70ed\u5ea6\u4e0a\u70ed\u95e8\uff01\n                    </span>\n                </div>\n            </div>\n        "},parseTicket:function parseTicket(e){var t=0;return isNaN(+e)||(t=parseInt(+e/100*10,10)/10),t},decimal:function decimal(e){var t=(Math.round(e/1e3)/10).toString();return t.indexOf(".")>-1?t:t+".0"}}),Ph=(r("5e1fa"),{protocol:["gbroadcast"],model:function model(){return{title:"title",roomId:"rid",senderNick:"onn"}},render:function render(e){return e.senderNick&&e.roomId?'\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <a class="Barrage-notice Barrage-notice--red" href=/'+e.roomId+' target="_blank" style="display:inline-block;">\n                    <span class="Barrage-text">'+(e.title||"")+"\uff1a"+(e.senderNick||"")+" \u5f00\u64ad\u4e86\uff01\u5feb\u6765\u56f4\u89c2\u5427\uff01</span>\n                </a>\n            ":null}}),Th=(r("65b06"),{protocol:["frb"],model:function model(e){if(!e)return null;return{senderNick:"nn"}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u606d\u559c</span>\n                '+bh(["name"],Object.assign({},e))+'\n                <span class="Barrage-text">\n                    \u5c06<span class="Barrage-notice--red">\u7b2c\u4e00\u6b21</span>\u5145\u503c\u732e\u7ed9\u4e86\u672c\u623f\u95f4\u4e3b\u64ad\uff0c\u5e76\u83b7\u5f97\u4e86<span class="Barrage-notice--red">\u9996\u5145\u5956\u52b1</span>\n                </span>\n            </div>\n        '}}),Bh=(r("8f68e"),{protocol:["npue"],model:function model(e){if(!e)return null;return{senderNick:"nn"}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                '+bh(["name"],Object.assign({},e))+'\n                <span class="Barrage-text">\n                    \u901a\u8fc7\u76f4\u64ad\u63a8\u5e7f\u6765\u4e86\n                </span>\n            </div>\n        '}}),Mh=(r("3e6fd"),{protocol:["ldn"],model:function model(e){var t=this;return e?{condition:function condition(e){return t.getCondition(e)},secStr:function secStr(e){return t.getSecStr(e)}}:null},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\n                    \u4e3b\u64ad\u5c06\u4f1a\u5728'+e.secStr+"\u5f00\u59cb\u4ece"+e.condition+"\u7684\u7528\u6237\u4e2d\u62bd\u53d6\u5e78\u8fd0\u89c2\u4f17\uff0c\u5feb\u6765\u53c2\u4e0e\u5427~\n                </span>\n            </div>\n        "},getCondition:function getCondition(e){var t=e.sl||0,r=e.gl/100||0;return t>0?r>0?"\u8d60\u9001\u8fc7"+t+"\u9c7c\u4e38\u4ee5\u4e0a\u6216"+r+"\u9c7c\u7fc5\u4ee5\u4e0a":"\u8d60\u9001\u8fc7"+t+"\u9c7c\u4e38\u4ee5\u4e0a":r>0?"\u8d60\u9001\u8fc7"+r+"\u9c7c\u7fc5\u4ee5\u4e0a":""},getSecStr:function getSecStr(e){return e.sec<60?e.sec+"\u79d2\u540e":parseInt(e.sec/60,10)+"\u5206\u949f\u540e"}}),Lh=(r("3dcc5"),{protocol:["lde","lds","lde_v2","lds_v2"],model:function model(e){if(!e)return null;return{type:"type",anchorName:"anchorName",nickName:"nickName",len:"len",prize:"prize"}},render:function render(e){var t=e.type,r=void 0===t?"":t,i=e.len,n=void 0===i?0:i;return"lds"===r||"lds_v2"===r?'\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class="Barrage-text">\u4e3a\u4e86\u56de\u9988\u5e7f\u5927\u6c34\u53cb\uff0c</span>\n                    <span class="Barrage-nickName Barrage-nickName--blue">'+e.anchorName+'</span>\n                    <span class="Barrage-text">\u53d1\u8d77\u62bd\u5956\u6d3b\u52a8\uff0c\u5feb\u6765\u53c2\u52a0\u5566\uff01</span>\n                </div>\n            ':"lde"===r||"lde_v2"===r?n>0?'\n                    <i class="Barrage-icon Barrage-icon--sys"></i>\n                    <div class="Barrage-notice">\n                        <span class="Barrage-text">\u606d\u559c</span>\n                        <span class="Barrage-nickName Barrage-nickName--blue">'+e.nickName+'</span>\n                        <span class="Barrage-text">    \n                            '+(n>10?"\u7b49"+n+"\u4eba":"")+'\n                            \u83b7\u5f97<span class="Barrage-notice--red">'+e.prize+"</span>\uff01\n                        </span>\n                    </div>\n                ":'\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class="Barrage-text">\u5f53\u524d\u6ca1\u6709\u4e00\u4e2a\u4eba\u6ee1\u8db3\u62bd\u5956\u6761\u4ef6</span>\n                </div>\n            ':""}}),zh=(r("1bcca"),{protocol:["uenter"],model:function model(e){var t=this.getBackGround(e),r=parseInt(e.nl,10),i="blue";return t?(i=r&&(r<=3||7===r)?"blue":this.checkGirlPri(e.el,1500000173)?"red":"blue",{isSelf:function isSelf(){return!1},senderNick:"nn",senderNickColor:function senderNickColor(){return i},userLevel:function userLevel(e){return cc(e.level,0)},anchorLevel:function anchorLevel(e){return cc(e.ol,0)},roomPayLevel:function roomPayLevel(e){return cc(e.dlv,0)},roomPayCount:function roomPayCount(e){return cc(e.dc,0)},platformPayLevel:function platformPayLevel(e){return cc(e.bdlv,0)},roomPayTitle:function roomPayTitle(e){return pc(e.dlv)},chatMedal:"chatMedal",motorcadeFlag:"motorcadeFlag",motorcadeBg:"motorcadeBg",nobleLevel:function nobleLevel(e){return cc(e.nl,0)},nobleBarrage:function nobleBarrage(e){return cc(e.nc,0)},background:function background(){return t},hasCard:function hasCard(){return!0},clientType:function clientType(e){return cc(e.ct,0)},senderId:"uid",senderAvatar:"ic",platformGroup:function platformGroup(e){return cc(e.pg,1)},roomGroup:function roomGroup(e){return cc(e.rg,1)},showSuperIdentity:function showSuperIdentity(e){return uc(e.sahf)},isShowUserLevel:"isShowUserLevel",nobleConfig:"nobleConfig"}):null},render:function render(e){var t=0!==e.anchorLevel,r=e.nobleLevel>0?1:0;return'\n            <div class="'+e.background+'">\n                '+(r>0?"":'<span class="Barrage-hiIcon"></span>')+"\n                "+bh(["noble","reward","medal",t?"anchorLevel":"level",!r>0?"motor":"","name"],e)+'\n                <span class="Barrage-text">\u6b22\u8fce\u6765\u5230\u672c\u76f4\u64ad\u95f4</span>\n            </div>\n        '},checkGirlPri:function checkGirlPri(e,t){for(var r=0,i=e.length;r<i;r++)if(parseInt(e[r].eid,10)===t)return!0;return!1},getBackGround:function getBackGround(e){var t="Barrage-userEnter Barrage-userEnter--default",r=parseInt(e.nl,10);if(e.ceid)return"";if(r&&r>3&&7!==r)return"";if(r&&(r<=3||7===r)){switch(r){case 7:t="Barrage-userEnter is-noble Barrage-userEnter--paladin";break;case 1:t="Barrage-userEnter is-noble Barrage-userEnter--knigft";break;case 2:t="Barrage-userEnter is-noble Barrage-userEnter--viscount";break;case 3:t="Barrage-userEnter is-noble Barrage-userEnter--earl"}return t}return t}}),Ah=(r("7cd2d"),{protocol:["dgb","bgd"],model:function model(e){var t=this,r=e.giftConfig||{};return{isSelf:function isSelf(){return!1},senderNick:"nn",userLevel:function userLevel(e){return cc(e.level,0)},senderNickColor:function senderNickColor(e){return t.checkGirlPri(e.el,1500000173)?"red":"blue"},nobleLevel:function nobleLevel(e){return cc(e.nl,0)},roomPayLevel:function roomPayLevel(e){return cc(e.dlv,0)},roomPayCount:function roomPayCount(e){return cc(e.dc,0)},platformPayLevel:function platformPayLevel(e){return cc(e.bdlv,0)},roomPayTitle:function roomPayTitle(e){return pc(e.dlv)},fansMedal:"fansMedal",checkCode:"hc",motorcadeFlag:"motorcadeFlag",motorcadeBg:"motorcadeBg",giftCImg:function giftCImg(){return r.cimg},giftName:function giftName(){return r.name},hits:function hits(e){return cc(e.hits,1)},batchGiftPerNum:function batchGiftPerNum(e){return cc(e.gfcnt,1)},batchGiftHits:function batchGiftHits(e){return cc(e.bcnt,1)},hasCard:function hasCard(){return!0},clientType:function clientType(e){return cc(e.ct,0)},senderId:"uid",senderAvatar:"ic",platformGroup:function platformGroup(e){return cc(e.pg,1)},roomGroup:function roomGroup(e){return cc(e.rg,1)},showSuperIdentity:function showSuperIdentity(e){return uc(e.sahf)},curRoomId:"curRoomId",nobleConfig:"nobleConfig",isShowUserLevel:"isShowUserLevel",fansIsDys:function fansIsDys(){return!0}}},render:function render(e){var t="";return e.batchGiftPerNum>1?(t+='<span style="margin-right:6px">x'+e.batchGiftPerNum+"</span>",e.batchGiftHits>1&&(t+='<span class="Barrage-message--red">'+e.batchGiftHits+"\u8fde\u51fb</span>")):e.hits>1&&(t+='<span class="Barrage-message--red">'+e.batchGiftHits+"\u8fde\u51fb</span>"),'\n            <div class="Barrage-message">\n                '+bh(["noble","award","fans","level","motor","name"],e)+'\n                <span class="Barrage-text">\n                    \u8d60\u9001\u7ed9\u4e3b\u64ad\n                    <img src='+e.giftCImg+' width="22" height="22" />\n                    '+t+"\n                </span>\n            </div>\n        "},checkGirlPri:function checkGirlPri(e,t){for(var r=0,i=e.length;r<i;r++)if(parseInt(e[r].eid,10)===t)return!0;return!1}}),Ih={protocol:["tsgspeck"],model:function model(){return{drawerNick:"dnk",senderNick:"snk",fishBallCount:"silver",dct:function dct(e){return e.dct||""},isLucker:function isLucker(e){return parseInt(e.lk,10)?1:0},giftType:function giftType(e){return parseInt(e.lt,10)||0}}},render:function render(e){var t=e.giftType;return e.isLucker?'\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class="Barrage-text">\u606d\u559c</span>\n                    '+bh(["name"],{senderNick:e.drawerNick})+'\n                    <span class="Barrage-text">\u9886\u53d6\u4e86</span>\n                    '+bh(["name"],{senderNick:e.senderNick})+'\n                    <span class="Barrage-text">\n                        \u6d3e\u9001\u7684\u5b9d\u7bb1\uff01\n                        \u83b7\u5f97\n                        <span class="Barrage-message--red">'+e.fishBallCount+'\u9c7c\u4e38</span>\n                        \uff0c\u6210\u4e3a\u672c\u573a\n                        <span class="Barrage-message--red">\u624b\u6c14\u738b\uff01</span>\n                    </span>\n                </div>\n            ':t>0?'\n                <i class="Barrage-icon Barrage-icon--sys"></i>\n                <div class="Barrage-notice">\n                    <span class="Barrage-text">\u606d\u559c</span>\n                    '+bh(["name"],{senderNick:e.drawerNick})+'\n                    <span class="Barrage-text">\u9886\u53d6\u4e86</span>\n                    '+bh(["name"],{senderNick:e.senderNick})+'\n                    <span class="Barrage-text">\n                        \u6d3e\u9001\u7684\u5b9d\u7bb1\uff01\n                        \u89e6\u53d1\u66b4\u51fb\n                        '+(t>1?"x"+t:"")+'\n                        \u83b7\u5f97\n                        <span class="Barrage-message--red">'+e.fishBallCount+"\u9c7c\u4e38</span>\n                    </span>\n                </div>\n            ":'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                <span class="Barrage-text">\u606d\u559c</span>\n                '+bh(["name"],{senderNick:e.drawerNick})+'\n                <span class="Barrage-text">\u9886\u53d6\u4e86</span>\n                '+bh(["name"],{senderNick:e.senderNick})+'\n                <span class="Barrage-text">\n                    \u6d3e\u9001\u7684\n                    <span class="Barrage-message--red">'+e.fishBallCount+"\u4e2a\u9c7c\u4e38</span>\n                </span>\n            </div>\n        "}},Fh={protocol:["tsgsprop"],model:function model(){return{drawerNick:"dnk",senderNick:"snk",giftCount:"pcnt",giftName:"pnm",dct:function dct(e){return e.dct||""}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                '+bh(["name"],{senderNick:e.drawerNick})+'\n                <span class="Barrage-text">\u9886\u53d6\u4e86</span>\n                '+bh(["name"],{senderNick:e.senderNick})+'\n                <span class="Barrage-text">\n                    \u6d3e\u9001\u7684\n                    <span class="Barrage-message--red">'+e.giftCount+"\u4e2a"+e.giftName+"</span>\n                </span>\n            </div>\n        "}},xh=(r("2ecd5"),{protocol:["apkb"],model:function model(e){if(!e)return null;return{senderId:function senderId(e){return e.maxDevoteUser.id||""},senderNick:function senderNick(e){return e.maxDevoteUser.nn||""},senderAvatar:function senderAvatar(e){return e.maxDevoteUser.icon||""},anchorId:function anchorId(e){return e.winerInfo.id||""},anchorNick:function anchorNick(e){return e.winerInfo.nn||""},anchorLevel:function anchorLevel(e){return e.winerInfo.lv||""},anchorAvatar:function anchorAvatar(e){return e.winerInfo.icon||""},anchorNobleLevel:function anchorNobleLevel(e){return e.winerInfo.nl||""},conValue:function conValue(e){return e.maxDevoteUser.cb||0},hasCard:function hasCard(){return!0}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                '+bh(["name"],e)+'\n                <span class="Barrage-text">\u4e3a\u4e3b\u64ad </span>\n                '+bh(["name"],{senderId:e.anchorId,senderNick:e.anchorNick})+'\n                <span class="Barrage-text Barrage-text--red">\u8d21\u732e'+e.conValue/100+'\uff0c</span>\n                <span class="Barrage-text">\u52a9\u529b\u4e3b\u64ad\u83b7\u53d6\u80dc\u5229\uff01\uff01\uff01</span>\n            </div>\n        '}}),Gh=(r("e4e1c"),{protocol:["srres"],model:function model(){return{senderNick:"nickname",exp:function exp(e){return cc(e.exp,0)}}},render:function render(e){return'\n            <i class="Barrage-icon Barrage-icon--sys"></i>\n            <div class="Barrage-notice">\n                '+bh(["name"],Object.assign({},e))+'\n                <span class="Barrage-text">\n                    \u5206\u4eab\u4e86\u8be5\u76f4\u64ad\u95f4'+(e.exp?'\uff0c\u83b7\u5f97<span class="Barrage-text--red">'+(e.exp||"--")+"\u7ecf\u9a8c\u503c</span>":"")+"\n                </span>\n            </div>\n        "}}),Uh=(r("a4682"),{protocol:["rnewbc"],model:function model(){return{senderNick:function senderNick(e){return e.gvnk?e.gvnk:e.unk},anchorName:"donk",reciverName:"unk",isSend:function isSend(e){return!!e.gvnk},nobleName:"nobleName",nobleConfig:"nobleConfig",nobleLevel:function nobleLevel(e){return cc(e.nl,0)}}},render:function render(e){var t=document.createElement("div"),r='\n            <i class="Barrage-icon--sys" style="top:12px;"></i>\n            <div class="Barrage-notice BarrageNobleNotify-notice BarrageNobleNotify-notice--nobleNotify'+e.nobleLevel+'">\n                '+bh(["noble","name"],{senderNick:e.senderNick,nobleLevel:e.nobleLevel,nobleConfig:e.nobleConfig})+"\n                "+(e.anchorName?'<span class="Barrage-text">\u5728</span>\n                    '+bh(["name"],{senderNick:e.anchorName})+'\n                    <span class="Barrage-text">\u76f4\u64ad\u95f4</span>':"")+"\n                "+(e.isSend?'<span class="Barrage-text">\u7ed9</span>\n                    '+bh(["name"],{senderNick:e.reciverName}):"")+'\n                <span class="Barrage-text">\u7eed\u8d39\u4e86</span>\n                <span class="BarrageNobleNotify-nobleName">'+e.nobleName+"</span>\n            </div>\n        ";return t.className="BarrageNobleNotify",t.innerHTML=r,document.getElementById("js-barrage-container").appendChild(t),setTimeout(function(){document.getElementById("js-barrage-container").removeChild(t)},15e3),null}});function barrageConfig_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function barrageConfig_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Hh,Wh,Vh,$h,Kh,qh,Qh,Jh,Yh,Xh=n.a.Service,Zh=(om=Xh(vu),lm=Xh(Ju),sm=Xh(Dp),cm=Xh(Mp),um=Xh(Yp),pm=Xh(Xf),fm=Xh(ad),dm=Xh(ld),bm=Xh(fd),mm=Xh(_d),hm=Xh(jd),vm=Xh(Td),gm=Xh(Md),ym=Xh(zd),_m=Xh(Gd),Sm=Xh(pb),Nm=Xh(Hb),Cm=Xh($b),Om=Xh(Qb),wm=Xh(am),Dm=Xh(em),Em=function(){function BarrageConfig(){!function barrageConfig_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageConfig),barrageConfig_initDefineProp(this,"normalService",km,this),barrageConfig_initDefineProp(this,"sysService",Rm,this),barrageConfig_initDefineProp(this,"superService",jm,this),barrageConfig_initDefineProp(this,"athenaService",Pm,this),barrageConfig_initDefineProp(this,"fishBallService",Tm,this),barrageConfig_initDefineProp(this,"rankService",Bm,this),barrageConfig_initDefineProp(this,"levelUpService",Mm,this),barrageConfig_initDefineProp(this,"videoService",Lm,this),barrageConfig_initDefineProp(this,"guessService",zm,this),barrageConfig_initDefineProp(this,"guessTicketServices",Am,this),barrageConfig_initDefineProp(this,"broadcastService",Im,this),barrageConfig_initDefineProp(this,"firstChargeService",Fm,this),barrageConfig_initDefineProp(this,"spreadService",xm,this),barrageConfig_initDefineProp(this,"lotteryService",Gm,this),barrageConfig_initDefineProp(this,"drawBarrageService",Um,this),barrageConfig_initDefineProp(this,"userEnterService",Hm,this),barrageConfig_initDefineProp(this,"giftBarrageService",Wm,this),barrageConfig_initDefineProp(this,"yzServices",Vm,this),barrageConfig_initDefineProp(this,"nobleNotifyServices",$m,this),barrageConfig_initDefineProp(this,"motorcadeService",Km,this),barrageConfig_initDefineProp(this,"goldPlayService",qm,this),this.barrageConfig={barrage:{"normal-barrage":mh,"sys-barrage":hh,"impress-barrage":vh,"super-barrage":gh,"athena-barrage":yh,"rankUp-barrage":Nh,"rankGap-barrage":Ch,"userLevelUp-barrage":Oh,"fansLevelUp-barrage":wh,"anchorLevelUp-barrage":Dh,"anchorLevelDown-barrage":Eh,"video-barrage":kh,"guess-barrage":Rh,"guess-ticket-barrage":jh,"broadcast-barrage":Ph,"firstCharge-barrage":Th,"spread-barrage":Bh,"lottery-barrage":Mh,"draw-barrage":Lh,"userEnter-barrage":zh,"gift-barrage":Ah,"peck-barrage":Ih,"prop-barrage":Fh,"motorFishBall-barrage":_h,"yz-barrage":xh,"weibo-barrage":Gh,"nobleNotify-barrage":Uh,"goldPlay-barrage":Sh},services:[{serviceName:this.normalService,methodName:"init"},{serviceName:this.sysService,methodName:"init"},{serviceName:this.superService,methodName:"init"},{serviceName:this.athenaService,methodName:"init"},{serviceName:this.fishBallService,methodName:"init"},{serviceName:this.rankService,methodName:["initRankUpdate","initRankGap"]},{serviceName:this.levelUpService,methodName:["initUserLevelUp","initFansLevelUp","initAnchorLevelUp","initAnchorLevelDown"]},{serviceName:this.videoService,methodName:"init"},{serviceName:this.guessService,methodName:"init"},{serviceName:this.guessTicketServices,methodName:"init"},{serviceName:this.broadcastService,methodName:"init"},{serviceName:this.firstChargeService,methodName:"init"},{serviceName:this.spreadService,methodName:"init"},{serviceName:this.lotteryService,methodName:"init"},{serviceName:this.drawBarrageService,methodName:"init"},{serviceName:this.userEnterService,methodName:"init"},{serviceName:this.giftBarrageService,methodName:"init"},{serviceName:this.yzServices,methodName:"init"},{serviceName:this.nobleNotifyServices,methodName:"init"},{serviceName:this.motorcadeService,methodName:"init"},{serviceName:this.goldPlayService,methodName:"init"}]}}return BarrageConfig.prototype.export=function _export(){return this.barrageConfig},BarrageConfig}(),km=barrageConfig_applyDecoratedDescriptor(Em.prototype,"normalService",[om],{enumerable:!0,initializer:null}),Rm=barrageConfig_applyDecoratedDescriptor(Em.prototype,"sysService",[lm],{enumerable:!0,initializer:null}),jm=barrageConfig_applyDecoratedDescriptor(Em.prototype,"superService",[sm],{enumerable:!0,initializer:null}),Pm=barrageConfig_applyDecoratedDescriptor(Em.prototype,"athenaService",[cm],{enumerable:!0,initializer:null}),Tm=barrageConfig_applyDecoratedDescriptor(Em.prototype,"fishBallService",[um],{enumerable:!0,initializer:null}),Bm=barrageConfig_applyDecoratedDescriptor(Em.prototype,"rankService",[pm],{enumerable:!0,initializer:null}),Mm=barrageConfig_applyDecoratedDescriptor(Em.prototype,"levelUpService",[fm],{enumerable:!0,initializer:null}),Lm=barrageConfig_applyDecoratedDescriptor(Em.prototype,"videoService",[dm],{enumerable:!0,initializer:null}),zm=barrageConfig_applyDecoratedDescriptor(Em.prototype,"guessService",[bm],{enumerable:!0,initializer:null}),Am=barrageConfig_applyDecoratedDescriptor(Em.prototype,"guessTicketServices",[mm],{enumerable:!0,initializer:null}),Im=barrageConfig_applyDecoratedDescriptor(Em.prototype,"broadcastService",[hm],{enumerable:!0,initializer:null}),Fm=barrageConfig_applyDecoratedDescriptor(Em.prototype,"firstChargeService",[vm],{enumerable:!0,initializer:null}),xm=barrageConfig_applyDecoratedDescriptor(Em.prototype,"spreadService",[gm],{enumerable:!0,initializer:null}),Gm=barrageConfig_applyDecoratedDescriptor(Em.prototype,"lotteryService",[ym],{enumerable:!0,initializer:null}),Um=barrageConfig_applyDecoratedDescriptor(Em.prototype,"drawBarrageService",[_m],{enumerable:!0,initializer:null}),Hm=barrageConfig_applyDecoratedDescriptor(Em.prototype,"userEnterService",[Sm],{enumerable:!0,initializer:null}),Wm=barrageConfig_applyDecoratedDescriptor(Em.prototype,"giftBarrageService",[Nm],{enumerable:!0,initializer:null}),Vm=barrageConfig_applyDecoratedDescriptor(Em.prototype,"yzServices",[Cm],{enumerable:!0,initializer:null}),$m=barrageConfig_applyDecoratedDescriptor(Em.prototype,"nobleNotifyServices",[Om],{enumerable:!0,initializer:null}),Km=barrageConfig_applyDecoratedDescriptor(Em.prototype,"motorcadeService",[wm],{enumerable:!0,initializer:null}),qm=barrageConfig_applyDecoratedDescriptor(Em.prototype,"goldPlayService",[Dm],{enumerable:!0,initializer:null}),Em),ev=function init(){return(new Zh).export()},tv=r("3a3e1");function barrageInit_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function barrageInit_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var rv,iv,nv,av=w.a.socketInit,ov=w.a.socketStream,lv=n.a.Service,sv=(Hh=lv(Cs.a),Wh=lv(C.DataCenter.acj),Vh=lv(C.DataCenter.common),$h=lv(C.DataCenter.global),qh=barrageInit_applyDecoratedDescriptor((Kh=function BarrageInit(e){!function barrageInit_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageInit),barrageInit_initDefineProp(this,"barrageService",qh,this),barrageInit_initDefineProp(this,"acj",Qh,this),barrageInit_initDefineProp(this,"common",Jh,this),barrageInit_initDefineProp(this,"global",Yh,this);var t=this.barrageService,r=this.acj,i=this.global,n=this.common,a=e.list;Js({element:a,itemClassName:"Barrage-listItem",currentUserId:i.get("USER_INFO.uid"),barrageLimit:{defaultLimit:t.getState("defaultLimit"),bufferLimit:t.getState("bufferLimit")},callbacks:{render:function render(e){var r=e.hasSelfBarrage,n=e.data;i.set("BARRAGE_CACHE_LENGTH",n.length),r&&t.toggleLockScreen(!1),t.renderedLength(n.length),Os.a.set({type:1,data:n})},destroy:function destroy(e){t.toggleLockScreen(!1),Os.a.splice({data:e})}}},function BarrageCreatedCallback(){var a=this,o=ev(),l=o.barrage,s=o.services;Object.keys(l).forEach(function(e){a.register(e,l[e])}),n.get("$DATA").subscribe(function(e){var n=e.room||{},o=e.colligate||{};s.forEach(function(e){var t=e.serviceName,i=e.methodName;i instanceof Array?i.forEach(function(e){t[e]({acj:r,barrageBase:a,$ROOM:n,$COLLIGATE:o})}):"string"===typeof i&&t[i]({acj:r,barrageBase:a,$ROOM:n,$COLLIGATE:o})}),ov.subscribe("loginres",function(e){var r=e.roomgroup,a=e.pg,o=tv.e;Ds.a.check()&&(o=tv.b,+i.get("USER_INFO.uid")===+n.owner_uid&&(o=tv.a),4===+r&&(o=tv.c),5===+a&&(o=tv.d)),t.updateLimit(o)})}),rc(e),av()})}).prototype,"barrageService",[Hh],{enumerable:!0,initializer:null}),Qh=barrageInit_applyDecoratedDescriptor(Kh.prototype,"acj",[Wh],{enumerable:!0,initializer:null}),Jh=barrageInit_applyDecoratedDescriptor(Kh.prototype,"common",[Vh],{enumerable:!0,initializer:null}),Yh=barrageInit_applyDecoratedDescriptor(Kh.prototype,"global",[$h],{enumerable:!0,initializer:null}),Kh),cv=void 0,uv=function init(e){return cv||(cv=new sv(e)),cv},pv=r("8a2d1"),fv=r.n(pv),dv=r("0a81c"),bv=(r("a4e02"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageCmd/BarrageCmd.js");function BarrageCmd_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BarrageCmd_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageCmd_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var mv=(rv=(0,n.a.Service)(Vr.a),iv=function(e){function BarrageCmd(){var t,r;!function BarrageCmd_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageCmd);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageCmd_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function BarrageCmd_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"barrageCmdService",nv,r),BarrageCmd_possibleConstructorReturn(r,t)}return BarrageCmd_inherits(BarrageCmd,e),BarrageCmd.prototype.componentDidMount=function componentDidMount(){this.barrageCmdService.initSocket()},BarrageCmd.prototype.render=function render(){var e=this,t=this.props.barrageCmd;return vs.a.createElement("div",{className:"BarrageCmd",style:{maxHeight:t.isShow?"300px":"0",color:t.commonColor},__source:{fileName:bv,lineNumber:28},__self:this},vs.a.createElement("span",{className:"BarrageCmd-btn--close",onClick:function onClick(){e.barrageCmdService.closeCDAndPanel()},__source:{fileName:bv,lineNumber:32},__self:this},"\xd7"),vs.a.createElement("div",{className:"BarrageCmd-result",dangerouslySetInnerHTML:{__html:t.result},__source:{fileName:bv,lineNumber:35},__self:this}))},BarrageCmd}(vs.a.Component),nv=function BarrageCmd_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(iv.prototype,"barrageCmdService",[rv],{enumerable:!0,initializer:null}),iv);mv.propTypes={barrageCmd:fv.a.object.isRequired};var hv,vv,gv,yv,_v=Object(dv.connect)(function mapStateToProps(e){return{barrageCmd:e.barrageCmd}})(mv),Sv=r("63f14"),Nv=r.n(Sv),Cv=(r("4cd83"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageTips/BarrageTips.js");function BarrageTips_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BarrageTips_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageTips_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Ov=null,wv=(hv=(0,n.a.Service)(Su),Object(ye.log)((gv=function(e){function BarrageTips(){var t,r;!function BarrageTips_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageTips);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageTips_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function BarrageTips_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"barrageTipsService",yv,r),BarrageTips_possibleConstructorReturn(r,t)}return BarrageTips_inherits(BarrageTips,e),BarrageTips.prototype.hideSysTips=function hideSysTips(){var e=this;Ov&&clearTimeout(Ov),Ov=setTimeout(function(){e.barrageTipsService.hideSysTips()},3e3)},BarrageTips.prototype.render=function render(){var e=this.props,t=e.tipsInfo,r=void 0===t?"":t,i=e.isShow,n=void 0!==i&&i;return r?(this.hideSysTips(),Nv.a.createPortal(vs.a.createElement("div",{className:"BarrageTips"+(n?" BarrageTips--active":""),__source:{fileName:Cv,lineNumber:41},__self:this},vs.a.createElement("span",{className:"BarrageTips-txt",__source:{fileName:Cv,lineNumber:42},__self:this},vs.a.createElement("span",{className:"BarrageTips-icon",__source:{fileName:Cv,lineNumber:43},__self:this}),vs.a.createElement("span",{__source:{fileName:Cv,lineNumber:44},__self:this},r))),document.getElementById("js-player-asideMain"))):null},BarrageTips}(vs.a.Component),yv=function BarrageTips_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(gv.prototype,"barrageTipsService",[hv],{enumerable:!0,initializer:null}),vv=gv))||vv);wv.propTypes={tipsInfo:fv.a.string.isRequired,isShow:fv.a.bool.isRequired};var Dv,Ev,kv,Rv=Object(dv.connect)(function mapStateToProps(e){return{tipsInfo:e.barrageTips.tipsInfo,isShow:e.barrageTips.isShow}})(wv),jv=(r("43126"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageGee/BarrageGee.js");function BarrageGee_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageGee_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Pv=(Dv=(0,n.a.Service)(Iu),Ev=function(e){function BarrageGee(){!function BarrageGee_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageGee);var t=function BarrageGee_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function BarrageGee_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"barrageGeeService",kv,t),t.state={hideGee:!1},t.geeFn=null,t}return BarrageGee_inherits(BarrageGee,e),BarrageGee.prototype.clickClose=function clickClose(){this.barrageGeeService.close()},BarrageGee.prototype.componentDidUpdate=function componentDidUpdate(){this.props.isShow&&this.barrageGeeService.init(this.props.dstUid)},BarrageGee.prototype.render=function render(){return this.props.isShow?Nv.a.createPortal(vs.a.createElement("div",{className:"BarrageGee",__source:{fileName:jv,lineNumber:40},__self:this},vs.a.createElement("div",{className:"BarrageGee-close",onClick:this.clickClose.bind(this),__source:{fileName:jv,lineNumber:41},__self:this},"\xd7"),vs.a.createElement("span",{className:"BarrageGee-icon",__source:{fileName:jv,lineNumber:42},__self:this}),vs.a.createElement("div",{className:"BarrageGee-header",__source:{fileName:jv,lineNumber:43},__self:this},"\u8bf7\u901a\u8fc7\u5b89\u5168\u6821\u9a8c"),vs.a.createElement("div",{className:"BarrageGee-area",__source:{fileName:jv,lineNumber:44},__self:this}),vs.a.createElement("div",{className:"BarrageGee-captcha",id:"BarrageGee-captcha",__source:{fileName:jv,lineNumber:45},__self:this},vs.a.createElement("div",{className:"captcha-gt",__source:{fileName:jv,lineNumber:46},__self:this}))),document.body):null},BarrageGee}(vs.a.Component),kv=function BarrageGee_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Ev.prototype,"barrageGeeService",[Dv],{enumerable:!0,initializer:null}),Ev);Pv.propTypes={dstUid:fv.a.string.isRequired,isShow:fv.a.bool.isRequired};var Tv=Object(dv.connect)(function mapStateToProps(e){return{dstUid:e.barrageGee.dstUid,isShow:e.barrageGee.isShow}})(Pv),Bv=(r("719f0"),"startStep$"),Mv="rocketSmallUp$",Lv="superRocketSmallUp$",zv="planeSmallUp$",Av="superRockerUp$",Iv="rockerUp$",Fv="planeUp$",xv="batchUp$",Gv="nobleOpen$",Uv="banner$",Hv="dropDown$",Wv="treasure$",Vv="endStep$";function giftReconcilerServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function giftReconcilerServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var $v=function(e){function GiftReconcilerServices(){!function giftReconcilerServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftReconcilerServices);var t=function giftReconcilerServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t[Mv]=new db.Subject,t[Lv]=new db.Subject,t[zv]=new db.Subject,t[Bv]=new db.Subject,t[xv]=new db.Subject,t[Fv]=new db.Subject,t[Iv]=new db.Subject,t[Av]=new db.Subject,t[Gv]=new db.Subject,t[Uv]=new db.Subject,t[Hv]=new db.Subject,t[Wv]=new db.Subject,t[Vv]=new db.Subject,t}return giftReconcilerServices_inherits(GiftReconcilerServices,e),GiftReconcilerServices.prototype.setStepList=function setStepList(e){this.totalSteps=this.totalSteps||[],this.stepList=[].concat(e),this.stepList.pop(),this.stepList.shift(),this.totalSteps=this.totalSteps.concat(this.stepList)},GiftReconcilerServices.prototype.runNext=function runNext(e){var t=this.totalSteps.shift();"startStep$"!==t&&"endStep$"!==t&&this[t].next(e)},GiftReconcilerServices}(f.Service);function giftViewServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function giftViewServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Kv,qv,Qv,Jv,Yv,Xv=function(e){function GiftViewServices(){!function giftViewServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftViewServices);var t=function giftViewServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t[Mv]=new db.Subject,t[Lv]=new db.Subject,t[zv]=new db.Subject,t[Bv]=new db.Subject,t[xv]=new db.Subject,t[Fv]=new db.Subject,t[Iv]=new db.Subject,t[Av]=new db.Subject,t[Gv]=new db.Subject,t[Uv]=new db.Subject,t[Hv]=new db.Subject,t[Wv]=new db.Subject,t[Vv]=new db.Subject,t}return giftViewServices_inherits(GiftViewServices,e),GiftViewServices}(f.Service),Zv=r("f57e5"),eg=r("5f94a"),tg=r("368f5"),rg=r("5bb61");function giftCenterServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function giftCenterServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function giftCenterServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function giftCenterServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ig=n.a.Service,ng=(Kv=ig(Xv),qv=ig(Ab),Qv=function(e){function GiftCenterService(){!function giftCenterServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftCenterService);var t=function giftCenterServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return giftCenterServices_initDefineProp(t,"giftViewController",Jv,t),giftCenterServices_initDefineProp(t,"barrageBannerServices",Yv,t),t.initStartStep(),t.initRocketSmallUp(),t.initSuperRocketSmallUp(),t.initPlaneSmallUp(),t.initPlaneSmallUp(),t.initSuperRockerUp(),t.initRockerUp(),t.initPlaneUp(),t.initBatchUp(),t.initNobleOpen(),t.initBanner(),t.initDropDown(),t.initTreasureBox(),t.initEndStep(),t}return giftCenterServices_inherits(GiftCenterService,e),GiftCenterService.prototype.callbackFromAnimation=function callbackFromAnimation(e,t,r){e[r].pipe(Object(rg.take)(1)).subscribe(function(e){t(e)})},GiftCenterService.prototype.initStartStep=function initStartStep(){this[Bv]=function(e){return Object(s.of)(e)}},GiftCenterService.prototype.initRocketSmallUp=function initRocketSmallUp(){var e=this;this[Mv]=function(t){return Object(Zv.fromPromise)(new Promise(function(r){var i=t.reconcilerService;e.callbackFromAnimation(i,r,Mv),setTimeout(function(){i.runNext(t)},100)}))}},GiftCenterService.prototype.initSuperRocketSmallUp=function initSuperRocketSmallUp(){var e=this;this[Lv]=function(t){return Object(Zv.fromPromise)(new Promise(function(r){var i=t.reconcilerService;e.callbackFromAnimation(i,r,Lv),setTimeout(function(){i.runNext(t)},100)}))}},GiftCenterService.prototype.initPlaneSmallUp=function initPlaneSmallUp(){var e=this;this[zv]=function(t){return Object(Zv.fromPromise)(new Promise(function(r){var i=t.reconcilerService;e.callbackFromAnimation(i,r,zv),setTimeout(function(){i.runNext(t)},100)}))}},GiftCenterService.prototype.initRockerUp=function initRockerUp(){var e=this;this[Iv]=function(t){return Object(Zv.fromPromise)(new Promise(function(r){var i=t.reconcilerService,n=t.viewService;e.callbackFromAnimation(i,r,Iv),n[Iv].next(t)}))}},GiftCenterService.prototype.initSuperRockerUp=function initSuperRockerUp(){var e=this;this[Av]=function(t){return Object(Zv.fromPromise)(new Promise(function(r){var i=t.reconcilerService,n=t.viewService;e.callbackFromAnimation(i,r,Av),n[Av].next(t)}))}},GiftCenterService.prototype.initPlaneUp=function initPlaneUp(){var e=this;this[Fv]=function(t){return Object(Zv.fromPromise)(new Promise(function(r){var i=t.reconcilerService,n=t.viewService;e.callbackFromAnimation(i,r,Fv),n[Fv].next(t)}))}},GiftCenterService.prototype.initBatchUp=function initBatchUp(){var e=this;this[xv]=function(t){return Object(Zv.fromPromise)(new Promise(function(r){var i=t.reconcilerService,n=t.viewService;e.callbackFromAnimation(i,r,xv),n[xv].next(t)}))}},GiftCenterService.prototype.initNobleOpen=function initNobleOpen(){var e=this;this[Gv]=function(t){return Object(Zv.fromPromise)(new Promise(function(r){var i=t.reconcilerService,n=t.viewService;e.callbackFromAnimation(i,r,Gv),n[Gv].next(t)}))}},GiftCenterService.prototype.initBanner=function initBanner(){var e=this;this[Uv]=function(t){return Object(Zv.fromPromise)(new Promise(function(r){var i=t.giftData,n=t.reconcilerService,a=t.viewService;e.callbackFromAnimation(n,r,Uv),e.barrageBannerServices.receiveBannerData({giftData:i,reconcilerService:n,viewService:a}),n.runNext(t)}))}},GiftCenterService.prototype.initDropDown=function initDropDown(){var e=this;this[Hv]=function(t){return Object(Zv.fromPromise)(new Promise(function(r){var i=t.giftData,n=t.reconcilerService,a=t.viewService;e.callbackFromAnimation(n,r,Hv),setTimeout(function(){var e={giftData:i,reconcilerService:n,viewService:a};n.runNext(e)},100)}))}},GiftCenterService.prototype.initTreasureBox=function initTreasureBox(){var e=this;this[Wv]=function(t){return Object(Zv.fromPromise)(new Promise(function(r){var i=t.giftData,n=t.reconcilerService,a=t.viewService;e.callbackFromAnimation(n,r,Wv),setTimeout(function(){var e={giftData:i,reconcilerService:n,viewService:a};n.runNext(e)},100)}))}},GiftCenterService.prototype.initEndStep=function initEndStep(){this[Vv]=function(){return Object(s.of)("\u5b8c\u6210")}},GiftCenterService.prototype.mappingStep=function mappingStep(e){var t=this,r=[];e.forEach(function(e){Array.isArray(e)?e.forEach(function(e){r.push(e)}):r.push(e)});var i=r.map(function(e){var r=t[e];return Object(tg.mergeMap)(r)});return i.push(Object(Wt.catchError)(function(e){return e})),i},GiftCenterService.prototype.runSchedule=function runSchedule(e){var t=this;this.runningSchedule||(this.runningSchedule=!0,eg.queue.schedule(function(r){var i=this;if(0!==r.length){var n=r.shift();t.reconcilerService.setStepList(e),this.runningAnimation=!0,n.subscribe(function(){0!==r.length?i.schedule(r):(t.runningAnimation=!1,t.runningSchedule=!1)})}},0,this.animationQueue$))},GiftCenterService.prototype.ayncAnimationStep=function ayncAnimationStep(e){var t=this;return e.map(function(e){if(Array.isArray(e))return Object(tg.mergeMap)(function(r){var i=[];return e.forEach(function(e){var n=t[e](r);i.push(n)}),l.forkJoin.apply(void 0,i)});var r=t[e];return Object(tg.mergeMap)(r)})},GiftCenterService}(f.Service),Jv=giftCenterServices_applyDecoratedDescriptor(Qv.prototype,"giftViewController",[Kv],{enumerable:!0,initializer:null}),Yv=giftCenterServices_applyDecoratedDescriptor(Qv.prototype,"barrageBannerServices",[qv],{enumerable:!0,initializer:null}),Qv);function superRockerGiftServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function superRockerGiftServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ag=function(e){function SuperRockerGiftService(){!function superRockerGiftServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SuperRockerGiftService);var t=function superRockerGiftServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.stepList=[Bv,Lv,Av,Uv,Hv,Wv,Vv],t.animationQueue$=[],t.reconcilerService=new $v,t.viewService=new Xv,t}return superRockerGiftServices_inherits(SuperRockerGiftService,e),SuperRockerGiftService.prototype.execute=function execute(e){var t,r=this.mappingStep(this.stepList),i=(t=Object(s.of)({giftData:e,reconcilerService:this.reconcilerService,viewService:this.viewService})).pipe.apply(t,r);this.animationQueue$.push(i),this.runSchedule(this.stepList)},SuperRockerGiftService.prototype.runNext=function runNext(e){this.reconcilerService.runNext(e)},SuperRockerGiftService}(ng);function rockerGiftServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function rockerGiftServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var og=function(e){function RockerGiftService(){!function rockerGiftServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RockerGiftService);var t=function rockerGiftServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.stepList=[Bv,Iv,Uv,Hv,Wv,Vv],t.animationQueue$=[],t.reconcilerService=new $v,t.viewService=new Xv,t}return rockerGiftServices_inherits(RockerGiftService,e),RockerGiftService.prototype.execute=function execute(e){var t,r=this.mappingStep(this.stepList),i=(t=Object(s.of)({giftData:e,reconcilerService:this.reconcilerService,viewService:this.viewService})).pipe.apply(t,r);this.animationQueue$.push(i),this.runSchedule(this.stepList)},RockerGiftService.prototype.runNext=function runNext(e){this.reconcilerService.runNext(e)},RockerGiftService}(ng);function planeGiftServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function planeGiftServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var lg=function(e){function PlaneGiftService(){!function planeGiftServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PlaneGiftService);var t=function planeGiftServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.stepList=[Bv,Fv,Uv,Hv,Wv,Vv],t.animationQueue$=[],t.viewService=new Xv,t}return planeGiftServices_inherits(PlaneGiftService,e),PlaneGiftService.prototype.execute=function execute(e){var t,r=new $v,i=this.mappingStep(this.stepList),n=(t=Object(s.of)({giftData:e,reconcilerService:r,viewService:this.viewService})).pipe.apply(t,i);r.setStepList(this.stepList),n.subscribe(function(e){return e})},PlaneGiftService.prototype.runNext=function runNext(e){e.reconcilerService.runNext(e)},PlaneGiftService}(ng);function batchGiftServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function batchGiftServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var sg=function(e){function BatchGiftService(){!function batchGiftServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BatchGiftService);var t=function batchGiftServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.stepList=[Bv,xv,Uv,Hv,Wv,Vv],t.animationQueue$=[],t.reconcilerService=new $v,t.viewService=new Xv,t}return batchGiftServices_inherits(BatchGiftService,e),BatchGiftService.prototype.execute=function execute(e){var t,r=this.mappingStep(this.stepList),i=(t=Object(s.of)({giftData:e,reconcilerService:this.reconcilerService,viewService:this.viewService})).pipe.apply(t,r);this.animationQueue$.push(i),this.runSchedule(this.stepList)},BatchGiftService.prototype.runNext=function runNext(e){this.reconcilerService.runNext(e)},BatchGiftService}(ng);function normalGiftServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function normalGiftServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var cg,ug,pg,fg,dg,bg,mg,hg,vg,gg,yg,_g,Sg,Ng,Cg,Og,wg,Dg,Eg,kg,Rg=function(e){function NormalGiftService(){!function normalGiftServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NormalGiftService);var t=function normalGiftServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.stepList=[Bv,Uv,Vv],t.animationQueue$=[],t.viewService=new Xv,t}return normalGiftServices_inherits(NormalGiftService,e),NormalGiftService.prototype.execute=function execute(e){var t,r=new $v,i=this.mappingStep(this.stepList),n=(t=Object(s.of)({giftData:e,reconcilerService:r,viewService:this.viewService})).pipe.apply(t,i);r.setStepList(this.stepList),n.subscribe(function(e){return e})},NormalGiftService.prototype.runNext=function runNext(e){e.reconcilerService.runNext(e)},NormalGiftService}(ng);function GiftSendMsgDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function GiftSendMsgDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function GiftSendMsgDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function GiftSendMsgDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function GiftSendMsgDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var jg,Pg,Tg,Bg,Mg,Lg,zg,Ag,Ig,Fg,xg,Gg,Ug,Hg,Wg,Vg,$g,Kg,qg,Qg,Jg,Yg=C.basicTypes.string,Xg=C.basicTypes.number,Zg=C.basicTypes.optional,ey=(cg=(0,C.basicTypes.mapping)({senderId:"uid",senderName:"nn",senderAvatar:"ic",giftId:"gfid",hitTimes:"hits",anchorWeight:"dw",senderIcon:"ic",senderLv:"level",giftBoxId:"rpid",pecktype:"rpt"}),ug=Zg(""),pg=Zg(""),fg=Zg("1"),dg=Zg(""),bg=Zg(""),mg=Zg(""),hg=Zg(""),Object(ye.log)(vg=cg((gg=function(e){function GiftMsgDto(){var t,r;!function GiftSendMsgDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftMsgDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=GiftSendMsgDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),GiftSendMsgDto_initDefineProp(r,"senderId",yg,r),GiftSendMsgDto_initDefineProp(r,"senderName",_g,r),GiftSendMsgDto_initDefineProp(r,"senderAvatar",Sg,r),GiftSendMsgDto_initDefineProp(r,"giftId",Ng,r),GiftSendMsgDto_initDefineProp(r,"hitTimes",Cg,r),GiftSendMsgDto_initDefineProp(r,"anchorWeight",Og,r),GiftSendMsgDto_initDefineProp(r,"senderIcon",wg,r),GiftSendMsgDto_initDefineProp(r,"senderLv",Dg,r),GiftSendMsgDto_initDefineProp(r,"giftBoxId",Eg,r),GiftSendMsgDto_initDefineProp(r,"pecktype",kg,r),GiftSendMsgDto_possibleConstructorReturn(r,t)}return GiftSendMsgDto_inherits(GiftMsgDto,e),GiftMsgDto}(C.EntityDto),yg=GiftSendMsgDto_applyDecoratedDescriptor(gg.prototype,"senderId",[Yg],{enumerable:!0,initializer:null}),_g=GiftSendMsgDto_applyDecoratedDescriptor(gg.prototype,"senderName",[ug,Yg],{enumerable:!0,initializer:null}),Sg=GiftSendMsgDto_applyDecoratedDescriptor(gg.prototype,"senderAvatar",[pg,Yg],{enumerable:!0,initializer:null}),Ng=GiftSendMsgDto_applyDecoratedDescriptor(gg.prototype,"giftId",[Xg],{enumerable:!0,initializer:null}),Cg=GiftSendMsgDto_applyDecoratedDescriptor(gg.prototype,"hitTimes",[fg,Yg],{enumerable:!0,initializer:null}),Og=GiftSendMsgDto_applyDecoratedDescriptor(gg.prototype,"anchorWeight",[Yg],{enumerable:!0,initializer:null}),wg=GiftSendMsgDto_applyDecoratedDescriptor(gg.prototype,"senderIcon",[dg,Yg],{enumerable:!0,initializer:null}),Dg=GiftSendMsgDto_applyDecoratedDescriptor(gg.prototype,"senderLv",[bg,Yg],{enumerable:!0,initializer:null}),Eg=GiftSendMsgDto_applyDecoratedDescriptor(gg.prototype,"giftBoxId",[mg,Yg],{enumerable:!0,initializer:null}),kg=GiftSendMsgDto_applyDecoratedDescriptor(gg.prototype,"pecktype",[hg,Yg],{enumerable:!0,initializer:null}),vg=gg))||vg)||vg),ty=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function giftEffectServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function giftEffectServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function giftEffectServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function giftEffectServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ry,iy,ny,ay=n.a.Store,oy=n.a.Service,ly=w.a.socketStream,sy=o.a.decode,cy=(jg=ay(),Pg=oy(C.DataCenter.global),Tg=oy(C.DataCenter.common),Bg=oy(ag),Mg=oy(og),Lg=oy(lg),zg=oy(sg),Ag=oy(Rg),Ig=oy(yp),Fg=oy(bb.a),xg=function(e){function giftEffectServices(){!function giftEffectServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,giftEffectServices);var t=function giftEffectServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return giftEffectServices_initDefineProp(t,"store",Gg,t),giftEffectServices_initDefineProp(t,"global",Ug,t),giftEffectServices_initDefineProp(t,"common",Hg,t),giftEffectServices_initDefineProp(t,"superRockerGiftService",Wg,t),giftEffectServices_initDefineProp(t,"rockerGiftService",Vg,t),giftEffectServices_initDefineProp(t,"planeGiftServices",$g,t),giftEffectServices_initDefineProp(t,"batchGiftServices",Kg,t),giftEffectServices_initDefineProp(t,"normalGiftServices",qg,t),giftEffectServices_initDefineProp(t,"shieldToolServices",Qg,t),giftEffectServices_initDefineProp(t,"giftSendServices",Jg,t),t.config={allGiftConfMap:null,allPropConfMap:null,batchConf:null},t.giftList=[],t}return giftEffectServices_inherits(giftEffectServices,e),giftEffectServices.prototype.bindingSuperRocketSmallStateChange=function bindingSuperRocketSmallStateChange(e){this.superRockerGiftService.viewService[Lv].subscribe(function(t){e(t)})},giftEffectServices.prototype.bindingSuperRocketStateChange=function bindingSuperRocketStateChange(e){this.superRockerGiftService.viewService[Av].subscribe(function(t){e(t)})},giftEffectServices.prototype.runNextSuperRocketAnimation=function runNextSuperRocketAnimation(e){this.superRockerGiftService.runNext(e)},giftEffectServices.prototype.bindingRockerStateChange=function bindingRockerStateChange(e){this.rockerGiftService.viewService[Iv].subscribe(function(t){return e(t)})},giftEffectServices.prototype.runNextRockerAnimation=function runNextRockerAnimation(e){this.rockerGiftService.runNext(e)},giftEffectServices.prototype.bindingPlaneStateChange=function bindingPlaneStateChange(e){this.planeGiftServices.viewService[Fv].subscribe(function(t){e(t)})},giftEffectServices.prototype.runNextPlaneAnimation=function runNextPlaneAnimation(e){this.planeGiftServices.runNext(e)},giftEffectServices.prototype.bindingBatchStateChange=function bindingBatchStateChange(e){this.batchGiftServices.viewService[xv].subscribe(function(t){e(t)})},giftEffectServices.prototype.runNextBatchAnimation=function runNextBatchAnimation(e){this.batchGiftServices.runNext(e)},giftEffectServices.prototype.giftEffectInit=function giftEffectInit(){this.giftMsgListen()},giftEffectServices.prototype.returnGiftShieldState=function returnGiftShieldState(){return this.shieldToolServices.getShield(106)},giftEffectServices.prototype.checkShieldIsStopEffect=function checkShieldIsStopEffect(e){return!(e.uid>0&&+e.uid===+this.global.get("USER_INFO.uid"))&&!!this.returnGiftShieldState()},giftEffectServices.prototype.listenHistoryGiftMsg=function listenHistoryGiftMsg(){var e=this;ly.subscribe("aghl",function(t){var r=t.glist;(void 0===r?[]:r).forEach(function(t){var r=sy(t),i={isEnterRoom:!0,bannerType:"BANNER_4_GIFT",objectId:r.gid,senderId:r.sid,senderName:r.snk,hitTimes:parseInt(r.hs,10)||0,batchCount:parseInt(r.gfcnt,10)||0,bannerStayTime:r.bst};e.checkShieldIsStopEffect(r)||e.fetchGiftData(i)})})},giftEffectServices.prototype.listenGiftMsg=function listenGiftMsg(){var e=this,t=+this.global.get("USER_INFO.uid");this.common.get("$DATA").subscribe(function(r){var i=+r.get("room.owner_uid"),n=t>0&&t===i?"bgd":"dgb";ly.subscribe(n,function(t){var r={isEnterRoom:!1,bannerType:"BANNER_4_GIFT",objectId:t.gfid,senderId:t.uid,senderName:t.nn,hitTimes:parseInt(t.hits,10)||0,batchCount:parseInt(t.bcnt,10)||0};e.checkShieldIsStopEffect(t)||e.fetchGiftData(r)})})},giftEffectServices.prototype.fetchGiftData=function fetchGiftData(e){var t=this,r=this.config||{},i=r.allGiftConfMap,n=r.allPropConfMap,a=r.batchConf;(i||n)&&a?this.handleGift({giftBaseInfo:e,allGiftConfMap:i,allPropConfMap:n,batchConf:a}):Object(l.forkJoin)(this.giftSendServices.getAllGiftConfig(),this.giftSendServices.getAllPropsConfig(),this.giftSendServices.getBatchGiftConfig()).subscribe(function(i){var n=i[0],a=void 0===n?{}:n,o=i[1],l=void 0===o?{}:o,s=i[2],c=void 0===s?{}:s,u=a.data||[];r.allGiftConfMap={},u.forEach(function(e){r.allGiftConfMap[e.id]=e}),r.allPropConfMap=l.data||{},r.batchConf=c,t.handleGift({giftBaseInfo:e,allGiftConfMap:r.allGiftConfMap,allPropConfMap:r.allPropConfMap,batchConf:r.batchConf})})},giftEffectServices.prototype.log=function log(){console&&console.log(arguments)},giftEffectServices.prototype.handleGift=function handleGift(e){var t=e.giftBaseInfo,r=e.allGiftConfMap,i=e.allPropConfMap,n=e.batchConf,a=ty({},t),o=r[t.objectId],l=n;o?(a.giftType="gift",this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u793c\u7269\u8d60\u9001...")):(o=i[t.objectId])&&(a.giftType="prop",this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u9053\u5177\u8d60\u9001...")),o?(this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u5168\u91cf\u914d\u7f6e\u4e2d\u5305\u542b\u5bf9\u5e94\u914d\u7f6e"),this.processGift({giftBaseInfo:a,giftConfInfo:o,giftBatchInfo:l})):this.handleSingleGift({giftBaseInfo:a,giftBatchInfo:l})},giftEffectServices.prototype.handleSingleGift=function handleSingleGift(e){var t=this,r=e.giftBaseInfo,i=e.giftBatchInfo;console.warn("[\u793c\u7269\u7cfb\u7edf]\uff1a\u5168\u91cf\u914d\u7f6e\u4e2d\u4e0d\u5305\u542b\u5bf9\u5e94\u914d\u7f6e\u9700\u5355\u72ec\u5f02\u6b65\u5904\u7406\u6b64\u793c\u7269/\u9053\u5177"),this.giftSendServices.getSingleGiftConfig(r.objectId).subscribe(function(e){t.processGift({giftBaseInfo:r,giftConfInfo:e,giftBatchInfo:i})})},giftEffectServices.prototype.processGift=function processGift(e){var t=e.giftBaseInfo,r=e.giftConfInfo,i=e.giftBatchInfo;this.log("[\u793c\u7269\u7cfb\u7edf]: \u6b64\u793c\u7269\u4e3a",1===r.type?"\u9c7c\u4e38\u793c\u7269":"\u9c7c\u7fc5\u793c\u7269"),this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u5355\u793c\u7269/\u9053\u5177\u7684\u5168\u90e8\u4fe1\u606f\uff0c\u5f00\u59cb\u8fdb\u5165\u52a8\u753b\u8fc7\u7a0b"),this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u793c\u7269\u57fa\u7840\u4fe1\u606f",t),this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u793c\u7269\u914d\u7f6e\u4fe1\u606f",r),this.log("[\u793c\u7269\u7cfb\u7edf]\uff1a\u793c\u7269\u6279\u91cf\u4fe1\u606f",i)},giftEffectServices.prototype.listenHandler=function listenHandler(e){var t=this,r=e;if(this.checkShieldIsStopEffect(r))return!1;r.gfid=parseInt(r.gfid,10);var i=ey.fromJSON(r);return Object(l.forkJoin)(Object(s.of)(i),this.giftSendServices.getAllGiftConfig(),this.giftSendServices.getBatchGiftConfig(),this.giftSendServices.getAllPropsConfig()).subscribe(function(r){var i=r[0],n=r[1]?r[1].data:[],a=r[2]||{},o=r[3]?r[3].data:{},l=a.batch_conf||{},s=a.bimg||{},c=n.map(function(e){var t=Object.assign({},e),r=l[e.id];if(r){var i=r.list;t.isBatch=1,t.cultureContent=r.culture_content,t.descA=r.desc_content_1,t.descB=r.desc_content_2,t.batchNumArr=[],t.batchData={},i.forEach(function(e){t.batchNumArr.push(e.num),t.batchData[e.num]=e})}return t}),u={};c&&c.length>0&&c.forEach(function(e){u[e.id]=e});var p=(c=ty({},o,u))[i.giftId];if(p){var f=Object.assign({},ty({bannerType:"BANNER_4_GIFT"},p,i,{giftEHash:"giftEffect-"+(new Date).getTime(),effectState:1,giftConfig:p,sttData:i,data:e,batchBannerConf:s}));switch(parseInt(p.ef,10)){case 0:f.data.gfcnt>1?t.batchGiftServices.execute(f):t.normalGiftServices.execute(f);break;case 101:case 1:case 2:t.batchGiftServices.execute(f);break;default:t.normalGiftServices.execute(f)}}}),!1},giftEffectServices.prototype.getGiftByGiftId=function getGiftByGiftId(e){var t={};return(this.global.get("$GIFT_ALL_CONFIG")||[]).forEach(function(r){parseInt(e,10)===parseInt(r.id,10)&&(t=r)}),t},giftEffectServices.prototype.isNeedBarrageAbandon=function isNeedBarrageAbandon(e){var t=e.uid,r=(C.DataCenter.global.get("USER_INFO")||{}).uid,i=this.getGiftByGiftId(e.gfid),n=0;if(parseInt(r,10)!==parseInt(t,10))return!1;switch(i.type){case 1:n=i.pc*e.gfcnt/1e3;break;case 2:n=i.pc*e.gfcnt;break;default:n=0}return n<=6e3},giftEffectServices.prototype.giftAsync=function giftAsync(e){var t=this,r=Object(fb.interval)(400).subscribe(function(){0!==t.giftList.length?e.next(t.giftList.shift()):r.unsubscribe()})},giftEffectServices.prototype.pressInGiftList=function pressInGiftList(e){this.giftList.length<60?this.giftList.push(e):(this.giftList.shift(),this.giftList.push(e))},giftEffectServices.prototype.giftMsgListen=function giftMsgListen(){var e=this,t=+this.global.get("USER_INFO.uid"),r=new db.Subject;r.subscribe(function(t){return e.listenHandler(t)}),this.common.get("$DATA").subscribe(function(i){var n=+i.get("room.owner_uid"),a=t>0&&t===n?"bgd":"dgb";ly.subscribe(a,function(t){e.isNeedBarrageAbandon(t)?0===e.giftList.length?(e.pressInGiftList(t),e.giftAsync(r)):e.pressInGiftList(t):e.listenHandler(t)}),ly.subscribe("aghl",function(t){var r=t.glist,i=void 0===r?[]:r;return Object(l.forkJoin)(Object(s.of)(i),e.giftSendServices.getAllGiftConfig(),e.giftSendServices.getBatchGiftConfig(),e.giftSendServices.getAllPropsConfig()).subscribe(function(t){var r=t[0],i=t[1]?t[1].data:[],n=t[2]||{},a=t[3]?t[3].data:{},o=n.batch_conf||{},l=n.bimg||{},s=i.map(function(e){var t=Object.assign({},e),r=o[e.id];if(r){var i=r.list;t.isBatch=1,t.cultureContent=r.culture_content,t.descA=r.desc_content_1,t.descB=r.desc_content_2,t.batchNumArr=[],t.batchData={},i.forEach(function(e){t.batchNumArr.push(e.num),t.batchData[e.num]=e})}return t}),c={};s&&s.length>0&&s.forEach(function(e){c[e.id]=e}),s=ty({},a,c),r.forEach(function(t){var r=sy(t),i={bannerType:"BANNER_4_GIFT",componentKey:"giftEffect-"+(new Date).getTime(),giftId:r.gid,senderId:r.sid,senderName:r.snk,bannerStyle:r.gs,hitTimes:r.hs||1,bcnt:r.hs||1,gfcnt:parseInt(r.gfcnt,10)||0,bannerStayTime:r.bst,bst:r.bst};if(!e.checkShieldIsStopEffect(i)){var n=s[i.giftId];if(n){var a=Object.assign({},ty({},n,i,{giftEHash:"giftEffect-"+(new Date).getTime(),effectState:1,giftConfig:n,sttData:i,data:i,batchBannerConf:l}));e.normalGiftServices.execute(a)}}})}),!1})})},giftEffectServices}(f.Service),Gg=giftEffectServices_applyDecoratedDescriptor(xg.prototype,"store",[jg],{enumerable:!0,initializer:null}),Ug=giftEffectServices_applyDecoratedDescriptor(xg.prototype,"global",[Pg],{enumerable:!0,initializer:null}),Hg=giftEffectServices_applyDecoratedDescriptor(xg.prototype,"common",[Tg],{enumerable:!0,initializer:null}),Wg=giftEffectServices_applyDecoratedDescriptor(xg.prototype,"superRockerGiftService",[Bg],{enumerable:!0,initializer:null}),Vg=giftEffectServices_applyDecoratedDescriptor(xg.prototype,"rockerGiftService",[Mg],{enumerable:!0,initializer:null}),$g=giftEffectServices_applyDecoratedDescriptor(xg.prototype,"planeGiftServices",[Lg],{enumerable:!0,initializer:null}),Kg=giftEffectServices_applyDecoratedDescriptor(xg.prototype,"batchGiftServices",[zg],{enumerable:!0,initializer:null}),qg=giftEffectServices_applyDecoratedDescriptor(xg.prototype,"normalGiftServices",[Ag],{enumerable:!0,initializer:null}),Qg=giftEffectServices_applyDecoratedDescriptor(xg.prototype,"shieldToolServices",[Ig],{enumerable:!0,initializer:null}),Jg=giftEffectServices_applyDecoratedDescriptor(xg.prototype,"giftSendServices",[Fg],{enumerable:!0,initializer:null}),xg),uy=r("2a355"),py=r.n(uy);function svgaEffectServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function svgaEffectServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}C.DataCenter.global;var fy=new(ry=(0,n.a.Service)(Cs.a),iy=function(e){function SvgaEffectServices(){!function svgaEffectServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SvgaEffectServices);var t=function svgaEffectServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function svgaEffectServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"barrageService",ny,t),t.effectQueue={array:[],isComplete:!0,flag:!0,parentDom:document.querySelector(".GiftEffect-svga"),documentHidden:!1},t.listen(),t}return svgaEffectServices_inherits(SvgaEffectServices,e),SvgaEffectServices.prototype.init=function init(){var e=this.effectQueue,t=this.checkSupportSvga();window.loader.loadFile("//sta-op.douyucdn.cn/front-publish/sdk-file-master/js/svga_5a7bd4a.js",function(){var t=svgaLib.default;e.svga=new t,e.parentDom=document.querySelector(".GiftEffect-svga"),e.svga.initDom(e.parentDom)}),e.flag=t},SvgaEffectServices.prototype.listen=function listen(){var e=this.effectQueue;py.a.subscribe(function(t){e.documentHidden=t.hidden})},SvgaEffectServices.prototype.startQueue=function startQueue(e){var t=this.effectQueue;if(0===t.array.length)return t.isComplete=!0,void(e&&e());if(t.isComplete){var r=t.array[0];t.isComplete=!1,this.playSvga(r,e)}},SvgaEffectServices.prototype.playSvga=function playSvga(e,t){var r=this,i=this.effectQueue;i.svga.addSVGA(e,1,function(){if(i.svga.disposeSvga(),i.array.shift(),0!==i.array.length){var e=i.array[0];r.playSvga(e)}else i.isComplete=!0,i.svga.disposeSvga();t&&t()},function(){})},SvgaEffectServices.prototype.pushQueue=function pushQueue(e,t){var r=this.effectQueue;r.parentDom||this.init(),r.flag?r.documentHidden?r.documentHidden&&t&&t():(r.array.push(e),this.startQueue(t)):(this.barrageService.receiveSysTipsMsg({resMsg:"\u60a8\u7684\u6d4f\u89c8\u5668\u7248\u672c\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u89c2\u770b\u793c\u7269\u52a8\u6548"}),t&&t())},SvgaEffectServices.prototype.checkSupportSvga=function checkSupportSvga(){var e=!1;try{e=0===(new ArrayBuffer).byteLength}catch(e){console.log("\u6d4f\u89c8\u5668\u7248\u672c\u4e0d\u652f\u6301SVGA")}return e},SvgaEffectServices}(f.Service),ny=function svgaEffectServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(iy.prototype,"barrageService",[ry],{enumerable:!0,initializer:null}),iy);fy.init();var dy,by,my,hy=fy;function Batch_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Batch_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Batch_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var vy,gy,yy,_y=(dy=(0,n.a.Service)(cy),by=function(e){function Batch(){var t,r;!function Batch_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Batch);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=Batch_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function Batch_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"giftEffectServices",my,r),Batch_possibleConstructorReturn(r,t)}return Batch_inherits(Batch,e),Batch.prototype.componentDidMount=function componentDidMount(){var e=this.props,t=e.giftEffect,r=e.clearGiftData,i=t.giftData,n=this.getSvgaUrl(i);if(n)hy.pushQueue(n,function(){r()});else{var a=i.effectIcon;a?(a=a.replace(/https?:/,""),hy.pushQueue(a,function(){r()})):r()}this.clearAnimate(t)},Batch.prototype.clearAnimate=function clearAnimate(e){this.giftEffectServices.runNextBatchAnimation(e)},Batch.prototype.getSvgaUrl=function getSvgaUrl(e){for(var t=e.batchNumArr,r=void 0===t?[]:t,i=e.batchData,n=void 0===i?{}:i,a=e.data,o=(void 0===a?{}:a).gfcnt||1,l="",s=0;s<r.length;s++)parseInt(o,10)>=parseInt(r[s],10)&&(l=r[s]);var c=n[l]?n[l].barrage_effect:"";return c=c.replace(/https?:/,"")},Batch.prototype.render=function render(){return this.props.giftEffect.giftData?vs.a.createElement("div",{className:"GiftEffect-empty",__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/GiftEffect/Batch/Batch.js",lineNumber:70},__self:this}):null},Batch}(vs.a.Component),my=function Batch_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(by.prototype,"giftEffectServices",[dy],{enumerable:!0,initializer:null}),by),Sy="/shark/live/src/pages/roomPage/playerAsideModule/components/GiftEffect/Batch/BatchContainer.js";function BatchContainer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BatchContainer_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Ny,Cy,Oy,wy,Dy,Ey,ky,Ry,jy,Py,Ty,By,My=(vy=(0,n.a.Service)(cy),gy=function(e){function BatchContainer(t){!function BatchContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BatchContainer);var r=function BatchContainer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return function BatchContainer_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"giftEffectServices",yy,r),r.state={giftData:[]},r}return BatchContainer_inherits(BatchContainer,e),BatchContainer.prototype.componentDidMount=function componentDidMount(){this.giftEffectServices.bindingBatchStateChange(this.changeData.bind(this))},BatchContainer.prototype.changeData=function changeData(e){var t=this.state.giftData||[];t.push(e),this.setState({giftData:t})},BatchContainer.prototype.clearGiftData=function clearGiftData(){var e=this.state.giftData||[];e.shift(),this.setState({giftData:e})},BatchContainer.prototype.getEffectDom=function getEffectDom(e){var t=null;if(e.length>0){var r=e[0];t=vs.a.createElement(_y,{key:r.giftData.giftEHash,giftEffect:r,clearGiftData:this.clearGiftData.bind(this),__source:{fileName:Sy,lineNumber:46},__self:this})}return t},BatchContainer.prototype.render=function render(){var e=this.state.giftData,t=this.getEffectDom(e);return vs.a.createElement("div",{className:"GiftEffect-batch"+(e.length>0?" is-active":""),__source:{fileName:Sy,lineNumber:61},__self:this},vs.a.createElement("div",{className:"GiftEffect-svga",__source:{fileName:Sy,lineNumber:62},__self:this}),t)},BatchContainer}(vs.a.Component),yy=function BatchContainer_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(gy.prototype,"giftEffectServices",[vy],{enumerable:!0,initializer:null}),gy);function NobleOpenEffectDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleOpenEffectDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleOpenEffectDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleOpenEffectDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleOpenEffectDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ly,zy,Ay,Iy,Fy,xy,Gy,Uy,Hy,Wy,Vy,$y,Ky,qy,Qy=C.basicTypes.string,Jy=C.basicTypes.mapping,Yy=C.basicTypes.number,Xy=Jy({roomId:"rid",gid:"gid",bt:"bt",userId:"uid",hrp:"hrp",userNick:"unk",openRoomId:"drid",nobleLevel:"nl",ts:"ts",userAvatar:"uic"})((Cy=function(e){function NobleOpenEffectDto(){var t,r;!function NobleOpenEffectDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleOpenEffectDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleOpenEffectDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleOpenEffectDto_initDefineProp(r,"roomId",Oy,r),NobleOpenEffectDto_initDefineProp(r,"gid",wy,r),NobleOpenEffectDto_initDefineProp(r,"bt",Dy,r),NobleOpenEffectDto_initDefineProp(r,"userId",Ey,r),NobleOpenEffectDto_initDefineProp(r,"hrp",ky,r),NobleOpenEffectDto_initDefineProp(r,"userNick",Ry,r),NobleOpenEffectDto_initDefineProp(r,"openRoomId",jy,r),NobleOpenEffectDto_initDefineProp(r,"nobleLevel",Py,r),NobleOpenEffectDto_initDefineProp(r,"ts",Ty,r),NobleOpenEffectDto_initDefineProp(r,"userAvatar",By,r),NobleOpenEffectDto_possibleConstructorReturn(r,t)}return NobleOpenEffectDto_inherits(NobleOpenEffectDto,e),NobleOpenEffectDto}(C.EntityDto),Oy=NobleOpenEffectDto_applyDecoratedDescriptor(Cy.prototype,"roomId",[Qy],{enumerable:!0,initializer:null}),wy=NobleOpenEffectDto_applyDecoratedDescriptor(Cy.prototype,"gid",[Qy],{enumerable:!0,initializer:null}),Dy=NobleOpenEffectDto_applyDecoratedDescriptor(Cy.prototype,"bt",[Qy],{enumerable:!0,initializer:null}),Ey=NobleOpenEffectDto_applyDecoratedDescriptor(Cy.prototype,"userId",[Qy],{enumerable:!0,initializer:null}),ky=NobleOpenEffectDto_applyDecoratedDescriptor(Cy.prototype,"hrp",[Qy],{enumerable:!0,initializer:null}),Ry=NobleOpenEffectDto_applyDecoratedDescriptor(Cy.prototype,"userNick",[Qy],{enumerable:!0,initializer:null}),jy=NobleOpenEffectDto_applyDecoratedDescriptor(Cy.prototype,"openRoomId",[Qy],{enumerable:!0,initializer:null}),Py=NobleOpenEffectDto_applyDecoratedDescriptor(Cy.prototype,"nobleLevel",[Yy],{enumerable:!0,initializer:null}),Ty=NobleOpenEffectDto_applyDecoratedDescriptor(Cy.prototype,"ts",[Qy],{enumerable:!0,initializer:null}),By=NobleOpenEffectDto_applyDecoratedDescriptor(Cy.prototype,"userAvatar",[Qy],{enumerable:!0,initializer:null}),Ny=Cy))||Ny;function NobleEffectConfigDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleEffectConfigDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleEffectConfigDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleEffectConfigDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleEffectConfigDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Zy=C.basicTypes.string,e_=C.basicTypes.number,t_=C.basicTypes.optional,r_=(Ly=(0,C.basicTypes.mapping)({nobleEffectSwitch:"is_special",bannerStayTime:"stay_milli_sec",bannerBgImg:"pc_bg",bannerHeaderImg:"pc_pic",nobleOpenSwf:"spl_pc_flash",nobleOpenBg:"spl_pc_bg",bannerSenderNameColor:"text_color1",bannerObjectNameColor:"text_color2",contribution:"display_rank"}),zy=t_(""),Ay=t_(""),Object(ye.log)(Iy=Ly((Fy=function(e){function NobleEffectConfigDto(){var t,r;!function NobleEffectConfigDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleEffectConfigDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleEffectConfigDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleEffectConfigDto_initDefineProp(r,"nobleEffectSwitch",xy,r),NobleEffectConfigDto_initDefineProp(r,"bannerStayTime",Gy,r),NobleEffectConfigDto_initDefineProp(r,"bannerBgImg",Uy,r),NobleEffectConfigDto_initDefineProp(r,"bannerHeaderImg",Hy,r),NobleEffectConfigDto_initDefineProp(r,"nobleOpenSwf",Wy,r),NobleEffectConfigDto_initDefineProp(r,"nobleOpenBg",Vy,r),NobleEffectConfigDto_initDefineProp(r,"bannerSenderNameColor",$y,r),NobleEffectConfigDto_initDefineProp(r,"bannerObjectNameColor",Ky,r),NobleEffectConfigDto_initDefineProp(r,"contribution",qy,r),NobleEffectConfigDto_possibleConstructorReturn(r,t)}return NobleEffectConfigDto_inherits(NobleEffectConfigDto,e),NobleEffectConfigDto}(C.EntityDto),xy=NobleEffectConfigDto_applyDecoratedDescriptor(Fy.prototype,"nobleEffectSwitch",[e_],{enumerable:!0,initializer:null}),Gy=NobleEffectConfigDto_applyDecoratedDescriptor(Fy.prototype,"bannerStayTime",[e_],{enumerable:!0,initializer:null}),Uy=NobleEffectConfigDto_applyDecoratedDescriptor(Fy.prototype,"bannerBgImg",[Zy],{enumerable:!0,initializer:null}),Hy=NobleEffectConfigDto_applyDecoratedDescriptor(Fy.prototype,"bannerHeaderImg",[Zy],{enumerable:!0,initializer:null}),Wy=NobleEffectConfigDto_applyDecoratedDescriptor(Fy.prototype,"nobleOpenSwf",[zy,Zy],{enumerable:!0,initializer:null}),Vy=NobleEffectConfigDto_applyDecoratedDescriptor(Fy.prototype,"nobleOpenBg",[Ay,Zy],{enumerable:!0,initializer:null}),$y=NobleEffectConfigDto_applyDecoratedDescriptor(Fy.prototype,"bannerSenderNameColor",[Zy],{enumerable:!0,initializer:null}),Ky=NobleEffectConfigDto_applyDecoratedDescriptor(Fy.prototype,"bannerObjectNameColor",[Zy],{enumerable:!0,initializer:null}),qy=NobleEffectConfigDto_applyDecoratedDescriptor(Fy.prototype,"contribution",[e_],{enumerable:!0,initializer:null}),Iy=Fy))||Iy)||Iy);function nobleOpenServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleOpenServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var i_,n_,a_,o_,l_,s_,c_,u_,p_,f_,d_,b_=function(e){function NobleOpenServices(){!function nobleOpenServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleOpenServices);var t=function nobleOpenServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.stepList=[Bv,Gv,Uv,Vv],t.animationQueue$=[],t.reconcilerService=new $v,t.viewService=new Xv,t}return nobleOpenServices_inherits(NobleOpenServices,e),NobleOpenServices.prototype.execute=function execute(e){var t,r=this.mappingStep(this.stepList),i=(t=Object(s.of)({giftData:e,reconcilerService:this.reconcilerService,viewService:this.viewService})).pipe.apply(t,r);this.animationQueue$.push(i),this.runSchedule(this.stepList)},NobleOpenServices.prototype.runNext=function runNext(e){this.reconcilerService.runNext(e)},NobleOpenServices}(ng);function nobleOpenEffectServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function nobleOpenEffectServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function nobleOpenEffectServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleOpenEffectServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function nobleOpenEffectServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var m_,h_,v_,g_=n.a.Service,y_=n.a.Store,__=w.a.socketStream,S_=(i_=y_(),n_=g_(b_),a_=g_(yp),o_=g_(C.DataCenter.global),l_=g_(C.DataCenter.common),s_=function(e){function NobleOpenEffectServices(){var t,r;!function nobleOpenEffectServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleOpenEffectServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=nobleOpenEffectServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),nobleOpenEffectServices_initDefineProp(r,"store",c_,r),nobleOpenEffectServices_initDefineProp(r,"nobleOpenServices",u_,r),nobleOpenEffectServices_initDefineProp(r,"shieldToolServices",p_,r),nobleOpenEffectServices_initDefineProp(r,"global",f_,r),nobleOpenEffectServices_initDefineProp(r,"common",d_,r),r.config={effectStayTimes:{1:4e3,2:4e3,3:5e3,4:6e3,5:8e3,6:1e4,7:4e3}},nobleOpenEffectServices_possibleConstructorReturn(r,t)}return nobleOpenEffectServices_inherits(NobleOpenEffectServices,e),NobleOpenEffectServices.prototype.bindingNobleOpenEffectStateChange=function bindingNobleOpenEffectStateChange(e){this.nobleOpenServices.viewService[Gv].subscribe(function(t){e(t)})},NobleOpenEffectServices.prototype.runNextNobleOpenEffectAnimation=function runNextNobleOpenEffectAnimation(e){this.nobleOpenServices.runNext(e)},NobleOpenEffectServices.prototype.nobleEffectInit=function nobleEffectInit(){this.roomId=+this.global.get("$ROOM.room_id"),this.nobleEffectListen()},NobleOpenEffectServices.prototype.returnGiftShieldState=function returnGiftShieldState(){return this.shieldToolServices.getShield(106)},NobleOpenEffectServices.prototype.checkShieldIsStopEffect=function checkShieldIsStopEffect(e){return!(e.uid>0&&+e.uid===+this.global.get("USER_INFO.uid"))&&!!this.returnGiftShieldState()},NobleOpenEffectServices.prototype.nobleEffectListen=function nobleEffectListen(){var e=this;__.subscribe("anbc",function(t){var r=t;if(+r.drid!==e.roomId)return!1;if(e.checkShieldIsStopEffect(r))return!1;r.nl=parseInt(r.nl,10);var i=Xy.fromJSON(r);return e.common.get("$DATA").subscribe(function(t){var r=t.get("room.nobleConfig");Object(l.forkJoin)(Object(s.of)(i),C.jsonpClient.get(Object(C.Dictionary)(r_),"//webconf.douyucdn.cn//resource/noble/openeffect/web.json","nobleOpenEffect")).subscribe(function(t){var i=t[0],n=i.nobleLevel,a=(t[1].data||{})[n];if(a){var o={isEnterRoom:!1,bannerType:"BANNER_4_NOBLE",objectId:n,senderId:i.userId||"",senderName:i.userNick,bannerStayTime:a.bannerStayTime,objectName:r[n].noble_name,bannerBgImg:a.bannerBgImg,bannerHeaderImg:a.bannerHeaderImg,bannerSenderNameColor:a.bannerSenderNameColor,bannerObjectNameColor:a.bannerObjectNameColor,contribution:a.contribution||0,senderAvatar:"//apic.douyucdn.cn/upload/"+i.userAvatar+"_middle.jpg",effectStayTime:e.config.effectStayTimes[n],effectBg:a.nobleOpenBg,effectSwf:a.nobleOpenSwf,nobleEffectSwitch:a.nobleEffectSwitch,effectHash:"openNobleEffect-"+(new Date).getTime(),effectState:1};e.nobleOpenServices.execute(o)}})}),!1}),__.subscribe("memberinfores",function(t){e.common.get("$DATA").subscribe(function(r){var i=r.get("room.nobleConfig");(t.nblist||[]).forEach(function(t){var r=t.nl;r&&Object(l.forkJoin)(Object(s.of)(i),C.jsonpClient.get(Object(C.Dictionary)(r_),"//webconf.douyucdn.cn//resource/noble/openeffect/web.json","nobleOpenEffect")).subscribe(function(n){var a=n[1][r],o=i[r];a&&o&&e.nobleOpenServices.execute({isEnterRoom:!0,bannerType:"BANNER_4_NOBLE",objectId:r,senderId:t.uid||"",senderName:t.unk,bannerStayTime:1e3*t.ltc||0,objectName:o.noble_name,bannerBgImg:a.pc_bg,bannerHeaderImg:a.pc_pic,bannerSenderNameColor:a.text_color1,bannerObjectNameColor:a.text_color2,contribution:a.display_rank||0,nobleEffectSwitch:0,effectHash:"openNobleEffect-"+(new Date).getTime()})})})})})},NobleOpenEffectServices.prototype.returnGlobalData=function returnGlobalData(){return this.global},NobleOpenEffectServices}(f.Service),c_=nobleOpenEffectServices_applyDecoratedDescriptor(s_.prototype,"store",[i_],{enumerable:!0,initializer:null}),u_=nobleOpenEffectServices_applyDecoratedDescriptor(s_.prototype,"nobleOpenServices",[n_],{enumerable:!0,initializer:null}),p_=nobleOpenEffectServices_applyDecoratedDescriptor(s_.prototype,"shieldToolServices",[a_],{enumerable:!0,initializer:null}),f_=nobleOpenEffectServices_applyDecoratedDescriptor(s_.prototype,"global",[o_],{enumerable:!0,initializer:null}),d_=nobleOpenEffectServices_applyDecoratedDescriptor(s_.prototype,"common",[l_],{enumerable:!0,initializer:null}),s_),N_="/shark/live/src/pages/roomPage/playerAsideModule/components/NobleOpenEffect/NobleOpenEffect.js";function NobleOpenEffect_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleOpenEffect_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleOpenEffect_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var C_,O_,w_,D_=(m_=(0,n.a.Service)(S_),h_=function(e){function NobleOpenEffect(){var t,r;!function NobleOpenEffect_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleOpenEffect);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleOpenEffect_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function NobleOpenEffect_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"nobleOpenEffectServices",v_,r),r.giftEffectTimer=null,NobleOpenEffect_possibleConstructorReturn(r,t)}return NobleOpenEffect_inherits(NobleOpenEffect,e),NobleOpenEffect.prototype.componentDidMount=function componentDidMount(){},NobleOpenEffect.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.giftEffectTimer)},NobleOpenEffect.prototype.componentClear=function componentClear(e,t,r){var i=this;clearTimeout(this.giftEffectTimer),this.giftEffectTimer=setTimeout(function(){t(),i.nobleOpenEffectServices.runNextNobleOpenEffectAnimation(e)},r)},NobleOpenEffect.prototype.render=function render(){var e=this.props,t=e.giftEffect,r=e.clearEffectData,i=t.giftData;return i?1!==+i.nobleEffectSwitch||i.isEnterRoom?(this.componentClear(t,r,0),null):(i.effectState&&this.componentClear(t,r,i.effectStayTime),vs.a.createElement("div",{className:"NobleOpenEffect",__source:{fileName:N_,lineNumber:46},__self:this},vs.a.createElement("div",{className:"NobleOpenEffect-flashWrap",__source:{fileName:N_,lineNumber:47},__self:this},vs.a.createElement("embed",{wmode:"transparent",width:"100%",height:"100%",src:i.effectSwf,__source:{fileName:N_,lineNumber:48},__self:this})),vs.a.createElement("div",{className:"NobleOpenEffect-content",__source:{fileName:N_,lineNumber:54},__self:this},vs.a.createElement("div",{className:"NobleOpenEffect-avatar",__source:{fileName:N_,lineNumber:55},__self:this},vs.a.createElement("img",{src:i.senderAvatar,className:"NobleOpenEffect-avatarImg",__source:{fileName:N_,lineNumber:56},__self:this})),vs.a.createElement("img",{src:i.effectBg,className:"NobleOpenEffect-avatarBg",__source:{fileName:N_,lineNumber:58},__self:this}),vs.a.createElement("div",{className:"NobleOpenEffect-names",__source:{fileName:N_,lineNumber:59},__self:this},vs.a.createElement("span",{className:"NobleOpenEffect-userName",title:i.senderName,__source:{fileName:N_,lineNumber:60},__self:this},i.senderName),vs.a.createElement("span",{className:"NobleOpenEffect-nobleName",__source:{fileName:N_,lineNumber:63},__self:this},"\u5f00\u901a",i.objectName))))):null},NobleOpenEffect}(vs.a.Component),v_=function NobleOpenEffect_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(h_.prototype,"nobleOpenEffectServices",[m_],{enumerable:!0,initializer:null}),h_);r("cc667");function NobleOpenEffectContainer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleOpenEffectContainer_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var E_,k_,R_,j_=(C_=(0,n.a.Service)(S_),O_=function(e){function NobleOpenEffectContainer(t){!function NobleOpenEffectContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleOpenEffectContainer);var r=function NobleOpenEffectContainer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return function NobleOpenEffectContainer_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"nobleOpenEffectServices",w_,r),r.state={effectData:[]},r}return NobleOpenEffectContainer_inherits(NobleOpenEffectContainer,e),NobleOpenEffectContainer.prototype.componentDidMount=function componentDidMount(){this.nobleOpenEffectServices.nobleEffectInit(),this.nobleOpenEffectServices.bindingNobleOpenEffectStateChange(this.changeData.bind(this))},NobleOpenEffectContainer.prototype.changeData=function changeData(e){var t=this.state.effectData||[];t.push(e),this.setState({effectData:t})},NobleOpenEffectContainer.prototype.clearEffectData=function clearEffectData(){var e=this.state.effectData||[];e.shift(),this.setState({effectData:e})},NobleOpenEffectContainer.prototype.getEffectDom=function getEffectDom(e){var t=null;if(e.length>0){var r=e[0];t=vs.a.createElement(D_,{key:r.giftData.effectHash,clearEffectData:this.clearEffectData.bind(this),giftEffect:r,__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/NobleOpenEffect/NobleOpenEffectContainer.js",lineNumber:47},__self:this})}return t},NobleOpenEffectContainer.prototype.render=function render(){var e=this.state.effectData;return this.getEffectDom(e)},NobleOpenEffectContainer}(vs.a.Component),w_=function NobleOpenEffectContainer_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(O_.prototype,"nobleOpenEffectServices",[C_],{enumerable:!0,initializer:null}),O_),P_="/shark/live/src/pages/roomPage/playerAsideModule/components/GiftEffect/GiftEffect.js";function GiftEffect_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function GiftEffect_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function GiftEffect_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var T_,B_,M_,L_,z_,A_,I_,F_=(E_=(0,n.a.Service)(cy),k_=function(e){function GiftEffectContainer(){var t,r;!function GiftEffect_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GiftEffectContainer);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=GiftEffect_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function GiftEffect_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatGiftService",R_,r),GiftEffect_possibleConstructorReturn(r,t)}return GiftEffect_inherits(GiftEffectContainer,e),GiftEffectContainer.prototype.componentDidMount=function componentDidMount(){this.chatGiftService.giftEffectInit()},GiftEffectContainer.prototype.render=function render(){return vs.a.createElement("div",{className:"GiftEffect-box",__source:{fileName:P_,lineNumber:19},__self:this},vs.a.createElement(My,{__source:{fileName:P_,lineNumber:20},__self:this}),vs.a.createElement(j_,{__source:{fileName:P_,lineNumber:21},__self:this}))},GiftEffectContainer}(vs.a.Component),R_=function GiftEffect_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(k_.prototype,"chatGiftService",[E_],{enumerable:!0,initializer:null}),k_),x_=r("8d010"),G_=r.n(x_),U_=r("5a05f"),H_=r("2a2b5"),W_=r.n(H_),V_="/shark/live/src/pages/roomPage/playerAsideModule/components/Barrage/SignBarrage/RoomChatAd/index.js";function RoomChatAd_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function RoomChatAd_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function RoomChatAd_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function RoomChatAd_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function RoomChatAd_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var $_,K_,q_,Q_,J_,Y_,X_,Z_,eS,tS,rS,iS=n.a.Service,nS=(T_=iS(W_.a),B_=iS(C.DataCenter.common),I_=A_=function(e){function RoomChatAd(){var t,r;!function RoomChatAd_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RoomChatAd);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=RoomChatAd_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),RoomChatAd_initDefineProp(r,"signRateServices",L_,r),RoomChatAd_initDefineProp(r,"common",z_,r),r.handleClsClick=function(){0===r.state.closeTime&&r.setState({visible:!0})},RoomChatAd_possibleConstructorReturn(r,t)}return RoomChatAd_inherits(RoomChatAd,e),RoomChatAd.prototype.buildSignEC=function buildSignEC(){this.setState({flag:!1,signRate:!1,closeTime:3}),this.signRateServices.jsonpSignRateRule()},RoomChatAd.prototype.listenShowTime=function listenShowTime(){var e=this,t=this.state.closeTime;this.timer&&clearTimeout(this.timer),t>0&&(this.timer=setTimeout(function(){e.setState({closeTime:t-1}),e.listenShowTime()},1e3))},RoomChatAd.prototype.render=function render(){var e=this.state,t=e.link,r=e.src,i=e.visible,n=e.exConfig,a=void 0===n?{}:n,o=e.signRate,l=e.closeTime,s=this.props.data.style,c=void 0===s?{}:s,u=l>0?l+"\u79d2\u540e\u5173\u95ed":"\u5173\u95ed",p=!i&&o;return l&&this.listenShowTime(),p?vs.a.createElement("div",{className:"SignBaseComponent-sign-box RoomChat Barrage-chat-ad",style:c,__source:{fileName:V_,lineNumber:73},__self:this},vs.a.createElement(U_.SignTemplate,{src:r,link:t,EC:a,handleShowSign:this.handleShowSign,handleClickSign:this.handleClickSign,__source:{fileName:V_,lineNumber:74},__self:this}),vs.a.createElement("a",{className:"SignChatAd-chat-ad-cls",onClick:this.handleClsClick,title:"\u5173\u95ed",__source:{fileName:V_,lineNumber:81},__self:this},u)):null},RoomChatAd}(G_.a),A_.timer=null,L_=RoomChatAd_applyDecoratedDescriptor((M_=I_).prototype,"signRateServices",[T_],{enumerable:!0,initializer:null}),z_=RoomChatAd_applyDecoratedDescriptor(M_.prototype,"common",[B_],{enumerable:!0,initializer:null}),M_),aS=r("4d400"),oS=r.n(aS),lS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},sS="/shark/live/src/pages/roomPage/playerAsideModule/components/Barrage/SignBarrage/RoomChatBottom/index.js";function RoomChatBottom_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function RoomChatBottom_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function RoomChatBottom_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function RoomChatBottom_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function RoomChatBottom_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var cS,uS,pS,fS,dS,bS,mS,hS,vS,gS=n.a.Service,yS=($_=gS(W_.a),K_=gS(oS.a),q_=gS(C.DataCenter.common),Q_=gS(C.DataCenter.localStorage),rS=tS=function(e){function RoomChat(){var t,r;!function RoomChatBottom_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RoomChat);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=RoomChatBottom_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),RoomChatBottom_initDefineProp(r,"signRateServices",Y_,r),RoomChatBottom_initDefineProp(r,"signServices",X_,r),RoomChatBottom_initDefineProp(r,"common",Z_,r),RoomChatBottom_initDefineProp(r,"store",eS,r),r.handleClsClick=function(){r.setState({ec:lS({},r.state.ec,{showtime:0}),fadeCls:"SysSign-Ad-Broadcast-FadeOut"}),r.hideSysAd()},RoomChatBottom_possibleConstructorReturn(r,t)}return RoomChatBottom_inherits(RoomChat,e),RoomChat.prototype.componentWillMount=function componentWillMount(){this.buildSignData()},RoomChat.prototype.buildSignEC=function buildSignEC(){var e=this,t=this.store;this.setState({visible:!0}),t.get("roomChatBottomAD")||(setTimeout(function(){e.setState({visible:!1,fadeCls:"SysSign-Ad-Broadcast-FadeIn"}),e.signServices.actionSignDot(1,e.state.adData.posid),setTimeout(function(){e.setState({visible:!1,fadeCls:"SysSign-Ad-Broadcast-FadeOut"}),e.hideSysAd()},15e3)},18e4),t.set("roomChatBottomAD",1,259200))},RoomChat.prototype.hideSysAd=function hideSysAd(){var e=this;setTimeout(function(){e.setState({visible:!0})},1e3)},RoomChat.prototype.renderAd=function renderAd(e){var t=this.state.fadeCls,r=void 0===t?"":t;return vs.a.createElement("div",{className:"SysSign-Ad-Broadcast RoomChatBottom "+r,"data-dysign":e.posid,__source:{fileName:sS,lineNumber:83},__self:this},vs.a.createElement("a",{href:e.link,onClick:this.handleClickSign,target:"_blank",__source:{fileName:sS,lineNumber:84},__self:this},vs.a.createElement("img",{className:"SysSign-Ad-Broadcast-img",src:e.srcid,title:e.adtitle,__source:{fileName:sS,lineNumber:87},__self:this})),vs.a.createElement("div",{className:"SysSign-Ad-spec",__source:{fileName:sS,lineNumber:89},__self:this},"\u5e7f\u544a"),vs.a.createElement("a",{className:"SysSign-Ad-Broadcast-CloseIcon",onClick:this.handleClsClick.bind(this),title:"\u5173\u95ed",__source:{fileName:sS,lineNumber:90},__self:this}))},RoomChat.prototype.render=function render(){var e=this.state,t=e.visible,r=e.adData,i=void 0===r?{}:r;return t?null:this.renderAd(i)},RoomChat}(G_.a),tS.timer=null,Y_=RoomChatBottom_applyDecoratedDescriptor((J_=rS).prototype,"signRateServices",[$_],{enumerable:!0,initializer:null}),X_=RoomChatBottom_applyDecoratedDescriptor(J_.prototype,"signServices",[K_],{enumerable:!0,initializer:null}),Z_=RoomChatBottom_applyDecoratedDescriptor(J_.prototype,"common",[q_],{enumerable:!0,initializer:null}),eS=RoomChatBottom_applyDecoratedDescriptor(J_.prototype,"store",[Q_],{enumerable:!0,initializer:null}),J_),_S="/shark/live/src/pages/roomPage/playerAsideModule/components/Barrage/SignBarrage/SysSign/SysBroadcast.js";function SysBroadcast_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function SysBroadcast_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function SysBroadcast_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function SysBroadcast_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var SS,NS,CS,OS,wS,DS,ES,kS,RS,jS,PS,TS=w.a.socketStream,BS=n.a.Service,MS="broadcastconfig",LS="broadcasts",zS="broadcastlimit",AS={delayTime:null,displayTime:null,hideTime:null},IS=1,FS=(cS=BS(C.DataCenter.common),uS=BS(C.DataCenter.global),pS=BS(C.DataCenter.acj),fS=BS(C.DataCenter.localStorage),dS=function(e){function RoomChat(t){!function SysBroadcast_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RoomChat);var r=function SysBroadcast_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return SysBroadcast_initDefineProp(r,"common",bS,r),SysBroadcast_initDefineProp(r,"global",mS,r),SysBroadcast_initDefineProp(r,"acj",hS,r),SysBroadcast_initDefineProp(r,"store",vS,r),r.handleClsClick=function(e){e&&Object(O.dysub)("click_msg_sysradio_close"),AS.hideTime&&clearTimeout(AS.hideTime),r.setState({fadeCls:"SysSign-BroadcastNoad-FadeOut"}),setTimeout(function(){r.setState({renderType:!1})},1e3),r.canShowBroadcast()},r.state={adQueue:[],configLoaded:0,detailLoaded:0,currentData:{},config:"",fadeCls:"",renderType:!1},r.bindEvents(),r}return SysBroadcast_inherits(RoomChat,e),RoomChat.prototype.bindEvents=function bindEvents(){var e=this,t=this.global.get("$SYS").webconfUrl||"/";TS.subscribe("rsm",function(r){e.state.config?e.cacheState(e.state.config,r):Object(l.forkJoin)(Object(s.of)(r),C.jsonpClient.get(String,t+"resource/common/broadcast/broadcastJsonp.json","setSysBroadcastConf",{noCache:!0})).subscribe(function(t){var i=t[1]&&t[1].data&&"string"===typeof t[1].data?JSON.parse(t[1].data):{};e.cacheState(i,r)})})},RoomChat.prototype.cacheState=function cacheState(e,t){var r=this;this.store.set(MS,e),this.setState({config:e,currentData:t},function(){r.broadcastLoaded()})},RoomChat.prototype.broadcastLoaded=function broadcastLoaded(){var e=this,t=this;setTimeout(function(){if(t.props.state.signLoaded){var r=e.state.adQueue;r.push(1),t.setState({adQueue:r})}else t.setBroadcast()},0)},RoomChat.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this;if(0===e.state.signLoaded&&this.state.adQueue.length>0){var r=this.state.adQueue||[];r.pop(),this.setState({adQueue:r},function(){t.setBroadcast()})}},RoomChat.prototype.setCacheLimit=function setCacheLimit(){var e=void 0,t=this.state.config,r=zS,i=(new Date).getTime();if(0!==parseInt(t.frequency.time,10)&&0!==parseInt(t.frequency.count,10)||this.store.remove(r),(e=this.store.get(r)||{}).showedTimes||(e.showedTimes=0,e.firstTime=(new Date).getTime()),0!==parseInt(t.frequency.time,10)&&0!==parseInt(t.frequency.count,10))if(e.firstTime+6e4*t.frequency.time>i){if(e.showedTimes>=t.frequency.count)return!1}else e={showedTimes:0,firstTime:(new Date).getTime()};return e},RoomChat.prototype.setBroadcast=function setBroadcast(){var e,t=this,r=this.global.get("$ROOM").room_id,i=LS,n=[],a=zS,o=this.state.config,l=this.state.currentData,s=l.id,c=parseInt(l.t,10),u=void 0;if(!s||l.clitp%2!==1||2!==c&&3!==c&&4!==c&&5!==c)return!1;s&&(s=parseInt(l.id,10));var p=this.setCacheLimit();return!!p&&((n=this.store.get(i))||(n={}),IS&&(IS=0,n[r]=null,delete n[r]),!((e=n&&n[r])&&o.sort[l.t]<o.sort[e.t])&&(l.link=1===parseInt(l.jmptp,10)?"/"+l.weburl:l.weburl,l.wis?(l.wis=o.broadcast_img_prefix+l.wis,u=1):u=3,clearTimeout(AS.displayTime),"number"===typeof p.showedTimes&&(p.showedTimes+=1),n[r]=l,this.store.set(a,p),this.store.set(i,n,31536e3),0!==o.delay?AS.delayTime=setTimeout(function(){t.setState({currentData:l,renderType:u},function(){Object(O.dysub)("show_msg_sysradio"),t.setState({fadeCls:"SysSign-BroadcastNoad-FadeIn"},function(){t.inTimeHide(t.state.currentData.distm)})}),clearTimeout(AS.delayTime)},1e3*parseInt(o.delay,10)):this.setState({currentData:l,renderType:u},function(){Object(O.dysub)("show_msg_sysradio"),t.setState({fadeCls:"SysSign-BroadcastNoad-FadeIn"},function(){t.inTimeHide(t.state.currentData.distm)})}),!1))},RoomChat.prototype.inTimeHide=function inTimeHide(e){var t=this;AS.hideTime&&clearTimeout(AS.hideTime),AS.hideTime=setTimeout(function(){t.handleClsClick()},1e3*e)},RoomChat.prototype.handleClickSign=function handleClickSign(){Object(O.dysub)("click_msg_sysradio")},RoomChat.prototype.renderImgAd=function renderImgAd(e){var t=this.state.fadeCls,r=void 0===t?"":t;return vs.a.createElement("div",{className:"SysSign-BroadcastNoad "+r,__source:{fileName:_S,lineNumber:285},__self:this},e.link?vs.a.createElement("a",{href:e.link,onClick:this.handleClickSign,target:"_blank",__source:{fileName:_S,lineNumber:288},__self:this},vs.a.createElement("img",{className:"SysSign-BroadcastNoad-img",src:e.wis,title:e.c,__source:{fileName:_S,lineNumber:293},__self:this})):vs.a.createElement("img",{className:"SysSign-BroadcastNoad-img",src:e.wis,title:e.c,__source:{fileName:_S,lineNumber:295},__self:this}),vs.a.createElement("a",{className:"SysSign-BroadcastNoad-CloseIcon",onClick:this.handleClsClick.bind(this,!0),title:"\u5173\u95ed",__source:{fileName:_S,lineNumber:298},__self:this}))},RoomChat.prototype.renderNotifyFn=function renderNotifyFn(e){var t=this.state.fadeCls,r=void 0===t?"":t;return vs.a.createElement("div",{className:"SysSign-BroadcastNoad "+r,__source:{fileName:_S,lineNumber:306},__self:this},vs.a.createElement("div",{className:"SysSign-BroadcastNoad-Header",__source:{fileName:_S,lineNumber:307},__self:this},vs.a.createElement("a",{className:"SysSign-BroadcastNoad-Close",onClick:this.handleClsClick.bind(this,!0),title:"\u5173\u95ed",__source:{fileName:_S,lineNumber:308},__self:this},"\u5173\u95ed")),vs.a.createElement("div",{className:"SysSign-BroadcastNoad-Body",__source:{fileName:_S,lineNumber:311},__self:this},e.link?vs.a.createElement("a",{href:e.link,onClick:this.handleClickSign,className:"SysSign-BroadcastNoad-Cont",target:"_blank",title:e.c,__source:{fileName:_S,lineNumber:314},__self:this},e.c):vs.a.createElement("div",{className:"SysSign-BroadcastNoad-Cont",__source:{fileName:_S,lineNumber:322},__self:this},e.c)))},RoomChat.prototype.canShowBroadcast=function canShowBroadcast(){var e=this,t=this;this.props.dispatchState({signLoaded:0},function(){if(e.state.adQueue.length>0){var r=e.state.adQueue;r.pop(),e.setState({adQueue:r},function(){t.setBroadcast()})}})},RoomChat.prototype.renderBroadcast=function renderBroadcast(){var e=this.state,t=e.renderType,r=e.currentData;return 1===t?this.renderImgAd(r):this.renderNotifyFn(r)},RoomChat.prototype.render=function render(){var e=this.state,t=e.renderType,r=e.adQueue;return!t||0!==(void 0===r?[]:r).length||this.props.state.signLoaded?null:this.renderBroadcast()},RoomChat}(vs.a.PureComponent),bS=SysBroadcast_applyDecoratedDescriptor(dS.prototype,"common",[cS],{enumerable:!0,initializer:null}),mS=SysBroadcast_applyDecoratedDescriptor(dS.prototype,"global",[uS],{enumerable:!0,initializer:null}),hS=SysBroadcast_applyDecoratedDescriptor(dS.prototype,"acj",[pS],{enumerable:!0,initializer:null}),vS=SysBroadcast_applyDecoratedDescriptor(dS.prototype,"store",[fS],{enumerable:!0,initializer:null}),dS),xS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},GS="/shark/live/src/pages/roomPage/playerAsideModule/components/Barrage/SignBarrage/SysSign/SysAd.js";function SysAd_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function SysAd_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function SysAd_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function SysAd_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function SysAd_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var US=n.a.Service,HS=(SS=US(W_.a),NS=US(oS.a),CS=US(C.DataCenter.common),OS=US(C.DataCenter.localStorage),PS=jS=function(e){function RoomChat(){var t,r;!function SysAd_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RoomChat);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=SysAd_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),SysAd_initDefineProp(r,"signRateServices",DS,r),SysAd_initDefineProp(r,"signServices",ES,r),SysAd_initDefineProp(r,"common",kS,r),SysAd_initDefineProp(r,"store",RS,r),r.handleClsClick=function(){r.setState({ec:xS({},r.state.ec,{showtime:0}),fadeCls:"SysSign-Ad-Broadcast-FadeOut"}),r.props.dispatchState({signLoaded:0}),r.hideSysAd()},SysAd_possibleConstructorReturn(r,t)}return SysAd_inherits(RoomChat,e),RoomChat.prototype.componentWillMount=function componentWillMount(){this.buildSignData(),this.setState({visible:!1})},RoomChat.prototype.buildSignEC=function buildSignEC(){var e=this,t=this.state.adData.ec,r=void 0===t?{}:t,i=r.showtime;i&&(this.props.dispatchState({signLoaded:1}),this.setState({visible:!this.isSignGapExpired(r.cd)},function(){setTimeout(function(){e.setState({fadeCls:"SysSign-Ad-Broadcast-FadeIn"}),e.signServices.actionSignDot(1,e.state.adData.posid)},0),setTimeout(function(){e.setState({fadeCls:"SysSign-Ad-Broadcast-FadeOut"},function(){e.props.dispatchState({signLoaded:0})}),e.hideSysAd()},1e3*i)}))},RoomChat.prototype.isSignGapExpired=function isSignGapExpired(e){var t=Number(e),r=this.store,i="sign_last_show",n=r.get(i);return null===n?(r.set(i,+new Date),!0):!(!isNaN(t)&&void 0!==e)||+new Date-n>1e3*t&&(r.set(i,+new Date),!0)},RoomChat.prototype.hideSysAd=function hideSysAd(){var e=this;setTimeout(function(){e.setState({visible:!0})},1e3)},RoomChat.prototype.renderAd=function renderAd(e){var t=this.state.fadeCls,r=void 0===t?"":t;return e.srcid?vs.a.createElement("div",{className:"SysSign-Ad-Broadcast "+r,"data-dysign":e.posid,__source:{fileName:GS,lineNumber:117},__self:this},e.link?vs.a.createElement("a",{href:e.link,onClick:this.handleClickSign,target:"_blank",__source:{fileName:GS,lineNumber:119},__self:this},vs.a.createElement("img",{className:"SysSign-Ad-Broadcast-img",src:e.srcid,title:e.ec.text?e.ec.text:e.adtitle,__source:{fileName:GS,lineNumber:122},__self:this})):vs.a.createElement("img",{className:"SysSign-Ad-Broadcast-img",src:e.srcid,title:e.ec.text?e.ec.text:e.adtitle,__source:{fileName:GS,lineNumber:124},__self:this}),vs.a.createElement("div",{className:"SysSign-Ad-spec",__source:{fileName:GS,lineNumber:126},__self:this},"\u5e7f\u544a"),vs.a.createElement("a",{className:"SysSign-Ad-Broadcast-CloseIcon",onClick:this.handleClsClick.bind(this),title:"\u5173\u95ed",__source:{fileName:GS,lineNumber:127},__self:this})):this.renderTextAd(e)},RoomChat.prototype.renderTextAd=function renderTextAd(e){var t=this.state.fadeCls,r=void 0===t?"":t;return e.posid?vs.a.createElement("div",{className:"SysSign-Ad-Broadcast "+r,"data-dysign":e.posid,__source:{fileName:GS,lineNumber:142},__self:this},vs.a.createElement("div",{className:"SysSign-Ad-Broadcast-Header",__source:{fileName:GS,lineNumber:143},__self:this},vs.a.createElement("a",{className:"SysSign-Ad-Broadcast-Close",onClick:this.handleClsClick.bind(this),title:"\u5173\u95ed",__source:{fileName:GS,lineNumber:144},__self:this},"\u5173\u95ed")),e.link?vs.a.createElement("div",{className:"SysSign-Ad-Broadcast-Body",__source:{fileName:GS,lineNumber:148},__self:this},vs.a.createElement("a",{href:e.link,onClick:this.handleClickSign,className:"SysSign-Ad-Broadcast-Cont",target:"_blank",__source:{fileName:GS,lineNumber:149},__self:this},e.ec.text),vs.a.createElement("a",{href:e.link,onClick:this.handleClickSign,className:"SysSign-Ad-Broadcast-Godetail",target:"_blank",title:"\u67e5\u770b\u8be6\u60c5",__source:{fileName:GS,lineNumber:155},__self:this},"\u67e5\u770b\u8be6\u60c5")):vs.a.createElement("div",{className:"SysSign-Ad-Broadcast-Body",__source:{fileName:GS,lineNumber:164},__self:this},vs.a.createElement("div",{className:"SysSign-Ad-Broadcast-Cont",style:{marginBottom:"8px"},__source:{fileName:GS,lineNumber:165},__self:this},e.ec.text))):null},RoomChat.prototype.render=function render(){var e=this.state,t=e.visible,r=e.adData,i=void 0===r?{}:r;return t?null:this.renderAd(i)},RoomChat}(G_.a),jS.timer=null,DS=SysAd_applyDecoratedDescriptor((wS=PS).prototype,"signRateServices",[SS],{enumerable:!0,initializer:null}),ES=SysAd_applyDecoratedDescriptor(wS.prototype,"signServices",[NS],{enumerable:!0,initializer:null}),kS=SysAd_applyDecoratedDescriptor(wS.prototype,"common",[CS],{enumerable:!0,initializer:null}),RS=SysAd_applyDecoratedDescriptor(wS.prototype,"store",[OS],{enumerable:!0,initializer:null}),wS),WS=(r("f42ba"),"/shark/live/src/pages/roomPage/playerAsideModule/components/Barrage/SignBarrage/index.js");function SignBarrage_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function SignBarrage_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var VS,$S,KS,qS,QS=n.a.Region,JS=function(e){function SignBarrageComponent(t){!function SignBarrage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SignBarrageComponent);var r=function SignBarrage_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return r.state={signLoaded:0},r}return SignBarrage_inherits(SignBarrageComponent,e),SignBarrageComponent.prototype.dispatchState=function dispatchState(e,t){this.setState(e,t)},SignBarrageComponent.prototype.render=function render(){var e=this;return vs.a.createElement("div",{className:"SignBarrage",__source:{fileName:WS,lineNumber:32},__self:this},vs.a.createElement(QS,{name:"sign",belongTo:"PlayerAsideApp",className:"SysSign-Ad",data:{id:"10014",viewRender:function viewRender(){return vs.a.createElement(HS,{dispatchState:e.dispatchState.bind(e),state:e.state,data:{className:"Barrage-sys-ad",id:"10014"},__source:{fileName:WS,lineNumber:39},__self:e})}},__source:{fileName:WS,lineNumber:33},__self:this}),vs.a.createElement(QS,{name:"sign",belongTo:"PlayerAsideApp",className:"SysSign-Ad",data:{id:"30011",viewRender:function viewRender(){return vs.a.createElement(yS,{data:{className:"Barrage-sys-ad",id:"30011"},__source:{fileName:WS,lineNumber:55},__self:e})}},__source:{fileName:WS,lineNumber:49},__self:this}),vs.a.createElement(FS,{dispatchState:this.dispatchState.bind(this),state:this.state,__source:{fileName:WS,lineNumber:63},__self:this}),vs.a.createElement(QS,{name:"sign",belongTo:"PlayerAsideApp",data:{id:"10020",viewRender:function viewRender(){return vs.a.createElement(nS,{data:{type:"rate",id:"10020"},__source:{fileName:WS,lineNumber:72},__self:e})}},__source:{fileName:WS,lineNumber:67},__self:this}))},SignBarrageComponent}(vs.a.Component),YS=r("c1dfd"),XS=(r("a1b94"),"/shark/live/src/pages/roomPage/playerAsideModule/components/LitterSister/LitterSister.js");function LitterSister_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function LitterSister_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var ZS=(VS=(0,n.a.Service)(oi.a),Object(ye.log)((KS=function(e){function LitterSister(){!function LitterSister_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LitterSister);var t=function LitterSister_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function LitterSister_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"litterSisterService",qS,t),t.handleClick=function(){var e=t.props.identSex;switch(Object(O.dysub)("click_lsis_get"),e){case 0:Object(O.dysub)("click_lsis_realverify"),window.location.href="/member/cp/changeIdent";break;case 1:case 3:t.closeSisDialog(),Object(O.dysub)("click_lsis_known");break;case 2:t.receivePriv()}},t.closeSisDialog=t.closeSisDialog.bind(t),t}return LitterSister_inherits(LitterSister,e),LitterSister.prototype.showSisDialog=function showSisDialog(){this.litterSisterService.showSisDialog()},LitterSister.prototype.closeSisDialog=function closeSisDialog(){this.litterSisterService.closeSisDialog()},LitterSister.prototype.receivePriv=function receivePriv(){this.litterSisterService.receivePriv()},LitterSister.prototype.appendNormalTpl=function appendNormalTpl(e){return vs.a.createElement("div",{className:"LitterSister-tequanNormal",__source:{fileName:XS,lineNumber:69},__self:this},vs.a.createElement("div",{className:"LitterSister-tequanNormal-line",__source:{fileName:XS,lineNumber:70},__self:this}),vs.a.createElement("div",{className:"LitterSister-tequanNormal-text",__source:{fileName:XS,lineNumber:71},__self:this},e.dlgText),vs.a.createElement("div",{className:"LitterSister-tequanNormal-button",onClick:this.handleClick,__source:{fileName:XS,lineNumber:72},__self:this},e.btnText))},LitterSister.prototype.appendSuccTpl=function appendSuccTpl(e){return vs.a.createElement("div",{className:"LitterSister-tequanSuccess",__source:{fileName:XS,lineNumber:79},__self:this},vs.a.createElement("p",{className:"LitterSister-tequanSuccess-slogan",__source:{fileName:XS,lineNumber:80},__self:this},e.slogan),vs.a.createElement("p",{className:"LitterSister-tequanSuccess-desc",__source:{fileName:XS,lineNumber:81},__self:this},e.desc))},LitterSister.prototype.render=function render(){var e=this.props;return vs.a.createElement(YS.a,{visible:e.isShowDialog,width:813,footer:null,className:"LitterSister",__source:{fileName:XS,lineNumber:92},__self:this},vs.a.createElement("div",{className:"LitterSister-wrap",__source:{fileName:XS,lineNumber:98},__self:this},vs.a.createElement("div",{className:"LitterSister-dlgbody",__source:{fileName:XS,lineNumber:99},__self:this},vs.a.createElement("ul",{className:"LitterSister-tequanlist",__source:{fileName:XS,lineNumber:100},__self:this},vs.a.createElement("li",{className:1===e.femalePrivilege?"is-active":"",__source:{fileName:XS,lineNumber:101},__self:this},vs.a.createElement("i",{className:"LitterSister-tequanicon LitterSister-tequanicon--icona",__source:{fileName:XS,lineNumber:102},__self:this}),vs.a.createElement("span",{__source:{fileName:XS,lineNumber:102},__self:this},"\u95ea\u4eae\u5934\u8854\u60ca\u8273\u6635\u79f0")),vs.a.createElement("li",{className:1===e.femalePrivilege?"is-active":"",__source:{fileName:XS,lineNumber:104},__self:this},vs.a.createElement("i",{className:"LitterSister-tequanicon LitterSister-tequanicon--iconc",__source:{fileName:XS,lineNumber:105},__self:this}),vs.a.createElement("span",{__source:{fileName:XS,lineNumber:105},__self:this},"\u840c\u7cfb\u53ef\u7231\u4e2a\u4eba\u540d\u7247"))),vs.a.createElement("div",{className:"LitterSister-tequanappend",__source:{fileName:XS,lineNumber:108},__self:this},1===e.femalePrivilege?this.appendSuccTpl(e):this.appendNormalTpl(e))),vs.a.createElement("div",{className:"LitterSister-tequanclose",onClick:this.closeSisDialog,__source:{fileName:XS,lineNumber:112},__self:this})))},LitterSister}(vs.a.Component),qS=function LitterSister_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(KS.prototype,"litterSisterService",[VS],{enumerable:!0,initializer:null}),$S=KS))||$S);ZS.propTypes={isShowDialog:fv.a.bool.isRequired,femalePrivilege:fv.a.number.isRequired,identSex:fv.a.number.isRequired};var eN=Object(dv.connect)(function mapStateToProps(e){return{isShowDialog:e.litterSisterData.isShowDialog,femalePrivilege:e.litterSisterData.femalePrivilege||0,identSex:e.litterSisterData.identSex||0,dlgText:e.litterSisterData.dlgText,btnText:e.litterSisterData.btnText,slogan:e.litterSisterData.slogan,desc:e.litterSisterData.desc}})(ZS),tN="/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/TreasureResult.js";function TreasureResult_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TreasureResult_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var rN=function(e){function TreasureResult(){!function TreasureResult_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureResult);var t=function TreasureResult_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={isRender:!0},t}return TreasureResult_inherits(TreasureResult,e),TreasureResult.prototype.reset=function reset(){var e=this;Object(Yu.timer)(1200).subscribe(function(){e.setState({isRender:!1})})},TreasureResult.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.tipsMsg.data!==this.props.tipsMsg.data&&this.setState({isRender:!0})},TreasureResult.prototype.render=function render(){var e=this,t=this.props.tipsMsg.data;if(!Object.keys(t).length||!this.state.isRender)return null;if(this.reset(),t.isban)return vs.a.createElement("div",{className:"TreasureResult is-error",__source:{fileName:tN,lineNumber:40},__self:this},vs.a.createElement("p",{className:"TreasureResult-content",__source:{fileName:tN,lineNumber:41},__self:this},vs.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:tN,lineNumber:42},__self:this},"\u8fdd\u7981\u884c\u4e3a\u5b9d\u7bb1\u5df2\u9500\u6bc1")));if(0!==parseInt(t.code,10)||0===parseInt(t.silver,10)&&0===parseInt(t.prop_count,10))return vs.a.createElement("div",{className:"TreasureResult is-error",__source:{fileName:tN,lineNumber:49},__self:this},vs.a.createElement("p",{className:"TreasureResult-content",__source:{fileName:tN,lineNumber:50},__self:this},vs.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:tN,lineNumber:51},__self:this},"\u8fd0\u6c14\u4e0d\u4f73\uff0c\u5b9d\u7bb1\u5df2\u88ab\u6d17\u52ab\u4e00\u7a7aT_T")));if(2===parseInt(t.award_type,10))return vs.a.createElement("div",{className:"TreasureResult is-success",__source:{fileName:tN,lineNumber:57},__self:this},vs.a.createElement("p",{className:"TreasureResult-content",__source:{fileName:tN,lineNumber:58},__self:this},vs.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:tN,lineNumber:59},__self:this},"\u606d\u559c\u60a8\uff0c\u9886\u53d6\u4e86"),vs.a.createElement("span",{className:"TreasureResult-name",title:t.src_nick,__source:{fileName:tN,lineNumber:60},__self:this},t.src_nick)),vs.a.createElement("p",{className:"TreasureResult-content",__source:{fileName:tN,lineNumber:62},__self:this},vs.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:tN,lineNumber:63},__self:this},"\u6d3e\u9001\u7684"),vs.a.createElement("span",{className:"TreasureResult-name",__source:{fileName:tN,lineNumber:64},__self:this},t.prop_count,"\u4e2a",t.prop_name),vs.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:tN,lineNumber:65},__self:this},"~")));if(parseInt(t.lk,10))return vs.a.createElement("div",{className:"TreasureResult is-best",__source:{fileName:tN,lineNumber:71},__self:this},vs.a.createElement("span",{className:"TreasureResult-bestIcon",__source:{fileName:tN,lineNumber:72},__self:this}));if(parseInt(t.lt,10)>0){var r=t.lt.toString().split("");return vs.a.createElement("div",{className:"TreasureResult is-best",__source:{fileName:tN,lineNumber:79},__self:this},vs.a.createElement("span",{className:"TreasureResult-bounsIcon",__source:{fileName:tN,lineNumber:80},__self:this}),vs.a.createElement("span",{className:"TreasureResult-multiply",__source:{fileName:tN,lineNumber:81},__self:this}),r.map(function(t,r){return vs.a.createElement("span",{className:"TreasureResult-num"+t,key:r,__source:{fileName:tN,lineNumber:84},__self:e})}))}return vs.a.createElement("div",{className:"TreasureResult is-success",__source:{fileName:tN,lineNumber:92},__self:this},vs.a.createElement("p",{className:"TreasureResult-content",__source:{fileName:tN,lineNumber:93},__self:this},vs.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:tN,lineNumber:94},__self:this},"\u606d\u559c\u60a8\uff0c\u9886\u53d6\u4e86"),vs.a.createElement("span",{className:"TreasureResult-name",title:t.src_nick,__source:{fileName:tN,lineNumber:95},__self:this},t.src_nick)),vs.a.createElement("p",{className:"TreasureResult-content",__source:{fileName:tN,lineNumber:97},__self:this},vs.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:tN,lineNumber:98},__self:this},"\u6d3e\u9001\u7684"),vs.a.createElement("span",{className:"TreasureResult-name",__source:{fileName:tN,lineNumber:99},__self:this},t.silver,"\u4e2a\u9c7c\u4e38"),vs.a.createElement("span",{className:"TreasureResult-desc",__source:{fileName:tN,lineNumber:100},__self:this},"~")))},TreasureResult}(vs.a.Component);rN.propTypes={tipsMsg:fv.a.any};var iN=Object(dv.connect)(function mapStateToProps(e){return{tipsMsg:e.tipsMsg}})(rN),nN=(r("2f58e"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),aN="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageBanner/BannerMarquee.js";function BannerMarquee_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BannerMarquee_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var oN=function(e){function BannerMarquee(t){!function BannerMarquee_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BannerMarquee);var r=function BannerMarquee_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return r.timer=null,r.nickNameHolder=vs.a.createRef(),r.state={leftPos:0},r}return BannerMarquee_inherits(BannerMarquee,e),BannerMarquee.prototype.componentDidMount=function componentDidMount(){var e=this,t=this.nickNameHolder.current,r=t.offsetWidth-t.scrollWidth;r<0&&(this.timer=setTimeout(function(){e.startMarquee(r)},400))},BannerMarquee.prototype.startMarquee=function startMarquee(e){var t=this;this.setState({leftPos:e,transition:"left .8s"}),this.timer=setTimeout(function(){t.setState({leftPos:0,transition:"none"}),clearTimeout(t.timer),t.timer=setTimeout(function(){t.startMarquee(e)},500)},1600)},BannerMarquee.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.timer)},BannerMarquee.prototype.render=function render(){var e=this.props.content,t=this.state,r=t.leftPos,i=t.transition;return vs.a.createElement("div",nN({ref:this.nickNameHolder,className:"BannerMarquee"},this.props,{__source:{fileName:aN,lineNumber:57},__self:this}),vs.a.createElement("div",{className:"BannerMarquee-cont",style:{left:r,WebkitTransition:i,MozTransition:i,msTransition:i,transition:i},__source:{fileName:aN,lineNumber:60},__self:this},e))},BannerMarquee}(vs.a.Component),lN=(r("db9ed"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageBanner/BannerNumbers.js");function BannerNumbers_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BannerNumbers_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var sN=function(e){function BannerNumbers(t){!function BannerNumbers_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BannerNumbers);var r=function BannerNumbers_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return r.timer=null,r.state={scale:1,nums:t.nums},r}return BannerNumbers_inherits(BannerNumbers,e),BannerNumbers.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this;return this.state.nums!==e.nums&&(this.props.ifScale?this.setScale(0,function(){t.setState({nums:e.nums})}):this.setState({nums:e.nums})),!0},BannerNumbers.prototype.setScale=function setScale(e,t){var r=this;clearTimeout(this.timer),this.timer=setTimeout(function(){r.setState({scale:1.5}),t&&t(),clearTimeout(r.timer),r.timer=setTimeout(function(){r.setState({scale:1})},200)},e)},BannerNumbers.prototype.componentDidMount=function componentDidMount(){this.props.ifScale&&this.setScale(40)},BannerNumbers.prototype.componentWillUnmount=function componentWillUnmount(){this.props.ifScale&&clearTimeout(this.timer)},BannerNumbers.prototype.render=function render(){var e=this,t=this.state,r=t.scale,i=t.nums.toString().split(""),n=this.props.modifierClassName;return vs.a.createElement("div",{className:"BannerNumbers "+n,__source:{fileName:lN,lineNumber:75},__self:this},vs.a.createElement("span",{className:"BannerNumbers-mutiple",__source:{fileName:lN,lineNumber:76},__self:this}),vs.a.createElement("div",{className:"BannerNumbers-nums",style:{transform:"scale("+r+")"},__source:{fileName:lN,lineNumber:77},__self:this},i.map(function(t,r){return vs.a.createElement("span",{key:r,className:"BannerNumbers-num BannerNumbers-num--"+t,__source:{fileName:lN,lineNumber:79},__self:e})})))},BannerNumbers}(vs.a.Component),cN=(r("10fbf"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageBanner/Banner4gift.js");function Banner4gift_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Banner4gift_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var uN=function(e){function Banner4gift(){!function Banner4gift_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Banner4gift);var t=function Banner4gift_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.intoTimer=null,t.state={},t}return Banner4gift_inherits(Banner4gift,e),Banner4gift.prototype.componentDidMount=function componentDidMount(){this.setState({leftPos:0})},Banner4gift.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.intoTimer)},Banner4gift.prototype.render=function render(){var e=this.props,t=e.bannerHeaderImg,r=e.bannerHeaderImgBorder,i=e.senderName,n=e.objectName,a=e.top,o=e.bannerBatchBg,l=e.batchPriceIndex,s=e.nickNameColor,c=e.giftNameColor,u=e.otherColor,p=e.hitTimes,f=void 0===p?1:p,d=e.bcnt,b=e.gfcnt,m=this.state.leftPos,h=b>1&&d>0?d:f;return vs.a.createElement("div",{className:"Banner4gift Banner4gift--size"+l,style:{left:m+"px",top:a+"px"},__source:{fileName:cN,lineNumber:52},__self:this},vs.a.createElement("img",{className:"Banner4gift-bg",src:o,__source:{fileName:cN,lineNumber:59},__self:this}),vs.a.createElement("div",{className:"Banner4gift-info",__source:{fileName:cN,lineNumber:60},__self:this},vs.a.createElement("div",{className:"Banner4gift-senderName",style:{color:s},title:i,__source:{fileName:cN,lineNumber:61},__self:this},vs.a.createElement(oN,{content:i,__source:{fileName:cN,lineNumber:62},__self:this})),vs.a.createElement("p",{className:"Banner4gift-actionDescription",style:{color:u},__source:{fileName:cN,lineNumber:64},__self:this},vs.a.createElement("span",{className:"Banner4gift-action",__source:{fileName:cN,lineNumber:65},__self:this},"\u9001\u51fa"),vs.a.createElement("span",{className:"Banner4gift-objectName",title:n,style:{color:c},__source:{fileName:cN,lineNumber:66},__self:this},n))),vs.a.createElement("div",{className:"Banner4gift-header",style:{borderColor:r},__source:{fileName:cN,lineNumber:71},__self:this},vs.a.createElement("img",{className:"Banner4gift-headerImg",src:t,__source:{fileName:cN,lineNumber:72},__self:this})),vs.a.createElement("div",{className:"Banner4gift-numbersCont",__source:{fileName:cN,lineNumber:74},__self:this},b>1?vs.a.createElement(sN,{key:"batchNums",modifierClassName:"BannerNumbers--batchNums",nums:b,__source:{fileName:cN,lineNumber:76},__self:this}):null,vs.a.createElement(sN,{key:"hitNums",modifierClassName:"BannerNumbers--hitNums",nums:h,ifScale:"true",__source:{fileName:cN,lineNumber:78},__self:this})))},Banner4gift}(vs.a.Component),pN=(r("46d97"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageBanner/Banner4noble.js");function Banner4noble_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Banner4noble_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var fN,dN,bN,mN=function(e){function Banner4noble(t){!function Banner4noble_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Banner4noble);var r=function Banner4noble_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return r.intoTimer=null,r.state={},r}return Banner4noble_inherits(Banner4noble,e),Banner4noble.prototype.componentDidMount=function componentDidMount(){this.setState({leftPos:0})},Banner4noble.prototype.componentWillUnmount=function componentWillUnmount(){clearTimeout(this.intoTimer)},Banner4noble.prototype.render=function render(){var e=this.props,t=e.bannerBgImg,r=e.bannerHeaderImg,i=e.senderName,n=e.objectName,a=e.objectId,o=e.top,l=this.state.leftPos;return vs.a.createElement("div",{className:"Banner4noble Banner4noble--size"+a,style:{left:l+"px",top:o+"px"},__source:{fileName:pN,lineNumber:35},__self:this},vs.a.createElement("img",{className:"Banner4noble-bg",src:t,__source:{fileName:pN,lineNumber:42},__self:this}),vs.a.createElement("div",{className:"Banner4noble-info",__source:{fileName:pN,lineNumber:43},__self:this},vs.a.createElement("div",{className:"Banner4noble-senderName",title:i,__source:{fileName:pN,lineNumber:44},__self:this},vs.a.createElement(oN,{content:i,__source:{fileName:pN,lineNumber:45},__self:this})),vs.a.createElement("p",{className:"Banner4noble-actionDescription",__source:{fileName:pN,lineNumber:50},__self:this},vs.a.createElement("span",{className:"Banner4noble-action",__source:{fileName:pN,lineNumber:51},__self:this},"\u5f00\u901a"),vs.a.createElement("span",{className:"Banner4noble-objectName",title:n,__source:{fileName:pN,lineNumber:52},__self:this},n))),vs.a.createElement("div",{className:"Banner4noble-header",__source:{fileName:pN,lineNumber:57},__self:this},vs.a.createElement("img",{className:"Banner4noble-headerImg",src:r,__source:{fileName:pN,lineNumber:58},__self:this})))},Banner4noble}(vs.a.Component),hN=(r("16f1e"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),vN="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageBanner/BarrageBanner.js";function BarrageBanner_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageBanner_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var gN,yN,_N,SN,NN,CN,ON,wN,DN,EN,kN,RN,jN,PN,TN,BN,MN,LN,zN,AN,IN,FN,xN=(fN=(0,n.a.Service)(Ab),dN=function(e){function BarrageBanner(){!function BarrageBanner_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageBanner);var t=function BarrageBanner_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function BarrageBanner_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"barrageBannerService",bN,t),t.state={bannerData:[]},t}return BarrageBanner_inherits(BarrageBanner,e),BarrageBanner.prototype.componentDidMount=function componentDidMount(){this.barrageBannerService.bindStateChange(this.changeData.bind(this))},BarrageBanner.prototype.changeData=function changeData(e){this.setState({bannerData:e})},BarrageBanner.prototype.render=function render(){var e=this,t=this.state.bannerData;return vs.a.createElement("div",{className:"BarrageBanner",__source:{fileName:vN,lineNumber:39},__self:this},t&&t.map(function(t){var r=t.bannerType,i=t.bannerId,n=null;switch(r){case"BANNER_4_GIFT":n=vs.a.createElement(uN,hN({key:i},t,{__source:{fileName:vN,lineNumber:48},__self:e}));break;case"BANNER_4_NOBLE":n=vs.a.createElement(mN,hN({key:i},t,{__source:{fileName:vN,lineNumber:51},__self:e}))}return n}))},BarrageBanner}(vs.a.Component),bN=function BarrageBanner_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(dN.prototype,"barrageBannerService",[fN],{enumerable:!0,initializer:null}),dN),GN=(r("9dd83"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),UN="/shark/live/src/pages/roomPage/playerAsideModule/components/Barrage/Barrage.js";function Barrage_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Barrage_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Barrage_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Barrage_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function Barrage_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var HN,WN,VN,$N,KN=n.a.Service,qN=w.a.socketStream,QN=w.a.socketProxy,JN=(gN=KN(C.DataCenter.acj),yN=KN(C.DataCenter.localStorage),_N=KN(C.DataCenter.common),SN=KN(Cs.a),NN=KN(ys.a),CN=KN(_s.a),ON=KN(Ss.a),wN=KN(Ns.a),DN=KN(M),EN=KN(C.DataCenter.global),Object(ye.log)((RN=function(e){function Barrage(){var t,r,i=this;!function Barrage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Barrage);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=r=Barrage_possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),Barrage_initDefineProp(r,"acj",jN,r),Barrage_initDefineProp(r,"localStorage",PN,r),Barrage_initDefineProp(r,"common",TN,r),Barrage_initDefineProp(r,"barrageService",BN,r),Barrage_initDefineProp(r,"chatUserCardService",MN,r),Barrage_initDefineProp(r,"userCardServices",LN,r),Barrage_initDefineProp(r,"achievementService",zN,r),Barrage_initDefineProp(r,"nobleBuyModalServices",AN,r),Barrage_initDefineProp(r,"medalOperatService",IN,r),Barrage_initDefineProp(r,"global",FN,r),r.scroll=function(){r.barrageService.watchScroll(r.barrageScrollbar)},r.renderTrackHorizontal=function(){return vs.a.createElement("div",{style:{display:"none"},__source:{fileName:UN,lineNumber:299},__self:i})},Barrage_possibleConstructorReturn(r,t)}return Barrage_inherits(Barrage,e),Barrage.prototype.componentDidMount=function componentDidMount(){var e=this;this.bindEvents(),uv({main:this.barrageMain,list:this.barrageList,scrollbar:this.barrageScrollbar}),this.common.get("$DATA").subscribe(function(t){e.setState({roomId:t.get("room.room_id"),cateId:t.get("room.cate_id")})})},Barrage.prototype.bindEvents=function bindEvents(){var e=this;document.getElementById("js-barrage-list").addEventListener("click",function(t){var r=t||window.event,i=r.target||r.srcElement,n=vc(i,"js-link-dysclick");t.stopPropagation(),e.closeUserCard(),gc(i,"js-buy-noble")&&e.buyNobleClick(),gc(i,"js-super-barrage")&&e.superMsgClick(i),gc(i,"js-athena-barrage")&&e.athenaMsgClick(i),gc(i,"js-danmu-reconnect")&&e.reconnectClick(i),gc(i,"js-nick")&&e.nickNameClick(i),gc(i,"js-fans-dysclick")&&e.fansMedalClick(i,r),(gc(i,"js-link-dysclick")||n)&&e.linkBarrageClick(),gc(i,"is-achievement")&&e.achievementMedalClick(i,r)}),document.getElementById("js-barrage-list").addEventListener("mouseover",function(t){var r=t||window.event,i=r.target||r.srcElement;t.stopPropagation(),gc(i,"js-fans-hover")&&e.fansMedalHover(i)})},Barrage.prototype.buyNobleClick=function buyNobleClick(){this.nobleBuyModalServices.openNobleBuyModal(),Object(O.dysub)("click_msg_buydefense")},Barrage.prototype.closeUserCard=function closeUserCard(){this.userCardServices.toggleUserCard({isVisible:!1})},Barrage.prototype.linkBarrageClick=function linkBarrageClick(){Object(O.dysub)("click_msg_lmsg")},Barrage.prototype.superMsgClick=function superMsgClick(e){var t=e,r=this.state.roomId,i=this.global.get("USER_INFO.uid"),n=t.getAttribute("data-superId"),a=t.getAttribute("data-jumpType"),o=t.getAttribute("data-roomId"),l=t.getAttribute("data-linkUrl"),s=this.global.get("douyuDid"),c=t.innerHTML.replace(/^\s+/,"").replace(/\s+$/,""),u=void 0;parseInt(r,10)!==parseInt(o,10)&&(0===parseInt(a,10)?window.open(l):(u={sdid:n,trid:o,content:c,rid:r,uid:i,type:"sdcr",did:s},QN.isSocketReady?QN.sendMessage(u):qN.subscribe("socket_ready",function(){QN.sendMessage(u)}),window.open("/special/jump/"+o)))},Barrage.prototype.athenaMsgClick=function athenaMsgClick(e){var t=e,r=t.getAttribute("data-jumpType"),i=t.getAttribute("data-reverse"),n=t.getAttribute("data-bid"),a=t.getAttribute("data-boothId"),o=t.getAttribute("data-conId"),l=t.getAttribute("data-linkUrl"),s=this.state.roomId,c=t.dataset;if(4!==r){var u=+i?"click_athena_msg_reverse":"click_athena_msg_supermsg",p=Object.assign({ctid:this.state.cateId},c);Object(O.dysub)(u,p),C.httpClient.get(String,"/lapi/athena/room/catch",{t:(new Date).getTime(),bizid:n,bthid:a,conId:o,roomId:s}),window.open(l)}},Barrage.prototype.reconnectClick=function reconnectClick(){QN.connectServer(),Object(O.dysub)("click_msg_rc")},Barrage.prototype.nickNameClick=function nickNameClick(e){var t=e,r=e.getAttribute("data-uid"),i=vc(t,"Barrage-listItem"),n="";i&&(n=i.id);var a=Os.a.get({type:1,guid:n,uid:r});this.chatUserCardService.showUserCard(GN({isVisible:!0},a))},Barrage.prototype.fansMedalHover=function fansMedalHover(e){var t=this,r=e,i=e.getAttribute("data-rid")||0,n=e.getAttribute("data-hc")||"";if(i&&n){var a=this.localStorage.get("fans_"+i);if(a)r.setAttribute("title",a);else{var o={medalRid:i,checkCode:n};this.medalOperatService.reqAnchorInfo(o).subscribe(function(e){if(e){var n=void 0;0===parseInt(e.result,10)&&(n=e.is_live?"(\u6b63\u5728\u76f4\u64ad)":"(\u4e0d\u5728\u76f4\u64ad)",r.setAttribute("title",e.nn+n||""),t.localStorage.set("fans_"+i,e.nn+n,10))}})}}},Barrage.prototype.fansMedalClick=function fansMedalClick(e,t){t.stopPropagation();var r=e.getAttribute("data-rid")||0;Object(O.dysub)("click_msg_msgafansbadge",{bdg_id:r})},Barrage.prototype.achievementMedalClick=function achievementMedalClick(e,t){t.stopPropagation();var r=e.getAttribute("data-achievementid")||0;r>0&&this.achievementService.showAchievementMedal(r)},Barrage.prototype.render=function render(){var e=this;return vs.a.createElement("div",{__source:{fileName:UN,lineNumber:303},__self:this},vs.a.createElement(xN,{__source:{fileName:UN,lineNumber:304},__self:this}),vs.a.createElement(F_,{__source:{fileName:UN,lineNumber:305},__self:this}),vs.a.createElement("div",{id:"js-barrage-container",__source:{fileName:UN,lineNumber:306},__self:this},vs.a.createElement("div",{className:"Barrage-main",ref:function ref(t){e.barrageMain=t},__source:{fileName:UN,lineNumber:307},__self:this},vs.a.createElement(gs.Scrollbars,{ref:function ref(t){e.barrageScrollbar=t},style:{width:"100%",height:"100%"},renderTrackHorizontal:this.renderTrackHorizontal,onScroll:this.scroll,__source:{fileName:UN,lineNumber:310},__self:this},vs.a.createElement("ul",{className:"Barrage-list",id:"js-barrage-list",ref:function ref(t){e.barrageList=t},__source:{fileName:UN,lineNumber:317},__self:this})))),vs.a.createElement(JS,{__source:{fileName:UN,lineNumber:323},__self:this}),vs.a.createElement(Rv,{__source:{fileName:UN,lineNumber:324},__self:this}),vs.a.createElement(iN,{__source:{fileName:UN,lineNumber:325},__self:this}),vs.a.createElement(_v,{__source:{fileName:UN,lineNumber:326},__self:this}),vs.a.createElement(eN,{__source:{fileName:UN,lineNumber:327},__self:this}),vs.a.createElement(Tv,{__source:{fileName:UN,lineNumber:328},__self:this}))},Barrage}(vs.a.Component),jN=Barrage_applyDecoratedDescriptor(RN.prototype,"acj",[gN],{enumerable:!0,initializer:null}),PN=Barrage_applyDecoratedDescriptor(RN.prototype,"localStorage",[yN],{enumerable:!0,initializer:null}),TN=Barrage_applyDecoratedDescriptor(RN.prototype,"common",[_N],{enumerable:!0,initializer:null}),BN=Barrage_applyDecoratedDescriptor(RN.prototype,"barrageService",[SN],{enumerable:!0,initializer:null}),MN=Barrage_applyDecoratedDescriptor(RN.prototype,"chatUserCardService",[NN],{enumerable:!0,initializer:null}),LN=Barrage_applyDecoratedDescriptor(RN.prototype,"userCardServices",[CN],{enumerable:!0,initializer:null}),zN=Barrage_applyDecoratedDescriptor(RN.prototype,"achievementService",[ON],{enumerable:!0,initializer:null}),AN=Barrage_applyDecoratedDescriptor(RN.prototype,"nobleBuyModalServices",[wN],{enumerable:!0,initializer:null}),IN=Barrage_applyDecoratedDescriptor(RN.prototype,"medalOperatService",[DN],{enumerable:!0,initializer:null}),FN=Barrage_applyDecoratedDescriptor(RN.prototype,"global",[EN],{enumerable:!0,initializer:null}),kN=RN))||kN),YN=(r("12d1c"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageBuffer/BarrageBuffer.js");function BarrageBuffer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageBuffer_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var XN=(HN=(0,n.a.Service)(Cs.a),Object(ye.log)((VN=function(e){function BarrageBuffer(t){!function BarrageBuffer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageBuffer);var r=function BarrageBuffer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return function BarrageBuffer_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"barrageService",$N,r),r.releaseBuffer=r.releaseBuffer.bind(r),r}return BarrageBuffer_inherits(BarrageBuffer,e),BarrageBuffer.prototype.releaseBuffer=function releaseBuffer(){this.barrageService.toggleLockScreen(!1),this.barrageService.scrollToBottom()},BarrageBuffer.prototype.render=function render(){var e=this.props,t=e.isLockScreen,r=e.bufferCount,i=e.bufferLimit,n=r>99?"99+":r,a=t&&r>0&&r<=i;return vs.a.createElement("a",{className:"BarrageBuffer"+(a?" is-show":""),onClick:this.releaseBuffer,__source:{fileName:YN,lineNumber:39},__self:this},vs.a.createElement("span",{className:"BarrageBuffer-tipTxt",__source:{fileName:YN,lineNumber:41},__self:this},"\u6709",n,"\u6761\u65b0\u6d88\u606f"),vs.a.createElement("i",{className:"BarrageBuffer-icon--tip",__source:{fileName:YN,lineNumber:42},__self:this}))},BarrageBuffer}(vs.a.Component),$N=function BarrageBuffer_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(VN.prototype,"barrageService",[HN],{enumerable:!0,initializer:null}),WN=VN))||WN);XN.propTypes={isLockScreen:fv.a.bool.isRequired,bufferCount:fv.a.number.isRequired,bufferLimit:fv.a.number.isRequired};var ZN,eC,tC,rC,iC,nC=Object(dv.connect)(function mapStateToProps(e){return{isLockScreen:e.barrageData.isLockScreen,bufferCount:e.barrageData.bufferCount,bufferLimit:e.barrageData.bufferLimit}})(XN),aC=(r("7e944"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageToolbar/BarrageToolbar.js");function BarrageToolbar_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageToolbar_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function BarrageToolbar_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var oC=(ZN=(0,n.a.Service)(Cs.a),eC=Object(O.dys)("click_msg_cls"),Object(ye.log)((rC=function(e){function BarrageToolbar(t){!function BarrageToolbar_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageToolbar);var r=function BarrageToolbar_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return function BarrageToolbar_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"barrageService",iC,r),r.toggleLockScreen=r.toggleLockScreen.bind(r),r.clearScreen=r.clearScreen.bind(r),r}return BarrageToolbar_inherits(BarrageToolbar,e),BarrageToolbar.prototype.toggleLockScreen=function toggleLockScreen(){var e=this.props.isLockScreen;this.barrageService.toggleLockScreen(!e),e&&this.barrageService.scrollToBottom(),Object(O.dysub)("click_msg_scrol",{stat:e?2:1})},BarrageToolbar.prototype.clearScreen=function clearScreen(){this.barrageService.clearScreen()},BarrageToolbar.prototype.render=function render(){var e=this.props.isLockScreen;return vs.a.createElement("div",{className:"Barrage-toolbar",__source:{fileName:aC,lineNumber:53},__self:this},vs.a.createElement("a",{className:"Barrage-toolbarLock"+(e?" is-lock":""),onClick:this.toggleLockScreen,__source:{fileName:aC,lineNumber:54},__self:this},vs.a.createElement("i",{className:"Barrage-toolbarIcon",__source:{fileName:aC,lineNumber:56},__self:this}),vs.a.createElement("span",{className:"Barrage-toolbarText",__source:{fileName:aC,lineNumber:57},__self:this},e?"\u89e3\u9501":"\u9501\u5c4f")),vs.a.createElement("a",{className:"Barrage-toolbarClear",onClick:this.clearScreen,__source:{fileName:aC,lineNumber:59},__self:this},vs.a.createElement("i",{className:"Barrage-toolbarIcon",__source:{fileName:aC,lineNumber:61},__self:this}),vs.a.createElement("span",{className:"Barrage-toolbarText",__source:{fileName:aC,lineNumber:62},__self:this},"\u6e05\u5c4f")))},BarrageToolbar}(vs.a.Component),iC=BarrageToolbar_applyDecoratedDescriptor(rC.prototype,"barrageService",[ZN],{enumerable:!0,initializer:null}),BarrageToolbar_applyDecoratedDescriptor(rC.prototype,"clearScreen",[eC],Object.getOwnPropertyDescriptor(rC.prototype,"clearScreen"),rC.prototype),tC=rC))||tC);oC.propTypes={isLockScreen:fv.a.bool.isRequired};var lC,sC,cC,uC,pC,fC=Object(dv.connect)(function mapStateToProps(e){return{isLockScreen:e.barrageData.isLockScreen}})(oC),dC=(r("caefb"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),bC="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageGroup/BarrageGroup.js";function BarrageGroup_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function BarrageGroup_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BarrageGroup_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageGroup_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function BarrageGroup_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var mC,hC,vC,gC,yC,_C=n.a.Service,SC=(lC=_C(ys.a),sC=_C(Ss.a),cC=function(e){function BarrageComponents(){var t,r;!function BarrageGroup_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageComponents);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageGroup_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),BarrageGroup_initDefineProp(r,"chatUserCardService",uC,r),BarrageGroup_initDefineProp(r,"achievementService",pC,r),r.handleFloaterClick=function(e){var t=e.target;if(e.nativeEvent.stopImmediatePropagation(),t!==e.currentTarget)for(;t;){if("UL"===t.tagName)return;if(gc(t,"js-nick"))return void r.handleNickNameClick(t);if(gc(t,"is-achievement"))return void r.achievementMedalClick(t);t=t.parentNode}},BarrageGroup_possibleConstructorReturn(r,t)}return BarrageGroup_inherits(BarrageComponents,e),BarrageComponents.prototype.handleNickNameClick=function handleNickNameClick(e){var t=e.getAttribute("data-uid"),r=vc(e,"Barrage-listItem"),i="";r&&(i=r.getAttribute("data-guid"));var n=Os.a.get({type:1,guid:i,uid:t});this.chatUserCardService.showUserCard(dC({isVisible:!0},n))},BarrageComponents.prototype.achievementMedalClick=function achievementMedalClick(e){var t=e.getAttribute("data-achievementid")||0;t>0&&this.achievementService.showAchievementMedal(t)},BarrageComponents.prototype.render=function render(){return vs.a.createElement("div",{className:"Barrage",__source:{fileName:bC,lineNumber:78},__self:this},vs.a.createElement("div",{className:"Barrage-topFloater",__source:{fileName:bC,lineNumber:79},__self:this},vs.a.createElement("ul",{className:"Barrage-topFloaterList",id:"js-floatingbarrage-container",onClick:this.handleFloaterClick,__source:{fileName:bC,lineNumber:80},__self:this}),vs.a.createElement(fC,{__source:{fileName:bC,lineNumber:81},__self:this})),vs.a.createElement(JN,{__source:{fileName:bC,lineNumber:83},__self:this}),vs.a.createElement(nC,{__source:{fileName:bC,lineNumber:84},__self:this}))},BarrageComponents}(vs.a.Component),uC=BarrageGroup_applyDecoratedDescriptor(cC.prototype,"chatUserCardService",[lC],{enumerable:!0,initializer:null}),pC=BarrageGroup_applyDecoratedDescriptor(cC.prototype,"achievementService",[sC],{enumerable:!0,initializer:null}),cC),NC=(r("f664f"),r("f0932"));r("90ecf");function nobleReminderServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function nobleReminderServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function nobleReminderServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleReminderServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function nobleReminderServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var CC,OC,wC,DC,EC,kC,RC,jC,PC=n.a.Store,TC=n.a.Service,BC=(mC=PC(),hC=TC(C.DataCenter.acj),vC=function(e){function NobleReminderServices(){var t,r;!function nobleReminderServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleReminderServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=nobleReminderServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),nobleReminderServices_initDefineProp(r,"store",gC,r),nobleReminderServices_initDefineProp(r,"acj",yC,r),nobleReminderServices_possibleConstructorReturn(r,t)}return nobleReminderServices_inherits(NobleReminderServices,e),NobleReminderServices.prototype.init=function init(){var e=this;this.acj.get(k.d.ROOM_DATA_OPENNOBLE).subscribe(function(){e.openNobleReminder(),e.updateNobleReminderType(1)})},NobleReminderServices.prototype.openNobleReminder=function openNobleReminder(){this.store.dispatch(xl.openNobleReminder(!0))},NobleReminderServices.prototype.closeNobleReminder=function closeNobleReminder(){this.store.dispatch(xl.openNobleReminder(!1))},NobleReminderServices.prototype.updateNobleReminderType=function updateNobleReminderType(e){this.store.dispatch(xl.updateNobleReminderType(e))},NobleReminderServices}(f.Service),gC=nobleReminderServices_applyDecoratedDescriptor(vC.prototype,"store",[mC],{enumerable:!0,initializer:null}),yC=nobleReminderServices_applyDecoratedDescriptor(vC.prototype,"acj",[hC],{enumerable:!0,initializer:null}),vC),MC=r("edede"),LC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},zC="/shark/live/src/pages/roomPage/playerAsideModule/components/TopItemRank/TopItemRank.js";function TopItemRank_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function TopItemRank_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TopItemRank_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function TopItemRank_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var AC,IC,FC,xC,GC,UC=n.a.Service,HC=(CC=UC(C.DataCenter.global),OC=UC(BC),wC=UC(ys.a),Object(ye.log)((EC=function(e){function TopItemRank(){!function TopItemRank_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TopItemRank);var t=function TopItemRank_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return TopItemRank_initDefineProp(t,"global",kC,t),TopItemRank_initDefineProp(t,"nobleReminderService",RC,t),TopItemRank_initDefineProp(t,"userCardModuleService",jC,t),t.showUserCard=t.showUserCard.bind(t),t}return TopItemRank_inherits(TopItemRank,e),TopItemRank.prototype.openNobleReminder=function openNobleReminder(){this.nobleReminderService.openNobleReminder(),this.nobleReminderService.updateNobleReminderType(0)},TopItemRank.prototype.showUserCard=function showUserCard(e,t){var r=t||{},i=r.isShowSuperIcon,n=r.groupId,a=r.uid,o=r.nickName,l=r.avatar,s=r.userLevel,c=r.nobleLevel,u=r.isInvisible,p=r.isShowInvisible;e.nativeEvent.stopImmediatePropagation(),this.userCardModuleService.showUserCard({isShowSuperIcon:i,gid:n,rel:+a,nickName:p?o+"(\u5df2\u9690\u8eab)":o,avatar:l,nobleLevel:+c||0,userLevel:+s||0,invisible:u,rankType:"week"})},TopItemRank.prototype.render=function render(){var e=this,t=this.props.data,r=this.props.index,i=this.props.defaultConfig,n=this.props.class,a=this.global.get("$SYS.avatar_url"),o="";return t.avatar&&(o=a+"upload/"+t.avatar+"_middle.jpg"),vs.a.createElement("li",{key:r+1,className:"ChatRankWeek-listItem--top ChatRankWeek-listItem "+(n||""),__source:{fileName:zC,lineNumber:70},__self:this},vs.a.createElement("span",{className:"ChatRankWeek-listItem--avatar",onClick:function onClick(r){e.showUserCard(r,LC({},t,{avatar:a+"upload/"+t.avatar+"_middle.jpg"}))},__source:{fileName:zC,lineNumber:72},__self:this},t.avatar?vs.a.createElement("img",{src:o,__source:{fileName:zC,lineNumber:83},__self:this}):vs.a.createElement("div",{className:"is-noSrc",__source:{fileName:zC,lineNumber:83},__self:this}),t.isShowInvisible?vs.a.createElement("span",{className:"ChatRankWeek-invisibleHolder",__source:{fileName:zC,lineNumber:86},__self:this},vs.a.createElement("span",{className:"ChatRankWeek-invisibleHolder--txt",__source:{fileName:zC,lineNumber:86},__self:this},"\u5df2\u9690\u8eab")):"",vs.a.createElement("i",{className:"bg-icon ChatRankWeek-listItem--avatarBg",__source:{fileName:zC,lineNumber:89},__self:this})),vs.a.createElement("span",{className:"ChatRankWeek-listItem--nickname "+(+t.isInvisible||t.isShowInvisible?"is-invisible":""),title:t.nickName,onClick:function onClick(r){e.showUserCard(r,LC({},t,{avatar:a+"upload/"+t.avatar+"_middle.jpg"}))},__source:{fileName:zC,lineNumber:91},__self:this},t.nickName),t.nobleLevel>0?vs.a.createElement(MC.a,{level:t.nobleLevel,__source:{fileName:zC,lineNumber:105},__self:this}):"",vs.a.createElement(NC.a,{userLevel:+t.userLevel,__source:{fileName:zC,lineNumber:107},__self:this}),i.isFaceScore?vs.a.createElement("span",{className:"ChatRankWeek-contributionValue ChatRankWeek-contributionValue--top",title:(t.fgold?t.fgold:0)+"\u8d21\u732e",__source:{fileName:zC,lineNumber:110},__self:this},t.fgold,"\u8d21\u732e"):"")},TopItemRank}(vs.a.Component),kC=TopItemRank_applyDecoratedDescriptor(EC.prototype,"global",[CC],{enumerable:!0,initializer:null}),RC=TopItemRank_applyDecoratedDescriptor(EC.prototype,"nobleReminderService",[OC],{enumerable:!0,initializer:null}),jC=TopItemRank_applyDecoratedDescriptor(EC.prototype,"userCardModuleService",[wC],{enumerable:!0,initializer:null}),DC=EC))||DC);function nobleVisibleServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function nobleVisibleServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function nobleVisibleServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleVisibleServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function nobleVisibleServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var WC,VC,$C,KC,qC,QC,JC,YC,XC,ZC=n.a.Store,eO=n.a.Service,tO=w.a.socketStream,rO=(AC=eO(C.DataCenter.common),IC=ZC(),FC=function(e){function NobleVisibleServices(){var t,r;!function nobleVisibleServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleVisibleServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=nobleVisibleServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),nobleVisibleServices_initDefineProp(r,"common",xC,r),nobleVisibleServices_initDefineProp(r,"store",GC,r),nobleVisibleServices_possibleConstructorReturn(r,t)}return nobleVisibleServices_inherits(NobleVisibleServices,e),NobleVisibleServices.prototype.init=function init(){var e=this;this.isInit=!0,this.common.get("$DATA").subscribe(function(t){tO.subscribe("memberinfores",function(r){var i=0,n=parseInt(r.nl,10)||0;n&&(i=+t.get("room.nobleConfig["+n+"].top_list_hide")||0),e.store.dispatch(vi.receiveHasInvisible(i)),i&&e.isInit&&(e.getInvisible(),e.isInit=!1)}),tO.subscribe("hide_status_change",function(t){2===+t.hide_type&&Object(Yu.timer)(1e3).subscribe(function(){e.updateVisible(+t.is_hide||0)})})})},NobleVisibleServices.prototype.getInvisible=function getInvisible(){this.store.dispatch(vi.getNobleVisibleStatus())},NobleVisibleServices.prototype.setInvisible=function setInvisible(e){this.store.dispatch(vi.setNobleVisibleStatus(e))},NobleVisibleServices.prototype.updateVisible=function updateVisible(e){this.store.dispatch(vi.updateNobleVisibleStatus(e))},NobleVisibleServices}(f.Service),xC=nobleVisibleServices_applyDecoratedDescriptor(FC.prototype,"common",[AC],{enumerable:!0,initializer:null}),GC=nobleVisibleServices_applyDecoratedDescriptor(FC.prototype,"store",[IC],{enumerable:!0,initializer:null}),FC),iO=(r("c1db1"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),nO="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatRankWeek/ChatRankWeek.js";function ChatRankWeek_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatRankWeek_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatRankWeek_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatRankWeek_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var aO,oO,lO,sO,cO,uO,pO,fO,dO,bO,mO=o.a.encode,hO=w.a.socketProxy,vO=n.a.Service,gO=(WC=vO(C.DataCenter.global),VC=vO(Hf),$C=vO(rO),KC=vO(ys.a),qC=function(e){function ChatRankWeek(){!function ChatRankWeek_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRankWeek);var t=function ChatRankWeek_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return ChatRankWeek_initDefineProp(t,"global",QC,t),ChatRankWeek_initDefineProp(t,"chatRankServices",JC,t),ChatRankWeek_initDefineProp(t,"nobleVisibleServices",YC,t),ChatRankWeek_initDefineProp(t,"userCardModuleService",XC,t),t.showUserCard=t.showUserCard.bind(t),t}return ChatRankWeek_inherits(ChatRankWeek,e),ChatRankWeek.prototype.componentWillMount=function componentWillMount(){this.nobleVisibleServices.init()},ChatRankWeek.prototype.checkRankAll=function checkRankAll(){if(this.chatRankServices.setDYSub("click_msg_sendlist_all"),1===this.props.isCloseMonthRank){var e={type:"sub",mt:mO(["umrtpgb"])};hO.sendMessage(e,Xu.e.barrage)}this.chatRankServices.openRankAll()},ChatRankWeek.prototype.toggleInvisible=function toggleInvisible(){this.nobleVisibleServices.setInvisible()},ChatRankWeek.prototype.showUserCard=function showUserCard(e,t){var r=t||{},i=r.isShowSuperIcon,n=r.groupId,a=r.uid,o=r.nickName,l=r.avatar,s=r.userLevel,c=r.nobleLevel,u=r.isInvisible,p=r.isShowInvisible;e.nativeEvent.stopImmediatePropagation(),this.userCardModuleService.showUserCard({isShowSuperIcon:i,gid:n,rel:+a,nickName:p?o+"(\u5df2\u9690\u8eab)":o,avatar:l,nobleLevel:+c||0,userLevel:+s||0,invisible:u,rankType:"week"})},ChatRankWeek.prototype.render=function render(){var e=this,t=iO({},this.props),r=t.hasInvisible,i=t.isInvisible,n=t.isCloseMonthRank,a=this.props.weekRankList||[],o=this.props.defaultConfig,l=this.global.get("$SYS.avatar_url"),s=this.props.isCloseAllRank;return vs.a.createElement("div",{className:"ChatRankWeek",name:"week",__source:{fileName:nO,lineNumber:100},__self:this},vs.a.createElement("div",{className:"ChatRankWeek-headerContent "+(0===s&&0===n?"":"is-active"),__source:{fileName:nO,lineNumber:101},__self:this},vs.a.createElement("span",{__source:{fileName:nO,lineNumber:102},__self:this},"\u70b9\u51fb\u53f3\u4fa7\u67e5\u770b\u8be6\u60c5"),vs.a.createElement("a",{className:"ChatRankWeek-headerContent--link",onClick:function onClick(){return e.checkRankAll()},__source:{fileName:nO,lineNumber:103},__self:this},1===n?"\u8d21\u732e\u6708\u699c":"\u8d21\u732e\u603b\u699c",">")),vs.a.createElement("ul",{className:"ChatRankWeek-listContent",__source:{fileName:nO,lineNumber:107},__self:this},a.length?a.map(function(t,r){return r<3?vs.a.createElement(HC,{key:r+1,data:t,index:r,defaultConfig:o,__source:{fileName:nO,lineNumber:111},__self:e}):vs.a.createElement("li",{key:r+1,className:"ChatRankWeek-listItem",__source:{fileName:nO,lineNumber:116},__self:e},vs.a.createElement("i",{className:"ChatRankWeek-listItem--index",__source:{fileName:nO,lineNumber:118},__self:e},r+1),+t.nobleLevel>0?vs.a.createElement(MC.a,{level:t.nobleLevel,__source:{fileName:nO,lineNumber:120},__self:e}):"",t.isShowMedal?vs.a.createElement(NC.a,{userLevel:+t.userLevel,__source:{fileName:nO,lineNumber:123},__self:e}):"",vs.a.createElement("span",{className:"ChatRankWeek-listItem--nickname "+(+t.isInvisible?"is-invisible":""),title:t.nickName,onClick:function onClick(r){e.showUserCard(r,iO({},t,{avatar:l+"upload/"+t.avatar+"_middle.jpg"}))},__source:{fileName:nO,lineNumber:125},__self:e},t.isShowInvisible?vs.a.createElement("span",{className:"r-nickname",__source:{fileName:nO,lineNumber:139},__self:e},t.nickName,"(\u5df2\u9690\u8eab)"):t.nickName),vs.a.createElement("span",{className:"ChatRankWeek-indexTrend--"+t.trend+" ChatRankWeek-indexTrend",title:t.trendTitle,__source:{fileName:nO,lineNumber:142},__self:e}),o.isFaceScore?vs.a.createElement("span",{className:"ChatRankWeek-contributionValue",title:(t.fgold?t.fgold:0)+"\u8d21\u732e",__source:{fileName:nO,lineNumber:145},__self:e},t.fgold,"\u8d21\u732e"):"")}):vs.a.createElement("li",{className:"ChatRankWeek-listItem--noresult",__source:{fileName:nO,lineNumber:151},__self:this})),vs.a.createElement("div",{className:"ChatRankWeek-nobleInvisible "+(r?"is-active":""),__source:{fileName:nO,lineNumber:154},__self:this},vs.a.createElement("div",{className:"ChatRankWeek-invisibleContent",__source:{fileName:nO,lineNumber:155},__self:this},vs.a.createElement("div",{className:"ChatRankWeek-invisibleContent--title",__source:{fileName:nO,lineNumber:156},__self:this},"\u8d35\u65cf\u7528\u6237\u53ef\u4ee5\u8bbe\u7f6e\u699c\u5355\u533f\u540d\u5566~"),vs.a.createElement("div",{className:"ChatRankWeek-invisibleContent--enter",__source:{fileName:nO,lineNumber:157},__self:this},vs.a.createElement("span",{className:"ChatRankWeek-invisibleContent--enterTips",__source:{fileName:nO,lineNumber:158},__self:this},"\u8d21\u732e\u699c\u9690\u8eab"),vs.a.createElement("span",{className:"ChatRankWeek-invisibleBtn ChatRankWeek-invisibleBtn--"+(i?"checked":"unchecked"),onClick:function onClick(){e.toggleInvisible()},__source:{fileName:nO,lineNumber:159},__self:this},vs.a.createElement("em",{__source:{fileName:nO,lineNumber:165},__self:this},vs.a.createElement("input",{type:"checkbox",__source:{fileName:nO,lineNumber:166},__self:this}),vs.a.createElement("span",{className:"ChatRankWeek-invisibleToggle",__source:{fileName:nO,lineNumber:167},__self:this})))))))},ChatRankWeek}(vs.a.Component),QC=ChatRankWeek_applyDecoratedDescriptor(qC.prototype,"global",[WC],{enumerable:!0,initializer:null}),JC=ChatRankWeek_applyDecoratedDescriptor(qC.prototype,"chatRankServices",[VC],{enumerable:!0,initializer:null}),YC=ChatRankWeek_applyDecoratedDescriptor(qC.prototype,"nobleVisibleServices",[$C],{enumerable:!0,initializer:null}),XC=ChatRankWeek_applyDecoratedDescriptor(qC.prototype,"userCardModuleService",[KC],{enumerable:!0,initializer:null}),qC),yO=Object(dv.connect)(function mapStateToProps(e){return{weekRankList:e.chatRank.weekRankList,defaultConfig:e.chatRank.defaultConfig,hasInvisible:e.getInvisible.hasInvisible,isInvisible:e.getInvisible.isInvisible,isCloseAllRank:e.chatRank.isCloseAllRank,isCloseMonthRank:e.chatRank.isCloseMonthRank}})(gO);function NobleRankDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleRankDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleRankDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleRankDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleRankDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _O,SO,NO,CO,OO=C.basicTypes.string,wO=C.basicTypes.mapping,DO=C.basicTypes.optional,EO=(aO=wO({uid:"uid",nickName:"nn",avatar:"icon",nobleLevel:"ne",userLevel:"lv",isShowSuperIcon:"sahf",groupId:"pg"}),Object(ye.log)(oO=aO((lO=function(e){function NobleRankDto(){var t,r;!function NobleRankDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRankDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleRankDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleRankDto_initDefineProp(r,"uid",sO,r),NobleRankDto_initDefineProp(r,"nickName",cO,r),NobleRankDto_initDefineProp(r,"avatar",uO,r),NobleRankDto_initDefineProp(r,"nobleLevel",pO,r),NobleRankDto_initDefineProp(r,"userLevel",fO,r),NobleRankDto_initDefineProp(r,"groupId",dO,r),NobleRankDto_initDefineProp(r,"isShowSuperIcon",bO,r),NobleRankDto_possibleConstructorReturn(r,t)}return NobleRankDto_inherits(NobleRankDto,e),NobleRankDto}(C.EntityDto),sO=NobleRankDto_applyDecoratedDescriptor(lO.prototype,"uid",[DO,OO],{enumerable:!0,initializer:null}),cO=NobleRankDto_applyDecoratedDescriptor(lO.prototype,"nickName",[DO,OO],{enumerable:!0,initializer:null}),uO=NobleRankDto_applyDecoratedDescriptor(lO.prototype,"avatar",[DO,OO],{enumerable:!0,initializer:null}),pO=NobleRankDto_applyDecoratedDescriptor(lO.prototype,"nobleLevel",[DO,OO],{enumerable:!0,initializer:null}),fO=NobleRankDto_applyDecoratedDescriptor(lO.prototype,"userLevel",[DO,OO],{enumerable:!0,initializer:null}),dO=NobleRankDto_applyDecoratedDescriptor(lO.prototype,"groupId",[DO,OO],{enumerable:!0,initializer:null}),bO=NobleRankDto_applyDecoratedDescriptor(lO.prototype,"isShowSuperIcon",[DO,OO],{enumerable:!0,initializer:null}),oO=lO))||oO)||oO);function NobleNumListDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleNumListDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleNumListDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleNumListDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleNumListDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var kO,RO,jO,PO,TO,BO,MO,LO=C.basicTypes.string,zO=C.basicTypes.mapping,AO=C.basicTypes.optional,IO=zO({count:"num",level:"lev"})((SO=function(e){function NobleNumlistDto(){var t,r;!function NobleNumListDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleNumlistDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleNumListDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleNumListDto_initDefineProp(r,"count",NO,r),NobleNumListDto_initDefineProp(r,"level",CO,r),NobleNumListDto_possibleConstructorReturn(r,t)}return NobleNumListDto_inherits(NobleNumlistDto,e),NobleNumlistDto}(C.EntityDto),NO=NobleNumListDto_applyDecoratedDescriptor(SO.prototype,"count",[AO,LO],{enumerable:!0,initializer:null}),CO=NobleNumListDto_applyDecoratedDescriptor(SO.prototype,"level",[AO,LO],{enumerable:!0,initializer:null}),_O=SO))||_O,FO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function nobleRankServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function nobleRankServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function nobleRankServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function nobleRankServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function nobleRankServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var xO,GO,UO,HO,WO,VO=n.a.Store,$O=n.a.Service,KO=w.a.socketStream,qO=w.a.socketProxy,QO=(kO=$O(C.DataCenter.common),RO=$O(Gc.a),jO=VO(),PO=function(e){function NobleRankServices(){var t,r;!function nobleRankServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRankServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=nobleRankServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),nobleRankServices_initDefineProp(r,"common",TO,r),nobleRankServices_initDefineProp(r,"userRoleService",BO,r),nobleRankServices_initDefineProp(r,"store",MO,r),nobleRankServices_possibleConstructorReturn(r,t)}return nobleRankServices_inherits(NobleRankServices,e),NobleRankServices.prototype.init=function init(){var e=this;KO.subscribe("memberinfores",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=FO({},t),i=r.nl,n=r.npts,a=parseInt(i,10)||0,o=parseInt(n,10)||0,l=parseInt(t.try,10)||0;e.store.dispatch(no.receiveIsRenew({nobleLevel:a,isInProtected:o,trial:l}))}),KO.subscribe("online_noble_list",function(t){var r=FO({},t).nl;if(r){var i=(Ud.a.isArray(r)?Ud.a.decode(r):[{value:r}]).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.value&&Ud.a.decode(t.value).too(),i=r||{},n=i.uid,a=i.pg,o=i.rg;return r&&e.userRoleService.setUserGroup(n,{pg:a,rg:o}),EO.fromJSON(r)});e.store.dispatch(no.receiveNobleList(i))}else e.store.dispatch(no.receiveNobleList([]))}),KO.subscribe("noble_num_info",function(t){var r=t.sum,i=t.list,n=t.ci,a=void 0===n?0:n;if(r>=0&&e.store.dispatch(no.receiveNobleSum({num:r,ci:a})),r>=0&&i){var o=(Ud.a.isArray(i)?Ud.a.decode(i):[{value:i}]).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return IO.fromJSON(e.value&&Ud.a.decode(e.value).too())});e.store.dispatch(no.receiveNobleNumList({nobleNumList:o,ci:a}))}}),this.common.get("$DATA").subscribe(function(e){KO.subscribe("socket_ready",function(){qO.sendMessage({type:"get_online_noble_list",rid:e.get("room.room_id")})})})},NobleRankServices}(f.Service),TO=nobleRankServices_applyDecoratedDescriptor(PO.prototype,"common",[kO],{enumerable:!0,initializer:null}),BO=nobleRankServices_applyDecoratedDescriptor(PO.prototype,"userRoleService",[RO],{enumerable:!0,initializer:null}),MO=nobleRankServices_applyDecoratedDescriptor(PO.prototype,"store",[jO],{enumerable:!0,initializer:null}),PO),JO=(r("fd9ca"),r("5958e"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),YO="/shark/live/src/pages/roomPage/playerAsideModule/components/NobleRank/NobleRankTips/index.js";function NobleRankTips_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleRankTips_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleRankTips_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleRankTips_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var XO,ZO,ew,tw,rw,iw=n.a.Service,nw=(xO=iw(C.DataCenter.common),GO=iw(Ns.a),UO=function(e){function NobleRankTips(){!function NobleRankTips_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRankTips);var t=function NobleRankTips_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return NobleRankTips_initDefineProp(t,"common",HO,t),NobleRankTips_initDefineProp(t,"nobleBuyModalService",WO,t),t.isRenew=0,t.state={userName:""},t.openNobleBuy=t.openNobleBuy.bind(t),t}return NobleRankTips_inherits(NobleRankTips,e),NobleRankTips.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({userName:t.get("room.owner_name")||""})})},NobleRankTips.prototype.openNobleBuy=function openNobleBuy(e){return Ds.a.check()?(this.isRenew?Object(O.dysub)("click_msg_noble_renewal",{level:this.props.nobleData.nobleLevel}):Object(O.dysub)("click_msg_noble_open"),this.nobleBuyModalService.openNobleBuyModal(),!0):(Ds.a.show(),e.preventDefault(),!1)},NobleRankTips.prototype.render=function render(){var e=this,t=this.state.userName,r=JO({},this.props.nobleData),i=r.nobleLevel,n=r.isInProtected,a=r.trial;return this.isRenew=(+i||+n)&&1!==a,this.isRenew?vs.a.createElement("div",{className:"NobleRankTips",__source:{fileName:YO,lineNumber:65},__self:this},vs.a.createElement("div",{className:"NobleRankTips-main",__source:{fileName:YO,lineNumber:66},__self:this},"\u7eed\u8d39\u8d35\u65cf\uff0c\u5c0a\u4eab\u8363\u8000\u7279\u6743"),"\xa0",vs.a.createElement("div",{className:"NobleRankTips-button",onClick:function onClick(t){e.openNobleBuy(t)},__source:{fileName:YO,lineNumber:67},__self:this},"\u7eed\u8d39\u8d35\u65cf")):vs.a.createElement("div",{className:"NobleRankTips",__source:{fileName:YO,lineNumber:75},__self:this},vs.a.createElement("div",{className:"NobleRankTips-main",__source:{fileName:YO,lineNumber:76},__self:this},"\u652f\u6301",vs.a.createElement("strong",{className:"NobleRankTips-userName",title:t,__source:{fileName:YO,lineNumber:78},__self:this},t),"\uff0c\u6210\u4e3a\u6597\u9c7c\u8d35\u65cf"),"\xa0",vs.a.createElement("div",{className:"NobleRankTips-button",onClick:function onClick(t){e.openNobleBuy(t)},__source:{fileName:YO,lineNumber:85},__self:this},"\u5f00\u901a\u8d35\u65cf"))},NobleRankTips}(vs.a.Component),HO=NobleRankTips_applyDecoratedDescriptor(UO.prototype,"common",[xO],{enumerable:!0,initializer:null}),WO=NobleRankTips_applyDecoratedDescriptor(UO.prototype,"nobleBuyModalService",[GO],{enumerable:!0,initializer:null}),UO),aw=Object(dv.connect)(function mapStateToProps(e){return{nobleData:e.getNoble}})(nw),ow=r("f4a14"),lw=r("9cf12"),sw=r.n(lw),cw=(r("abccf"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),uw="/shark/live/src/pages/roomPage/playerAsideModule/components/NobleRank/NobleRankList/NobleRankList.js";function NobleRankList_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleRankList_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleRankList_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleRankList_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var pw=n.a.Service,fw=(XO=pw(C.DataCenter.global),ZO=pw(ys.a),ew=function(e){function NobleRankList(){!function NobleRankList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRankList);var t=function NobleRankList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return NobleRankList_initDefineProp(t,"global",tw,t),NobleRankList_initDefineProp(t,"userCardModuleService",rw,t),t.showUserCard=t.showUserCard.bind(t),t}return NobleRankList_inherits(NobleRankList,e),NobleRankList.prototype.handlerData=function handlerData(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).slice(0,20),t=e.length;return t>0&&t<3&&(t=3),Array.from({length:t}).map(function(t,r){var i=e[r];return i?(i.isReality=!0,i.icon=i.avatar?"//apic.douyucdn.cn/upload/"+i.avatar+"_middle.jpg":sw.a,i.userLevel>0?i.userLevel=i.userLevel>120?120:i.userLevel:i.userLevel=1):((i={}).isReality=!1,i.nickName="\u865a\u4f4d\u4ee5\u5f85",i.icon=sw.a),i})},NobleRankList.prototype.conversion=function conversion(e){var t="";switch(e){case 0:t="first";break;case 1:t="second";break;case 2:t="third"}return t},NobleRankList.prototype.showUserCard=function showUserCard(e,t){var r=t||{},i=r.isShowSuperIcon,n=r.groupId,a=r.uid,o=r.nickName,l=r.icon,s=r.userLevel,c=r.nobleLevel;e.nativeEvent.stopImmediatePropagation(),this.userCardModuleService.showUserCard({isShowSuperIcon:i,gid:n,rel:+a,nickName:o,avatar:l,userLevel:s,nobleLevel:c})},NobleRankList.prototype.render=function render(){var e=this,t=this.handlerData(this.props.list);return t.length>0?vs.a.createElement("ul",{className:"NobleRankList",__source:{fileName:uw,lineNumber:104},__self:this},t.map(function(t,r){var i=cw({},t),n=i.nickName,a=void 0===n?"\u865a\u4f4d\u4ee5\u5f85":n,o=i.nobleLevel,l=i.icon;return r<3?vs.a.createElement("li",{key:r,className:"NobleRankList-item NobleRankList-item--top  NobleRankList-item--"+e.conversion(r),onClick:function onClick(r){e.showUserCard(r,t)},__source:{fileName:uw,lineNumber:111},__self:e},vs.a.createElement("span",{className:"NobleRankList-avatar NobleRankList-avatar--"+e.conversion(r),__source:{fileName:uw,lineNumber:117},__self:e},vs.a.createElement(ow.a,{className:"NobleRankList-pic NobleRankList-pic--"+e.conversion(r),src:l,alt:a,defaultSrc:sw.a,__source:{fileName:uw,lineNumber:119},__self:e})),vs.a.createElement("span",{className:"NobleRankList-nickName NobleRankList-nickName--"+e.conversion(r),title:a,__source:{fileName:uw,lineNumber:123},__self:e},a),o>0?vs.a.createElement(MC.a,{level:o,type:"1",__source:{fileName:uw,lineNumber:126},__self:e}):""):vs.a.createElement("li",{key:r,className:"NobleRankList-item "+(3===r?"NobleRankList-item--fourth":""),__source:{fileName:uw,lineNumber:132},__self:e},o>0?vs.a.createElement(MC.a,{level:o,type:"1",__source:{fileName:uw,lineNumber:134},__self:e}):"",vs.a.createElement("span",{className:"NobleRankList-nickName",title:a,onClick:function onClick(r){e.showUserCard(r,t)},__source:{fileName:uw,lineNumber:135},__self:e},a))})):vs.a.createElement("ul",{className:"NobleRankList",__source:{fileName:uw,lineNumber:148},__self:this},vs.a.createElement("div",{className:"NobleRankList-noresult",__source:{fileName:uw,lineNumber:149},__self:this}))},NobleRankList}(vs.a.Component),tw=NobleRankList_applyDecoratedDescriptor(ew.prototype,"global",[XO],{enumerable:!0,initializer:null}),rw=NobleRankList_applyDecoratedDescriptor(ew.prototype,"userCardModuleService",[ZO],{enumerable:!0,initializer:null}),ew),dw=(r("22dd9"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),bw="/shark/live/src/pages/roomPage/playerAsideModule/components/NobleRank/NobleListDetail/index.js";function NobleListDetail_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleListDetail_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var mw,hw,vw,gw=C.DataCenter.global.get("$SYS.web_url"),yw=function(e){function NobleListDetail(){return function NobleListDetail_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleListDetail),function NobleListDetail_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return NobleListDetail_inherits(NobleListDetail,e),NobleListDetail.prototype.generateFollowStyle=function generateFollowStyle(e){var t={};if(e){var r=gw+"app/douyu/res/font/"+e;t.fontStyle='@font-face {\n                font-family: "douyu'+e+'";\n                src: url("'+r+'.eot");\n                src: url("'+r+'.eot?#iefix") format("embedded-opentype"),\n                url("'+r+'.svg#uxdouyu") format("svg"),\n                url("'+r+'.woff") format("woff"),\n                url("'+r+'.ttf") format("truetype");\n            }',t.fontFamily={fontFamily:"douyu"+e}}return t},NobleListDetail.prototype.render=function render(){var e=this,t=this.props.list,r=this.props.ci,i=this.generateFollowStyle(r),n=i.fontFamily,a=i.fontStyle;return vs.a.createElement("div",{className:"NobleListDetail",__source:{fileName:bw,lineNumber:46},__self:this},vs.a.createElement("style",{__source:{fileName:bw,lineNumber:47},__self:this},a),vs.a.createElement("div",{className:"NobleListDetail-title",__source:{fileName:bw,lineNumber:48},__self:this},"\u672c\u623f\u95f4\u8385\u4e34",vs.a.createElement("span",{className:"NobleListDetail-yellow",__source:{fileName:bw,lineNumber:48},__self:this},"\u8d35\u65cf\u4eba\u6570")),vs.a.createElement("ul",{className:"NobleListDetail-rank",__source:{fileName:bw,lineNumber:49},__self:this},t.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1],i=t.count>9999?{fontFamily:""}:n,a=t.count>9999?"9999+":t.count;return t.count>0?vs.a.createElement("li",{key:r,className:"NobleListDetail-item",__source:{fileName:bw,lineNumber:57},__self:e},vs.a.createElement(MC.a,{level:t.level,__source:{fileName:bw,lineNumber:58},__self:e}),vs.a.createElement("span",{className:"NobleListDetail-count NobleListDetail-count--level"+t.level,style:dw({},i),__source:{fileName:bw,lineNumber:59},__self:e},a)):""})))},NobleListDetail}(vs.a.Component),_w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Sw="/shark/live/src/pages/roomPage/playerAsideModule/components/NobleRank/NobleRank.js";function NobleRank_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleRank_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleRank_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Nw,Cw,Ow,ww,Dw,Ew,kw,Rw,jw,Pw,Tw,Bw,Mw,Lw=(mw=(0,n.a.Service)(QO),hw=function(e){function NobleRank(){var t,r;!function NobleRank_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRank);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleRank_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function NobleRank_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"nobleRankService",vw,r),NobleRank_possibleConstructorReturn(r,t)}return NobleRank_inherits(NobleRank,e),NobleRank.prototype.componentDidMount=function componentDidMount(){this.nobleRankService.init()},NobleRank.prototype.render=function render(){var e=_w({},this.props.nobleData),t=e.nobleList,r=void 0===t?[]:t,i=e.nobleNumList,n=void 0===i?[]:i,a=e.nobleNumListci,o=void 0===a?0:a;return vs.a.createElement("div",{className:"NobleRank",__source:{fileName:Sw,lineNumber:30},__self:this},vs.a.createElement(aw,{__source:{fileName:Sw,lineNumber:31},__self:this}),vs.a.createElement(gs.Scrollbars,{autoHide:!0,autoHeight:!0,autoHeightMax:328,hideTracksWhenNotNeeded:!0,__source:{fileName:Sw,lineNumber:32},__self:this},vs.a.createElement(fw,{list:r,__source:{fileName:Sw,lineNumber:33},__self:this}),r.length>=20&&n.length>0&&vs.a.createElement(yw,{list:n,ci:o,__source:{fileName:Sw,lineNumber:36},__self:this})))},NobleRank}(vs.a.Component),vw=function NobleRank_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(hw.prototype,"nobleRankService",[mw],{enumerable:!0,initializer:null}),hw),zw=Object(dv.connect)(function mapStateToProps(e){return{nobleData:e.getNoble}})(Lw);function FansRankDto_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function FansRankDto_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function FansRankDto_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRankDto_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function FansRankDto_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Aw,Iw,Fw,xw,Gw,Uw,Hw,Ww,Vw,$w=C.basicTypes.string,Kw=C.basicTypes.mapping,qw=C.basicTypes.optional,Qw=Kw({uid:"uid",nickName:"nn",avatar:"ic",fansLevel:"bl",fansIntimacy:"fim",rankChange:"rc",isVisibility:"hd",isShowSuperIcon:"sahf",groupId:"pg",nobleLevel:"nl",userLevel:"lev"})((Cw=function(e){function NobleRankDto(){var t,r;!function FansRankDto_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleRankDto);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=FansRankDto_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),FansRankDto_initDefineProp(r,"uid",Ow,r),FansRankDto_initDefineProp(r,"nickName",ww,r),FansRankDto_initDefineProp(r,"avatar",Dw,r),FansRankDto_initDefineProp(r,"fansLevel",Ew,r),FansRankDto_initDefineProp(r,"fansIntimacy",kw,r),FansRankDto_initDefineProp(r,"rankChange",Rw,r),FansRankDto_initDefineProp(r,"isVisibility",jw,r),FansRankDto_initDefineProp(r,"isShowSuperIcon",Pw,r),FansRankDto_initDefineProp(r,"groupId",Tw,r),FansRankDto_initDefineProp(r,"nobleLevel",Bw,r),FansRankDto_initDefineProp(r,"userLevel",Mw,r),FansRankDto_possibleConstructorReturn(r,t)}return FansRankDto_inherits(NobleRankDto,e),NobleRankDto}(C.EntityDto),Ow=FansRankDto_applyDecoratedDescriptor(Cw.prototype,"uid",[qw,$w],{enumerable:!0,initializer:null}),ww=FansRankDto_applyDecoratedDescriptor(Cw.prototype,"nickName",[qw,$w],{enumerable:!0,initializer:null}),Dw=FansRankDto_applyDecoratedDescriptor(Cw.prototype,"avatar",[qw,$w],{enumerable:!0,initializer:null}),Ew=FansRankDto_applyDecoratedDescriptor(Cw.prototype,"fansLevel",[qw,$w],{enumerable:!0,initializer:null}),kw=FansRankDto_applyDecoratedDescriptor(Cw.prototype,"fansIntimacy",[qw,$w],{enumerable:!0,initializer:null}),Rw=FansRankDto_applyDecoratedDescriptor(Cw.prototype,"rankChange",[qw,$w],{enumerable:!0,initializer:null}),jw=FansRankDto_applyDecoratedDescriptor(Cw.prototype,"isVisibility",[qw,$w],{enumerable:!0,initializer:null}),Pw=FansRankDto_applyDecoratedDescriptor(Cw.prototype,"isShowSuperIcon",[qw,$w],{enumerable:!0,initializer:null}),Tw=FansRankDto_applyDecoratedDescriptor(Cw.prototype,"groupId",[qw,$w],{enumerable:!0,initializer:null}),Bw=FansRankDto_applyDecoratedDescriptor(Cw.prototype,"nobleLevel",[qw,$w],{enumerable:!0,initializer:null}),Mw=FansRankDto_applyDecoratedDescriptor(Cw.prototype,"userLevel",[qw,$w],{enumerable:!0,initializer:null}),Nw=Cw))||Nw;function fansRankServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function fansRankServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function fansRankServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function fansRankServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function fansRankServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Jw,Yw,Xw,Zw,eD,tD=n.a.Store,rD=n.a.Service,iD=w.a.socketStream,nD=(Aw=rD(C.DataCenter.common),Iw=rD(Gc.a),Fw=rD(Di.a),xw=tD(),Gw=function(e){function FansRankServices(){var t,r;!function fansRankServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=fansRankServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),fansRankServices_initDefineProp(r,"common",Uw,r),fansRankServices_initDefineProp(r,"userRoleService",Hw,r),fansRankServices_initDefineProp(r,"chatSendService",Ww,r),fansRankServices_initDefineProp(r,"store",Vw,r),fansRankServices_possibleConstructorReturn(r,t)}return fansRankServices_inherits(FansRankServices,e),FansRankServices.prototype.init=function init(){var e=this;this.common.get("$DATA").subscribe(function(t){var r=t.get("room.room_id");e.updateOpenFans(t.get("room.is_set_fans_badge")||0),iD.subscribe("blst",function(t){var i=t.list;i&&(Ud.a.isArray(i)?Ud.a.decode(i):[{value:i}]).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.value&&Ud.a.decode(t.value).too(),n=i.rid,a=i.pos,o=i.bl,l=i.bnn;return+n===+r&&(e.store.dispatch(El.receiveHasRoomFansMedal(l)),e.store.dispatch(El.receiveOwnerFansRank(a)),e.store.dispatch(El.receiveOwnerMedaLevel(o)),e.chatSendService.fansSpeakCheck(!0)),i})})}),iD.subscribe("fswrank",function(t){var r=t.list,i=t.bnn;if(r){var n=r.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.uid,i=t.pg,n=t.rg;return e.userRoleService.setUserGroup(r,{pg:i,rg:n}),Qw.fromJSON(t)});e.store.dispatch(El.receiveFansList(n))}i&&e.store.dispatch(El.receiveRoomFansMedal(i))}),iD.subscribe("frank",function(t){var r=t.fc,i=t.list,n=t.bnn,a=t.ci,o=void 0===a?0:a;if(i){var l=i.map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.uid,i=t.pg,n=t.rg;return e.userRoleService.setUserGroup(r,{pg:i,rg:n}),Qw.fromJSON(t)});e.store.dispatch(El.receiveFansAllList(l))}r&&e.store.dispatch(El.receiveFansSum({fc:r,ci:o})),n&&e.store.dispatch(El.receiveRoomFansMedal(n))}),iD.subscribe("ru",function(t){var r=t.pos;r>0&&e.store.dispatch(El.receiveOwnerFansRank(r))}),iD.subscribe("gbi",function(t){var r=t.bl;r&&e.store.dispatch(El.receiveOwnerMedaLevel(r)),e.chatSendService.fansSpeakCheck(!0)}),iD.subscribe("synfim",function(t){var r=t.bl;r&&e.store.dispatch(El.receiveOwnerMedaLevel(r))})},FansRankServices.prototype.updateOpenFans=function updateOpenFans(e){this.store.dispatch(El.updateOpenFans(e))},FansRankServices.prototype.toggleFansRankAll=function toggleFansRankAll(e){this.store.dispatch(El.toggleFansRankAll(e))},FansRankServices}(f.Service),Uw=fansRankServices_applyDecoratedDescriptor(Gw.prototype,"common",[Aw],{enumerable:!0,initializer:null}),Hw=fansRankServices_applyDecoratedDescriptor(Gw.prototype,"userRoleService",[Iw],{enumerable:!0,initializer:null}),Ww=fansRankServices_applyDecoratedDescriptor(Gw.prototype,"chatSendService",[Fw],{enumerable:!0,initializer:null}),Vw=fansRankServices_applyDecoratedDescriptor(Gw.prototype,"store",[xw],{enumerable:!0,initializer:null}),Gw),aD=(r("3cfd2"),"/shark/live/src/pages/roomPage/playerAsideModule/components/FansRank/FansRankTitle/FansRankTitle.js");function FansRankTitle_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function FansRankTitle_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRankTitle_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function FansRankTitle_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var oD,lD,sD,cD,uD,pD,fD,dD=n.a.Service,bD=(Jw=dD(C.DataCenter.global),Yw=dD(nD),Xw=function(e){function FansRankTitle(){!function FansRankTitle_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankTitle);var t=function FansRankTitle_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return FansRankTitle_initDefineProp(t,"global",Zw,t),FansRankTitle_initDefineProp(t,"fansRankService",eD,t),t.showFansRankAll=t.showFansRankAll.bind(t),t}return FansRankTitle_inherits(FansRankTitle,e),FansRankTitle.prototype.showFansRankAll=function showFansRankAll(){this.fansRankService.toggleFansRankAll(!0)},FansRankTitle.prototype.render=function render(){return vs.a.createElement("div",{className:"FansRankInfo clearfix",__source:{fileName:aD,lineNumber:31},__self:this},vs.a.createElement("span",{className:"FansRankInfo-txt",__source:{fileName:aD,lineNumber:32},__self:this},"\u6309\u8fd17\u5929\u4eb2\u5bc6\u5ea6\u4e0a\u5347\u6392\u884c"),vs.a.createElement("span",{className:"FansRankInfo-btn",onClick:this.showFansRankAll,__source:{fileName:aD,lineNumber:33},__self:this},"\u7c89\u4e1d\u7b49\u7ea7\u603b\u699c >"))},FansRankTitle}(vs.a.Component),Zw=FansRankTitle_applyDecoratedDescriptor(Xw.prototype,"global",[Jw],{enumerable:!0,initializer:null}),eD=FansRankTitle_applyDecoratedDescriptor(Xw.prototype,"fansRankService",[Yw],{enumerable:!0,initializer:null}),Xw),mD=Object(dv.connect)(function mapStateProps(e){return{hasRoomFansMedal:e.getFansRank.hasRoomFansMedal}})(bD),hD=r("5b11b"),vD=r("42c63"),gD=r.n(vD),yD=(r("8921f"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),_D="/shark/live/src/pages/roomPage/playerAsideModule/components/FansRank/FansRankList/FansRankList.js";function FansRankList_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function FansRankList_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRankList_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function FansRankList_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var SD,ND,CD,OD=n.a.Service,wD=(oD=OD(C.DataCenter.global),lD=OD(C.DataCenter.common),sD=OD(ys.a),cD=function(e){function FansRankList(){!function FansRankList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankList);var t=function FansRankList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return FansRankList_initDefineProp(t,"global",uD,t),FansRankList_initDefineProp(t,"common",pD,t),FansRankList_initDefineProp(t,"userCardModuleService",fD,t),t.state={room:{}},t.showUserCard=t.showUserCard.bind(t),t}return FansRankList_inherits(FansRankList,e),FansRankList.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({room:t.get("room")||{}})})},FansRankList.prototype.handlerData=function handlerData(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=t.slice(0,50),i=t.length;return i>0&&i<3&&(i=3),Array.from({length:i}).map(function(t,i){var n=r[i];return n?(n.isRealUser=!0,n.nickName=n.nickName||"\u865a\u4f4d\u4ee5\u5f85",n.icon=n.avatar?"//apic.douyucdn.cn/upload/"+n.avatar+"_middle.jpg":gD.a,n.fansLevel>0?n.fansLevel=n.fansLevel>30?30:n.fansLevel:n.fansLevel=1,n.isOwn=+e.global.get("USER_INFO.uid")===+n.uid,n.fim=parseInt(n.fansIntimacy/100,10)||"--",n.rankChange=parseInt(n.rankChange,10)||0):((n={}).isRealUser=!1,n.nickName="\u865a\u4f4d\u4ee5\u5f85",n.icon=gD.a),n})},FansRankList.prototype.conversion=function conversion(e){var t="";switch(e){case 0:t="first";break;case 1:t="second";break;case 2:t="third"}return t},FansRankList.prototype.showUserCard=function showUserCard(e,t){var r=t||{},i=r.isShowSuperIcon,n=r.groupId,a=r.uid,o=r.nickName,l=r.icon,s=r.fansLevel,c=r.fansMedal,u=r.isVisibility,p=r.nobleLevel,f=r.userLevel;e.nativeEvent.stopImmediatePropagation(),this.userCardModuleService.showUserCard({isShowSuperIcon:i,gid:+n,rel:+a||0,nickName:o,avatar:l,fansLevel:s,fansMedal:c,nobleLevel:+p||0,userLevel:+f||0,invisible:u})},FansRankList.prototype.render=function render(){var e=this,t=this.props.roomFansMedal,r=this.state.room.room_id,i=+this.global.get("USER_INFO.uid")===+this.state.room.owner_uid,n=5===+this.global.get("USER_INFO.groupId"),a=this.handlerData(this.props.fansRankList);return a.length>0?vs.a.createElement("ul",{className:"FansRankList",__source:{fileName:_D,lineNumber:132},__self:this},a.map(function(a,o){var l=yD({},a),s=l.nickName,c=l.icon,u=l.fansLevel,p=l.fim,f=l.rankChange,d=yD({},a),b=d.isVisibility,m=d.isOwn;return!b||b&&(m||i||n)?vs.a.createElement("li",{key:o,className:"FansRankList-item "+(o<3?"FansRankList-item--top":""),__source:{fileName:_D,lineNumber:142},__self:e},vs.a.createElement("span",{className:"FansRankList-itemRank FansRankList-itemRank--"+e.conversion(o),__source:{fileName:_D,lineNumber:144},__self:e},o+1),o<3?vs.a.createElement(ow.a,{className:"FansRankList-avatar FansRankList-avatar--"+e.conversion(o),src:c,alt:s,defaultSrc:gD.a,__source:{fileName:_D,lineNumber:148},__self:e}):"",vs.a.createElement("a",{className:"FansRankList-nickName "+(b?"is-visibility":"")+" "+(o<3?"FansRankList-nickName--top":""),title:s,onClick:function onClick(r){e.showUserCard(r,yD({},a,{fansMedal:t,nickName:b?s+"\uff08\u5df2\u9690\u8eab\uff09":s}))},__source:{fileName:_D,lineNumber:153},__self:e},b?s+"\uff08\u5df2\u9690\u8eab\uff09":s),vs.a.createElement(hD.a,{type:"normal",name:t,medalId:r,lev:+u,url:"//webconf.douyucdn.cn//resource/common/fans_medal_web_v2.json",__source:{fileName:_D,lineNumber:166},__self:e}),vs.a.createElement("span",{className:"FansRankList-intimacy",__source:{fileName:_D,lineNumber:168},__self:e},p),vs.a.createElement("span",{className:"FansRankList-status FansRankList-status--"+(f+1),__source:{fileName:_D,lineNumber:169},__self:e})):vs.a.createElement("li",{key:o,className:"FansRankList-item "+(o<3?"FansRankList-item--top":""),__source:{fileName:_D,lineNumber:176},__self:e},vs.a.createElement("span",{className:"FansRankList-itemRank FansRankList-itemRank--"+e.conversion(o),__source:{fileName:_D,lineNumber:178},__self:e},o+1),o<3?vs.a.createElement(ow.a,{className:"FansRankList-avatar FansRankList-avatar--"+e.conversion(o),src:c,alt:s,defaultSrc:gD.a,__source:{fileName:_D,lineNumber:182},__self:e}):"",vs.a.createElement("a",{className:"FansRankList-nickName "+(b?"is-visibility":"")+" "+(o<3?"FansRankList-nickName--top":""),title:s,onClick:function onClick(r){e.showUserCard(r,yD({},a,{fansMedal:t,nickName:b?s+"\uff08\u5df2\u9690\u8eab\uff09":s}))},__source:{fileName:_D,lineNumber:188},__self:e},s))})):vs.a.createElement("ul",{className:"FansRankList",__source:{fileName:_D,lineNumber:209},__self:this},vs.a.createElement("div",{className:this.props.isOpenFans?"FansRankList-noresulet":"FansRankList-unopened",__source:{fileName:_D,lineNumber:210},__self:this}))},FansRankList}(vs.a.Component),uD=FansRankList_applyDecoratedDescriptor(cD.prototype,"global",[oD],{enumerable:!0,initializer:null}),pD=FansRankList_applyDecoratedDescriptor(cD.prototype,"common",[lD],{enumerable:!0,initializer:null}),fD=FansRankList_applyDecoratedDescriptor(cD.prototype,"userCardModuleService",[sD],{enumerable:!0,initializer:null}),cD),DD=Object(dv.connect)(function mapStateProps(e){return{isOpenFans:e.getFansRank.isOpenFans,fansRankList:e.getFansRank.fansRankList,roomFansMedal:e.getFansRank.roomFansMedal}})(wD),ED=(r("adc0e"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),kD="/shark/live/src/pages/roomPage/playerAsideModule/components/FansRank/FansRankBottom/FansRankBottom.js";function FansRankBottom_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function FansRankBottom_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRankBottom_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var RD,jD,PD,TD=n.a.Service,BD=C.DataCenter.global.get("$SYS.web_url"),MD=(SD=TD(rO),ND=function(e){function FansRankBottom(){var t,r;!function FansRankBottom_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankBottom);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=FansRankBottom_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function FansRankBottom_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"NobleVisibleService",CD,r),FansRankBottom_possibleConstructorReturn(r,t)}return FansRankBottom_inherits(FansRankBottom,e),FansRankBottom.prototype.toggleInvisible=function toggleInvisible(){this.NobleVisibleService.setInvisible("fans")},FansRankBottom.prototype.generateFollowStyle=function generateFollowStyle(e){var t={};if(e){var r=BD+"app/douyu/res/font/"+e;t.fontStyle='@font-face {\n                font-family: "douyu'+e+'";\n                src: url("'+r+'.eot");\n                src: url("'+r+'.eot?#iefix") format("embedded-opentype"),\n                url("'+r+'.svg#uxdouyu") format("svg"),\n                url("'+r+'.woff") format("woff"),\n                url("'+r+'.ttf") format("truetype");\n            }',t.fontFamily={fontFamily:"douyu"+e}}return t},FansRankBottom.prototype.render=function render(){var e=this,t=ED({},this.props),r=t.hasInvisible,i=t.isInvisible,n=t.fansSum,a=void 0===n?"--":n,o=this.props.fansSumCi,l=this.generateFollowStyle(o),s=l.fontFamily,c=l.fontStyle;return vs.a.createElement("div",{className:"FansRankBottom",__source:{fileName:kD,lineNumber:53},__self:this},vs.a.createElement("style",{__source:{fileName:kD,lineNumber:54},__self:this},c),vs.a.createElement("div",{className:"FansRankBottom-total",__source:{fileName:kD,lineNumber:55},__self:this},"\u7c89\u4e1d\u603b\u4eba\u6570\uff1a",vs.a.createElement("span",{className:"FansRankBottom-yellow",style:ED({},s),__source:{fileName:kD,lineNumber:55},__self:this},a)),r?vs.a.createElement("div",{className:"FansRankBottom-invisible",__source:{fileName:kD,lineNumber:59},__self:this},vs.a.createElement("div",{className:"FansRankBottom-invisibleTxt",__source:{fileName:kD,lineNumber:60},__self:this},"\u7c89\u4e1d\u699c\u5355\u9690\u8eab"),vs.a.createElement("label",{className:"FansRankBottom-invisibleBtn "+(i?"is-invisible":""),onClick:function onClick(){e.toggleInvisible()},__source:{fileName:kD,lineNumber:61},__self:this},vs.a.createElement("div",{className:"FansRankBottom-iconWrap",__source:{fileName:kD,lineNumber:66},__self:this},vs.a.createElement("input",{type:"checkbox",className:"FansRankBottom-checkbox",__source:{fileName:kD,lineNumber:67},__self:this}),vs.a.createElement("span",{className:"FansRankBottom-invisibleBtnIcon "+(i?"is-invisible":""),__source:{fileName:kD,lineNumber:68},__self:this})))):"")},FansRankBottom}(vs.a.Component),CD=function FansRankBottom_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(ND.prototype,"NobleVisibleService",[SD],{enumerable:!0,initializer:null}),ND),LD=Object(dv.connect)(function mapStateProps(e){return{isOpenFans:e.getFansRank.isOpenFans,hasInvisible:e.getInvisible.hasInvisible,isInvisible:e.getInvisible.isInvisible,fansSum:e.getFansRank.fansSum,fansSumCi:e.getFansRank.fansSumCi}})(MD),zD=(r("b42a6"),"/shark/live/src/pages/roomPage/playerAsideModule/components/FansRank/FansRank.js");function FansRank_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function FansRank_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRank_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var AD,ID=(RD=(0,n.a.Service)(nD),jD=function(e){function FansRank(){var t,r;!function FansRank_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRank);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=FansRank_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function FansRank_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"fansRankService",PD,r),FansRank_possibleConstructorReturn(r,t)}return FansRank_inherits(FansRank,e),FansRank.prototype.componentDidMount=function componentDidMount(){this.fansRankService.init()},FansRank.prototype.render=function render(){var e=this.props.isOpenFans,t=this.props.fansSum;return vs.a.createElement("div",{className:"FansRank",__source:{fileName:zD,lineNumber:31},__self:this},vs.a.createElement(mD,{__source:{fileName:zD,lineNumber:32},__self:this}),vs.a.createElement(gs.Scrollbars,{autoHide:!0,autoHeight:!0,autoHeightMax:388,hideTracksWhenNotNeeded:!0,__source:{fileName:zD,lineNumber:33},__self:this},vs.a.createElement(DD,{__source:{fileName:zD,lineNumber:34},__self:this})),e&&t>0?vs.a.createElement(LD,{__source:{fileName:zD,lineNumber:37},__self:this}):"")},FansRank}(vs.a.Component),PD=function FansRank_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(jD.prototype,"fansRankService",[RD],{enumerable:!0,initializer:null}),jD),FD=Object(dv.connect)(function mapStateProps(e){return{isOpenFans:e.getFansRank.isOpenFans,fansSum:e.getFansRank.fansSum}})(ID),xD=(r("6dc98"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatTabContainer/ChatTabContainer.js");function ChatTabContainer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatTabContainer_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var GD,UD,HD,WD,VD,$D,KD,qD,QD,JD,YD=Object(ye.log)(AD=function(e){function ChatTabContainer(){!function ChatTabContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatTabContainer);var t=function ChatTabContainer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={currentIndex:0},t}return ChatTabContainer_inherits(ChatTabContainer,e),ChatTabContainer.prototype.setShowName=function setShowName(e){return e===this.state.currentIndex?"is-active":""},ChatTabContainer.prototype.setStyle=function setStyle(e){this.props.getIsExtend(e)},ChatTabContainer.prototype.render=function render(){var e=this;return vs.a.createElement("div",{className:"ChatTabContainer",__source:{fileName:xD,lineNumber:30},__self:this},vs.a.createElement("div",{className:"ChatTabContainer-titleWraper",__source:{fileName:xD,lineNumber:31},__self:this},vs.a.createElement("ul",{className:"ChatTabContainer-titleWraper--tabTitle",__source:{fileName:xD,lineNumber:32},__self:this},vs.a.Children.map(this.props.children,function(t,r){return 0===r&&vs.a.Children.map(t.props.children,function(t,r){return vs.a.createElement("li",{onClick:function onClick(){e.setState({currentIndex:r})},className:e.setShowName(r)+" ChatTabContainer-titleWraper--tabLi",__source:{fileName:xD,lineNumber:37},__self:e},t)})}))),vs.a.createElement("div",{className:"ChatTabContainer-conWraper",__source:{fileName:xD,lineNumber:52},__self:this},vs.a.Children.map(this.props.children,function(t,r){return 1===r&&vs.a.Children.map(t.props.children,function(t,r){return vs.a.createElement("div",{className:"ChatTabContainer-content "+e.setShowName(r),onMouseEnter:e.setStyle.bind(e,!0),onMouseLeave:e.setStyle.bind(e,!1),__source:{fileName:xD,lineNumber:57},__self:e},t)})})))},ChatTabContainer}(vs.a.Component))||AD,XD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ZD="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatRank/ChatRank.js";function ChatRank_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatRank_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatRank_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatRank_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var eE=C.DataCenter.global,tE=n.a.Service,rE=n.a.Store,iE=eE.get("$SYS.web_url"),nE=(GD=tE(Hf),UD=tE(rO),HD=tE(M),WD=rE(),Object(ye.log)(($D=function(e){function ChatRank(){!function ChatRank_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRank);var t=function ChatRank_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return ChatRank_initDefineProp(t,"chatRankServices",KD,t),ChatRank_initDefineProp(t,"nobleVisibleServices",qD,t),ChatRank_initDefineProp(t,"medalOperatServices",QD,t),ChatRank_initDefineProp(t,"store",JD,t),t.fansAction=t.fansAction.bind(t),t.weekAction=t.weekAction.bind(t),t.getIsExtend=t.getIsExtend.bind(t),t.state={isEnter:!1},t}return ChatRank_inherits(ChatRank,e),ChatRank.prototype.componentWillMount=function componentWillMount(){this.chatRankServices.initSocket(),this.nobleVisibleServices.init()},ChatRank.prototype.weekAction=function weekAction(){var e=this.store.getState().userRoleData.isAnchor?1:0;Object(O.dysub)("click_msg_sendlist_wk",{is_anch:e})},ChatRank.prototype.fansAction=function fansAction(){var e=this.medalOperatServices.returnFansMedalStatus();Object(O.dysub)("click_msg_fans",e)},ChatRank.prototype.getIsExtend=function getIsExtend(e){this.setState({isEnter:e})},ChatRank.prototype.generateFollowStyle=function generateFollowStyle(e){var t={};if(e){var r=iE+"app/douyu/res/font/"+e;t.fontStyle='@font-face {\n                font-family: "douyu'+e+'";\n                src: url("'+r+'.eot");\n                src: url("'+r+'.eot?#iefix") format("embedded-opentype"),\n                url("'+r+'.svg#uxdouyu") format("svg"),\n                url("'+r+'.woff") format("woff"),\n                url("'+r+'.ttf") format("truetype");\n            }',t.fontFamily={fontFamily:"douyu"+e}}return t},ChatRank.prototype.render=function render(){var e=this.props.getNoble.nobleSum,t=this.props.getNoble.nobleSumCi,r=this.generateFollowStyle(t),i=r.fontFamily,n=r.fontStyle,a=e>9999?{fontFamily:""}:i;return vs.a.createElement("div",{className:"ChatRank",__source:{fileName:ZD,lineNumber:96},__self:this},vs.a.createElement("div",{className:"ChatRank-rankWraper "+(this.state.isEnter?"is-enter":""),__source:{fileName:ZD,lineNumber:97},__self:this},vs.a.createElement("style",{__source:{fileName:ZD,lineNumber:98},__self:this},n),vs.a.createElement(YD,{getIsExtend:this.getIsExtend,__source:{fileName:ZD,lineNumber:99},__self:this},vs.a.createElement("div",{className:"ChatTabContainer-titleContent",__source:{fileName:ZD,lineNumber:100},__self:this},vs.a.createElement("div",{className:"ChatRank-tabTitle",onClick:this.weekAction,__source:{fileName:ZD,lineNumber:101},__self:this},"\u8d21\u732e\u5468\u699c"),vs.a.createElement("div",{className:"ChatRank-tabTitle",onClick:Object(O.dys)("click_msg_noble"),__source:{fileName:ZD,lineNumber:102},__self:this},"\u8d35\u65cf(",vs.a.createElement("em",{style:XD({},a),__source:{fileName:ZD,lineNumber:103},__self:this},e>9999?"9999+":e),")"),vs.a.createElement("div",{className:"ChatRank-tabTitle",onClick:this.fansAction,__source:{fileName:ZD,lineNumber:105},__self:this},"\u7c89\u4e1d\u56e2")),vs.a.createElement("div",{className:"ChatTabContainer-mainContent",__source:{fileName:ZD,lineNumber:107},__self:this},vs.a.createElement(yO,{title:"\u8d21\u732e\u5468\u699c",__source:{fileName:ZD,lineNumber:109},__self:this}),vs.a.createElement(zw,{title:"\u8d35\u65cf",__source:{fileName:ZD,lineNumber:111},__self:this}),vs.a.createElement(FD,{title:"\u7c89\u4e1d\u56e2",__source:{fileName:ZD,lineNumber:113},__self:this})))))},ChatRank}(vs.a.Component),KD=ChatRank_applyDecoratedDescriptor($D.prototype,"chatRankServices",[GD],{enumerable:!0,initializer:null}),qD=ChatRank_applyDecoratedDescriptor($D.prototype,"nobleVisibleServices",[UD],{enumerable:!0,initializer:null}),QD=ChatRank_applyDecoratedDescriptor($D.prototype,"medalOperatServices",[HD],{enumerable:!0,initializer:null}),JD=ChatRank_applyDecoratedDescriptor($D.prototype,"store",[WD],{enumerable:!0,initializer:null}),VD=$D))||VD);nE.propTypes={weekRankList:fv.a.arrayOf(fv.a.shape({}))};var aE,oE,lE=Object(dv.connect)(function mapStateToProps(e){return{userRole:e.chatRank.userRole,defaultConfig:e.chatRank.defaultConfig,getNoble:e.getNoble}})(nE),sE=(r("0ff16"),r("1d8f0"),r("e1f27"),r("90c4f"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),cE="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatSend/MuteStatus/MuteStatus.js";function MuteStatus_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MuteStatus_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var uE,pE,fE,dE,bE,mE,hE,vE=(aE=Object(O.dys)("click_msg_login"),function MuteStatus_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}((oE=function(e){function MuteStatus(){!function MuteStatus_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MuteStatus);var t=function MuteStatus_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.showLogin=t.showLogin.bind(t),t}return MuteStatus_inherits(MuteStatus,e),MuteStatus.prototype.showLogin=function showLogin(){Ds.a.show("login")},MuteStatus.prototype.render=function render(){var e=sE({},this.props),t=e.status,r=e.muteType,i=e.muteTime,n=yo.a.formatDate(new Date(1e3*i),"yyyy-MM-dd hh:mm:ss");switch(t){case 1:return vs.a.createElement("div",{className:"MuteStatus is-noLogin",__source:{fileName:cE,lineNumber:32},__self:this},vs.a.createElement("span",{className:"MuteStatus-isLog",onClick:this.showLogin,__source:{fileName:cE,lineNumber:32},__self:this},"\u767b\u5f55"),"\u53d1\u5f39\u5e55\uff0c\u53c2\u4e0e\u4e3b\u64ad\u4e92\u52a8");case 2:return vs.a.createElement("div",{className:"MuteStatus is-noLogin",__source:{fileName:cE,lineNumber:35},__self:this},vs.a.createElement("a",{className:"MuteStatus-isLog",href:"/member/cp#phone",target:"_blank",onMouseDown:Object(O.dys)("click_msg_testphone"),__source:{fileName:cE,lineNumber:35},__self:this},"\u9a8c\u8bc1\u624b\u673a\u53f7"),"\u5373\u53ef\u53d1\u9001\u5f39\u5e55\uff01");case 3:return vs.a.createElement("div",{className:"MuteStatus is-mute",__source:{fileName:cE,lineNumber:40},__self:this},"\u60a8\u5df2\u88ab",["\u623f\u95f4","\u623f\u95f4","\u5168\u7ad9","\u5168\u7ad9"][r-1],"\u7981\u8a00\u3002",vs.a.createElement("span",{className:"MuteStatus-isMuteType",__source:{fileName:cE,lineNumber:40},__self:this},"\u7981\u8a00\u7c7b\u578b\uff1a0",r),vs.a.createElement("br",{__source:{fileName:cE,lineNumber:41},__self:this}),"\u89e3\u7981\u65f6\u95f4:",n,vs.a.createElement("a",{className:"MuteStatus-isMuteKnow",href:"/cms/gong/201601/06/2924.shtml",target:"_blank",__source:{fileName:cE,lineNumber:41},__self:this},"\u7528\u6237\u53d1\u8a00\u987b\u77e5"));case 4:return vs.a.createElement("div",{className:"MuteStatus is-noLogin",__source:{fileName:cE,lineNumber:45},__self:this},"\u60f3\u548c\u4e3b\u64ad\u804a\u5929\uff0c\u5148\u529e\u5361\u5427\uff01");default:return vs.a.createElement("div",{className:"MuteStatus is-noLogin",__source:{fileName:cE,lineNumber:47},__self:this},vs.a.createElement("span",{className:"MuteStatus-isLog",__source:{fileName:cE,lineNumber:47},__self:this},"\u767b\u5f55"),"\u53d1\u5f39\u5e55\uff0c\u53c2\u4e0e\u4e3b\u64ad\u4e92\u52a8")}},MuteStatus}(vs.a.Component)).prototype,"showLogin",[aE],Object.getOwnPropertyDescriptor(oE.prototype,"showLogin"),oE.prototype),oE),gE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},yE="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatSend/ChatSend.js";function ChatSend_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatSend_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatSend_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatSend_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _E,SE,NE,CE=n.a.Service,OE=n.a.Store,wE="\uff1a",DE=void 0,EE=(uE=CE(Di.a),pE=CE(la.a),fE=OE(),dE=function(e){function ChatSend(){!function ChatSend_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatSend);var t=function ChatSend_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return ChatSend_initDefineProp(t,"chatSendServices",bE,t),ChatSend_initDefineProp(t,"chatRoleBarrageService",mE,t),ChatSend_initDefineProp(t,"store",hE,t),t.getCaretInfo=function(e){var r=t.props.selectedRole.name.length+1,i=t.chatSendServices.trim(e.target.value);return{value:i,length:i.length,cursorPosition:t.chatRoleBarrageService.getCursorPosition(e.target),threshold:r}},t.moveCursorPosition=function(e){if(t.props.selectedRole){var r=t.getCaretInfo(e),i=r.length,n=r.threshold;r.cursorPosition.start<n&&t.chatRoleBarrageService.setCursorPosition(t.sendContent,i,i),t.move()}else t.move()},t.roleBarrageEdit=function(e){var r=t.props.selectedRole;if(r){var i=t.getCaretInfo(e),n=i.value,a=i.length,o=i.threshold,l=i.cursorPosition,s=function clearEditor(){if(8===e.which||13===e.which){if(e.preventDefault(),a===o)return t.sendContent.value="",void t.chatRoleBarrageService.clearRoleBarrage();8===e.which?(t.sendContent.value=n.split(r.name+wE)[1]||"",t.chatRoleBarrageService.clearRoleBarrage()):13===e.which&&t.chatSendServices.sendRoleMsg(r)}};l.start<o&&(e.preventDefault(),229===e.which&&(t.sendContent.value=n,t.chatRoleBarrageService.setCursorPosition(t.sendContent,a,a)),s()),l.start===o&&s(),t.move()}else t.move()},t.state={cdTime:0},t.send=t.send.bind(t),t.enterSend=t.enterSend.bind(t),t.checkLength=t.checkLength.bind(t),t.move=t.move.bind(t),t}return ChatSend_inherits(ChatSend,e),ChatSend.prototype.checkLength=function checkLength(e){var t=e.target,r=this.maxLength;t.value.length>=r&&(t.value=t.value.substr(0,r))},ChatSend.prototype.move=function move(){if(this.props.fansColor?this.sendContent.style.color=this.props.fansColor:this.sendContent.style.color=this.chatSendServices.defval,document.selection){var e=document.selection.createRange(),t=document.body.createTextRange(),r=0;for(t.moveToElementText(this.sendContent);t.compareEndPoints("StartToStart",e)<0;r++)t.moveStart("character",1);this.chatSendServices.cursorPosition=r}else this.chatSendServices.cursorPosition=this.sendContent.selectionStart},ChatSend.prototype.interval=function interval(e){var t=this;e>0?(this.setState({cdTime:e}),this.timer&&this.timer.unsubscribe(),this.timer=Object(Yu.timer)(1e3,1e3).subscribe(function(){var e=t.state.cdTime-1;t.setState({cdTime:e}),e<=0&&t.timer.unsubscribe()})):this.setState({cdTime:0})},ChatSend.prototype.send=function send(e){e.preventDefault();var t=this.props.selectedRole;t?this.chatSendServices.sendRoleMsg(t):this.chatSendServices.sendMsg()},ChatSend.prototype.enterSend=function enterSend(e){var t=this.props.selectedRole;if(13===e.which){if(e.preventDefault(),t)return void this.chatSendServices.sendRoleMsg(t);this.chatSendServices.sendMsg()}},ChatSend.prototype.init=function init(){var e=this;this.chatSendServices.intervalStream.subscribe(function(t){e.interval(t)}),this.chatSendServices.initSocket()},ChatSend.prototype.componentDidMount=function componentDidMount(){this.init()},ChatSend.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this,r=e.selectedRole;if(null===r){if(DE){var i=this.sendContent.value.split(DE.name+wE);this.sendContent.value=i[1]||i[0]||""}DE=null}if(r){var n=this.sendContent.value.split(wE),a=void 0;a=DE?n[1]||"":this.sendContent.value||"",DE=r,this.sendContent.value=r.name+"\uff1a"+a,setTimeout(function(){t.sendContent.focus(),t.chatRoleBarrageService.setCursorPosition(t.sendContent,t.sendContent.value.length,t.sendContent.value.length)},50)}},ChatSend.prototype.render=function render(){var e=this,t=gE({},this.props.chatSendData),r=t.dataError,i=t.status,n=this.state.cdTime;return vs.a.createElement("div",{className:"ChatSend",__source:{fileName:yE,lineNumber:267},__self:this},vs.a.createElement("textarea",{className:"ChatSend-txt",placeholder:this.chatSendServices.placeholder,maxLength:this.chatSendServices.maxLength,ref:function ref(t){e.sendContent=t},onBlur:function onBlur(t){""===t.target.value&&(t.target.style.color=e.chatSendServices.defval)},onInput:this.checkLength,onKeyPress:this.enterSend,onKeyDown:this.roleBarrageEdit,onClick:this.moveCursorPosition,onFocus:this.moveCursorPosition,onKeyUp:this.moveCursorPosition,onCompositionStartCapture:this.moveCursorPosition,style:{color:this.chatSendServices.defval},__source:{fileName:yE,lineNumber:268},__self:this}),i>0?vs.a.createElement(vE,gE({},this.props.chatSendData,{__source:{fileName:yE,lineNumber:290},__self:this})):"",vs.a.createElement("div",{className:"ChatSend-button "+(i>0||n>0||r?"is-gray":""),ref:function ref(t){e.sendButton=t},onClick:this.send,__source:{fileName:yE,lineNumber:291},__self:this},n>0&&0===i?n:"\u53d1\u9001"))},ChatSend}(vs.a.Component),bE=ChatSend_applyDecoratedDescriptor(dE.prototype,"chatSendServices",[uE],{enumerable:!0,initializer:null}),mE=ChatSend_applyDecoratedDescriptor(dE.prototype,"chatRoleBarrageService",[pE],{enumerable:!0,initializer:null}),hE=ChatSend_applyDecoratedDescriptor(dE.prototype,"store",[fE],{enumerable:!0,initializer:null}),dE),kE=Object(dv.connect)(function mapStateToProps(e){return{chatSendData:e.chatSendData,fansColor:e.chatToolBar.colorValue,selectedRole:e.chatRoleBarrageData.selectedRole}})(EE),RE=(r("29783"),"/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalListItem/MedalListItem.js");function MedalListItem_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalListItem_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalListItem_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var jE=(_E=(0,n.a.Service)(M),SE=function(e){function MedalListItem(){var t,r;!function MedalListItem_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalListItem);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalListItem_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function MedalListItem_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"medalOperatServices",NE,r),MedalListItem_possibleConstructorReturn(r,t)}return MedalListItem_inherits(MedalListItem,e),MedalListItem.prototype.render=function render(){var e=this.props,t=e.medalData,r=e.wareStatus,i=e.wareMedalId,n=e.medalOperation,a=e.isCurRoom,o="/"+t.medalRid;return vs.a.createElement("div",{key:t.medalRid,className:["FansMedalList-item",a?"is-curRoom":"",2===r&&t.medalRid===i?"is-checked":""].join(" "),onClick:function onClick(e){n({wareMedalId:t.medalRid,wareStatus:1}),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},__source:{fileName:RE,lineNumber:23},__self:this},vs.a.createElement("span",{className:"FansMedalPanel-selectIcon",__source:{fileName:RE,lineNumber:40},__self:this}),vs.a.createElement("div",{className:"FansMedalPanel-medal",__source:{fileName:RE,lineNumber:41},__self:this},vs.a.createElement(hD.a,{lev:t.medalLev,name:t.medalName,isVipFans:Boolean(+t.vipFan),url:this.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+t.medalRid,__source:{fileName:RE,lineNumber:42},__self:this})),vs.a.createElement("h5",{className:"FansMedalList-anchorName",title:t.anchorNick||"\u4e3b\u64ad\u6635\u79f0",__source:{fileName:RE,lineNumber:51},__self:this},t.anchorNick||"\u4e3b\u64ad\u6635\u79f0"),vs.a.createElement("div",{className:"FansMedalList-valueInfo",__source:{fileName:RE,lineNumber:54},__self:this},vs.a.createElement("p",{className:"FansMedalList-expValue",__source:{fileName:RE,lineNumber:55},__self:this},vs.a.createElement("i",{className:"FansMedalList-expIcon",__source:{fileName:RE,lineNumber:56},__self:this}),vs.a.createElement("span",{__source:{fileName:RE,lineNumber:57},__self:this},t.todayExp>=0?"+":"",t.todayExp))),vs.a.createElement("a",{target:"_blank",href:o,className:["FansMedalList-liveStatus",t.isLive?"":"is-notLive"].join(" "),__source:{fileName:RE,lineNumber:65},__self:this},vs.a.createElement("i",{className:"FansMedalList-liveIcon",__source:{fileName:RE,lineNumber:73},__self:this}),vs.a.createElement("span",{__source:{fileName:RE,lineNumber:74},__self:this},t.isLive?"\u76f4\u64ad\u4e2d":"\u672a\u5f00\u64ad")))},MedalListItem}(vs.a.Component),NE=function MedalListItem_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(SE.prototype,"medalOperatServices",[_E],{enumerable:!0,initializer:null}),SE),PE="/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalList.js";function MedalList_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalList_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var TE,BE,ME,LE=function(e){function ChatMsgMedalList(){return function MedalList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatMsgMedalList),function MedalList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return MedalList_inherits(ChatMsgMedalList,e),ChatMsgMedalList.prototype.componentDidMount=function componentDidMount(){this.medalOperation=this.props.medalOperation},ChatMsgMedalList.prototype.renderMedalList=function renderMedalList(e){var t=this;return(e.medalList||[]).filter(function(t){return t.medalRid!==e.ownerRoomId}).slice(0,5).map(function(r){return vs.a.createElement(jE,{key:r.medalRid,medalData:r,wareStatus:e.wareStatus,wareMedalId:e.wareMedalId,medalOperation:t.medalOperation,__source:{fileName:PE,lineNumber:17},__self:t})})},ChatMsgMedalList.prototype.render=function render(){var e=this,t=this.props.medalListMsgData;return vs.a.createElement("div",{className:"FansMedalList",__source:{fileName:PE,lineNumber:31},__self:this},this.renderMedalList(t),vs.a.createElement("div",{className:["FansMedalList-item","is-NoWear",1===t.wareStatus?"is-checked":""].join(" "),onClick:function onClick(){return e.medalOperation({wareMedalId:"",wareStatus:2})},__source:{fileName:PE,lineNumber:35},__self:this},vs.a.createElement("span",{className:"FansMedalPanel-selectIcon",__source:{fileName:PE,lineNumber:48},__self:this}),vs.a.createElement("h5",{className:"FansMedalList-anchorName",__source:{fileName:PE,lineNumber:49},__self:this},"\u4e0d\u4f69\u6234\u5fbd\u7ae0")))},ChatMsgMedalList}(vs.a.Component),zE=Object(dv.connect)(function mapStateToProps(e){return{medalListMsgData:e.medalListMsgData}})(LE),AE="/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalInfo.js";function MedalInfo_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalInfo_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalInfo_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var IE,FE,xE,GE=(TE=(0,n.a.Service)(M),BE=function(e){function ChatMsgMedalInfo(){var t,r;!function MedalInfo_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatMsgMedalInfo);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalInfo_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function MedalInfo_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"medalOperatServices",ME,r),MedalInfo_possibleConstructorReturn(r,t)}return MedalInfo_inherits(ChatMsgMedalInfo,e),ChatMsgMedalInfo.prototype.componentDidMount=function componentDidMount(){this.medalOperation=this.props.medalOperation},ChatMsgMedalInfo.prototype.returnCurRoomMedalConfig=function returnCurRoomMedalConfig(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e.medalList||[]).filter(function(t){return t.medalRid===e.ownerRoomId})[0]},ChatMsgMedalInfo.prototype.returnMedalExpProgress=function returnMedalExpProgress(e){return e.medalLev>=30?"100%":Math.round(e.allExp/e.upLevExp*100)+"%"},ChatMsgMedalInfo.prototype.returnMedalRank=function returnMedalRank(e){return e?e>500?"500+":e:"--"},ChatMsgMedalInfo.prototype.render=function render(){var e=this.props.medalListMsgData,t=this.returnCurRoomMedalConfig(e),r="/task/firstpaytask/"+e.ownerRoomId;return vs.a.createElement("div",{className:"FansMedalPanel-info",__source:{fileName:AE,lineNumber:51},__self:this},t?vs.a.createElement("div",{className:"FansMedalInfo-head",__source:{fileName:AE,lineNumber:55},__self:this},vs.a.createElement(jE,{key:t.medalRid,isCurRoom:1,medalData:t,wareStatus:e.wareStatus,wareMedalId:e.wareMedalId,medalOperation:this.medalOperation,__source:{fileName:AE,lineNumber:56},__self:this}),vs.a.createElement("div",{className:"FansMedalInfo-medalBar",__source:{fileName:AE,lineNumber:64},__self:this},vs.a.createElement("div",{className:"MedalBar-expInfo",__source:{fileName:AE,lineNumber:65},__self:this},vs.a.createElement("span",{className:"MedalBar-lev",__source:{fileName:AE,lineNumber:66},__self:this},"lv",t.medalLev,":"),vs.a.createElement("div",{className:"MedalBar-progress",__source:{fileName:AE,lineNumber:67},__self:this},vs.a.createElement("p",{className:"MedalBar-bar",__source:{fileName:AE,lineNumber:68},__self:this},vs.a.createElement("em",{className:"MedalBar-view",style:{width:this.returnMedalExpProgress(t)},__source:{fileName:AE,lineNumber:69},__self:this})),vs.a.createElement("span",{className:"MedalBar-expNum",__source:{fileName:AE,lineNumber:74},__self:this},t.medalLev>=30?"Max":t.allExp+"/"+t.upLevExp)),vs.a.createElement("div",{className:"MedalBar-todayExp",__source:{fileName:AE,lineNumber:82},__self:this},0===+t.todayExp?"\u4eca\u65e5\u4eb2\u5bc6\u5ea6\uff1a0":vs.a.createElement("div",{__source:{fileName:AE,lineNumber:87},__self:this},vs.a.createElement("i",{className:"FansMedalInfo-expIcon",__source:{fileName:AE,lineNumber:88},__self:this}),t.todayExp>=0?"+"+t.todayExp:t.todayExp))),t.todayExp>0?vs.a.createElement("ul",{className:"MedalBar-expContent",__source:{fileName:AE,lineNumber:98},__self:this},vs.a.createElement("li",{className:"MedalBar-li",__source:{fileName:AE,lineNumber:99},__self:this},vs.a.createElement("p",{className:"MedalBar-text",__source:{fileName:AE,lineNumber:100},__self:this},"\u7c89\u4e1d\u7b49\u7ea7\u6392\u540d\uff1a",vs.a.createElement("span",{className:"MedalBar-rank",__source:{fileName:AE,lineNumber:102},__self:this},this.returnMedalRank(e.ownerMedalRank>0?e.ownerMedalRank:t.medalRank)))),vs.a.createElement("li",{className:"MedalBar-li",__source:{fileName:AE,lineNumber:110},__self:this},vs.a.createElement("p",{className:"MedalBar-text",__source:{fileName:AE,lineNumber:111},__self:this},"\u4eca\u65e5\u4eb2\u5bc6\u5ea6\u4e0a\u9650\uff1a",t.todayAllExp))):vs.a.createElement("p",{className:"MedalBar-remain",__source:{fileName:AE,lineNumber:117},__self:this},"\u8fde\u7eed7\u5929\u4e0d\u9001\u793c\u7269\uff0c\u4eb2\u5bc6\u5ea6\u4f1a\u4e0b\u964d\uff0c\u4e0b\u964d\u52300\u65f6\u60a8\u5c06\u5931\u53bb\u8be5\u5fbd\u7ae0"))):vs.a.createElement("div",{className:"FansMedalInfo-head",__source:{fileName:AE,lineNumber:125},__self:this},vs.a.createElement("div",{className:"FansMedalInfo-Top",__source:{fileName:AE,lineNumber:126},__self:this},vs.a.createElement(hD.a,{lev:0,name:e.ownerMedalName,isVipFans:!1,url:this.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+e.ownerRoomId,__source:{fileName:AE,lineNumber:127},__self:this}),e.medalSwitch>0?vs.a.createElement("p",{className:"FansMedalInfo-notCurMedal",__source:{fileName:AE,lineNumber:137},__self:this},"\u672a\u62e5\u6709\u8be5\u4e3b\u64ad\u7684\u5fbd\u7ae0"):vs.a.createElement("p",{className:"FansMedalInfo-notCurMedal",__source:{fileName:AE,lineNumber:138},__self:this},"\u4e3b\u64ad\u672a\u5f00\u901a\u7c89\u4e1d\u5fbd\u7ae0"),e.firstCharge>0&&e.medalSwitch>0?vs.a.createElement("a",{href:r,target:"_blank",className:"FansMedalInfo-firstCharge",__source:{fileName:AE,lineNumber:142},__self:this},"\u9996\u5145"):""),e.medalSwitch>0?vs.a.createElement("p",{className:"FansMedalInfo-getTips",__source:{fileName:AE,lineNumber:148},__self:this},"\u5f53\u65e5\u7d2f\u8ba1\u9001\u4e3b\u64ad6\u9c7c\u7fc5\u793c\u7269\u5373\u53ef\u83b7\u5f97\u7c89\u4e1d\u5fbd\u7ae0\u5662~"):null))},ChatMsgMedalInfo}(vs.a.Component),ME=function MedalInfo_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(BE.prototype,"medalOperatServices",[TE],{enumerable:!0,initializer:null}),BE),UE=Object(dv.connect)(function mapStateToProps(e){return{medalListMsgData:e.medalListMsgData}})(GE),HE="/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalPanel.js";function MedalPanel_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalPanel_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalPanel_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var WE,VE,$E,KE=(IE=(0,n.a.Service)(M),FE=function(e){function ChatMsgMedalPanel(){var t,r;!function MedalPanel_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatMsgMedalPanel);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalPanel_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function MedalPanel_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"medalOperatServices",xE,r),MedalPanel_possibleConstructorReturn(r,t)}return MedalPanel_inherits(ChatMsgMedalPanel,e),ChatMsgMedalPanel.prototype.componentDidMount=function componentDidMount(){this.medalStatus=this.props.medalStatus},ChatMsgMedalPanel.prototype.componentDidUpdate=function componentDidUpdate(){this.medalStatus=this.props.medalStatus},ChatMsgMedalPanel.prototype.medalOperation=function medalOperation(e){this.medalOperatServices.sendMedalMsg(e)},ChatMsgMedalPanel.prototype.render=function render(){var e=this,t=this.props,r=t.isShowMedalPanel,i=t.medalStatus,n=t.toggleMedalPanel;return vs.a.createElement("div",{className:"FansMedalPanel-Panel-container",style:{display:r.status?"block":"none"},__source:{fileName:HE,lineNumber:32},__self:this},1===i.wareStatus||2===i.wareStatus?vs.a.createElement("div",{className:"FansMedalPanel-Panel",onMouseEnter:function onMouseEnter(){return n(1)},onMouseLeave:function onMouseLeave(){return n(0)},__source:{fileName:HE,lineNumber:40},__self:this},vs.a.createElement("p",{className:"FansMedalPanel-ArrowIcon",__source:{fileName:HE,lineNumber:48},__self:this},vs.a.createElement("i",{className:"FansMedalPanel-ArrowIcon-i",__source:{fileName:HE,lineNumber:49},__self:this})),vs.a.createElement("div",{className:"FansMedalPanel-headerBg",__source:{fileName:HE,lineNumber:51},__self:this},vs.a.createElement("span",{className:"FansMedalPanel-headerText",__source:{fileName:HE,lineNumber:52},__self:this})),vs.a.createElement("div",{className:"FansMedalPanel-OwnerInfo",__source:{fileName:HE,lineNumber:54},__self:this},vs.a.createElement("div",{className:"MedalOwnerInfo-box",__source:{fileName:HE,lineNumber:55},__self:this},vs.a.createElement("div",{className:"MedalOwnerInfo-title",__source:{fileName:HE,lineNumber:56},__self:this},vs.a.createElement("span",{className:"FansMedalInfo-titleL",__source:{fileName:HE,lineNumber:57},__self:this},"\u5f53\u524d\u623f\u95f4\u5fbd\u7ae0"),vs.a.createElement("a",{onClick:function onClick(t){e.medalOperatServices.fansMedalDYSub("click_msg_fansbadge_more",e.medalOperatServices.returnFansMedalStatus()),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},className:"FansMedalInfo-titleR",target:"_blank",href:"http://www.douyu.com/t/fans",__source:{fileName:HE,lineNumber:58},__self:this},"\u4e86\u89e3\u7c89\u4e1d\u4f53\u7cfb")),vs.a.createElement(UE,{medalOperation:this.medalOperation.bind(this),__source:{fileName:HE,lineNumber:72},__self:this}))),vs.a.createElement("div",{className:"FansMedalPanel-list",__source:{fileName:HE,lineNumber:75},__self:this},vs.a.createElement("div",{className:"FansMedalList-box",__source:{fileName:HE,lineNumber:76},__self:this},vs.a.createElement("div",{className:"FansMedalList-title",__source:{fileName:HE,lineNumber:77},__self:this},vs.a.createElement("span",{className:"FansMedalInfo-titleL",__source:{fileName:HE,lineNumber:78},__self:this},"\u5176\u5b83\u5fbd\u7ae0"),vs.a.createElement("a",{onClick:function onClick(t){e.medalOperatServices.fansMedalDYSub("click_msg_fansbadge_sel_detail",e.medalOperatServices.returnFansMedalStatus()),t.stopPropagation(),t.nativeEvent.stopImmediatePropagation()},className:"FansMedalInfo-titleR",target:"_blank",href:"/member/cp/getFansBadgeList",__source:{fileName:HE,lineNumber:79},__self:this},"\u67e5\u770b\u5168\u90e8\u5fbd\u7ae0")),vs.a.createElement(zE,{medalOperation:this.medalOperation.bind(this),__source:{fileName:HE,lineNumber:93},__self:this})))):null)},ChatMsgMedalPanel}(vs.a.Component),xE=function MedalPanel_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(FE.prototype,"medalOperatServices",[IE],{enumerable:!0,initializer:null}),FE),qE=Object(dv.connect)(function mapStateToProps(e){return{isShowMedalPanel:e.isShowMedalPanel}})(KE),QE="/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalEnter.js";function MedalEnter_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalEnter_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var JE,YE,XE,ZE=(WE=(0,n.a.Service)(M),VE=function(e){function ChatMsgMedalContainer(){!function MedalEnter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatMsgMedalContainer);var t=function MedalEnter_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function MedalEnter_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"medalOperatService",$E,t),t.firstRender=0,t.isRemainNotWear=0,t}return MedalEnter_inherits(ChatMsgMedalContainer,e),ChatMsgMedalContainer.prototype.componentDidMount=function componentDidMount(){this.medalOperatService.initMedalService()},ChatMsgMedalContainer.prototype.componentDidUpdate=function componentDidUpdate(){var e=this.props.medalListMsgData,t=this.checkNowRoomWearStatus(e);0!==e.wareStatus&&this.medalOperatService.clearMedalDialog(1),this.isRemainNotWear||!t||this.firstRender||(this.isRemainNotWear=1,this.medalOperatService.addMedalDialog({dialogType:5,defaultShow:1,hoverShow:0,autoClear:5e3,medalData:t})),this.firstRender=1},ChatMsgMedalContainer.prototype.checkNowRoomWearStatus=function checkNowRoomWearStatus(e){return e&&0!==e.wareStatus&&e.medalList?e.medalList.filter(function(t){return t.medalRid===e.ownerRoomId&&e.wareMedalId!==e.ownerRoomId})[0]:null},ChatMsgMedalContainer.prototype.getEnterMedalConfig=function getEnterMedalConfig(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(+e.wareStatus){case 0:default:return{name:"\u672a\u62e5\u6709",lev:0};case 1:return{name:"\u672a\u4f69\u6234",lev:0};case 2:var t=e.medalList.filter(function(t){return t.medalRid===e.wareMedalId})[0];return{name:t.medalName||"\u7c89\u4e1d",lev:t.medalLev||0}}},ChatMsgMedalContainer.prototype.render=function render(){var e=this,t=this.props,r=t.medalListMsgData,i=t.toggleMedalPanel,n=this.getEnterMedalConfig(r);return vs.a.createElement("div",{className:"FansMedalPanel-enter",onMouseEnter:function onMouseEnter(){return i(1)},onMouseLeave:function onMouseLeave(){return i(0)},onClick:function onClick(){return e.medalOperatService.fansMedalDYSub("click_msg_fansbadge")},__source:{fileName:QE,lineNumber:83},__self:this},vs.a.createElement(qE,{medalStatus:r,toggleMedalPanel:i,__source:{fileName:QE,lineNumber:88},__self:this}),vs.a.createElement("div",{"data-medal-level":n.lev,className:["FansMedalEnter-enterContent","is-EnterMedal",2!==r.wareStatus?"is-NotWare":""].join(" "),__source:{fileName:QE,lineNumber:90},__self:this},vs.a.createElement("i",{className:"FansMedalEnter-enterIcon",__source:{fileName:QE,lineNumber:100},__self:this}),vs.a.createElement("p",{className:"FansMedalEnter-enterBg",__source:{fileName:QE,lineNumber:101},__self:this},n.name)))},ChatMsgMedalContainer}(vs.a.Component),$E=function MedalEnter_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(VE.prototype,"medalOperatService",[WE],{enumerable:!0,initializer:null}),VE),ek=Object(dv.connect)(function mapStateToProps(e){return{medalListMsgData:e.medalListMsgData}})(ZE),tk="/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalDialog/MedalDialogComponent.js";function MedalDialogComponent_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalDialogComponent_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var rk,ik,nk,ak=(JE=(0,n.a.Service)(M),YE=function(e){function MedalDialog(){!function MedalDialogComponent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalDialog);var t=function MedalDialogComponent_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function MedalDialogComponent_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"medalOperatServices",XE,t),t.clearTimer=0,t}return MedalDialogComponent_inherits(MedalDialog,e),MedalDialog.prototype.componentDidMount=function componentDidMount(){this.dialogConfig=this.props.dialogConfig},MedalDialog.prototype.componentWillUnmount=function componentWillUnmount(){},MedalDialog.prototype.medalOperation=function medalOperation(e,t){this.medalOperatServices.sendMedalMsg(e),6!==t.dialogType&&5!==t.dialogType||this.medalOperatServices.clearMedalDialog(t.dialogType)},MedalDialog.prototype.closeDialog=function closeDialog(e){this.medalOperatServices.clearMedalDialog(e)},MedalDialog.prototype.clearDialog=function clearDialog(e){var t=this;clearTimeout(this.clearTimer),this.clearTimer=setTimeout(function(){t.medalOperatServices.clearMedalDialog(e.dialogType)},e.autoClear)},MedalDialog.prototype.returnDesc=function returnDesc(e){var t=this;switch(parseInt(e.dialogType,10)){case 1:default:return vs.a.createElement("div",{className:"FansMedalDialog-desc",__source:{fileName:tk,lineNumber:47},__self:this},"\u4e3b\u64ad\u8fd8\u672a\u5f00\u901a\u7c89\u4e1d\u5fbd\u7ae0",vs.a.createElement("a",{onClick:function onClick(e){t.medalOperatServices.fansMedalDYSub("click_msg_fansbadge_more",t.medalOperatServices.returnFansMedalStatus()),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},href:"https://www.douyu.com/t/fans",target:"_blank",className:"FansMedalDialog-remainText",__source:{fileName:tk,lineNumber:49},__self:this},"\u4e86\u89e3\u66f4\u591a>>"));case 2:return vs.a.createElement("div",{className:"FansMedalDialog-desc",__source:{fileName:tk,lineNumber:66},__self:this},"\u606d\u559c\u60a8\u83b7\u5f97\u7c89\u4e1d\u5fbd\u7ae0\uff01");case 3:return vs.a.createElement("div",{className:"FansMedalDialog-desc",__source:{fileName:tk,lineNumber:72},__self:this},"\u60a8\u7684\u5fbd\u7ae0\u5df2\u8fbe\u5230\u4e0a\u965020\u4e2a\u3002",vs.a.createElement("a",{href:"/member/cp/getFansBadgeList",target:"_blank",className:"FansMedalDialog-remainText",__source:{fileName:tk,lineNumber:74},__self:this},"\u70b9\u51fb\u8bbe\u7f6e>>"));case 4:return vs.a.createElement("div",{className:"FansMedalDialog-desc",__source:{fileName:tk,lineNumber:80},__self:this},"\u5f53\u5929\u7d2f\u8ba1\u9001\u4e3b\u64ad\u4ef7\u503c6\u4e2a\u9c7c\u7fc5\u7684\u793c\u7269\u5373\u53ef\u83b7\u5f97Ta\u7684\u7c89\u4e1d\u5fbd\u7ae0\uff0c\u5e76\u83b7\u53d6\u7c89\u4e1d\u4e13\u5c5e\u793c\u5305\u3002",vs.a.createElement("a",{onClick:function onClick(e){t.medalOperatServices.fansMedalDYSub("click_msg_fansbadge_more",t.medalOperatServices.returnFansMedalStatus()),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},href:"https://www.douyu.com/t/fans",target:"_blank",className:"FansMedalDialog-remainText",__source:{fileName:tk,lineNumber:82},__self:this},"\u4e86\u89e3\u66f4\u591a>>"));case 5:return vs.a.createElement("div",{className:"FansMedalDialog-desc",__source:{fileName:tk,lineNumber:99},__self:this},vs.a.createElement("span",{className:"FansMedalDialog-text",__source:{fileName:tk,lineNumber:100},__self:this},"\u60a8\u5df2\u62e5\u6709\u8be5\u4e3b\u64ad\u5fbd\u7ae0"),vs.a.createElement(hD.a,{lev:e.medalData.medalLev,name:e.medalData.medalName,isVipFans:Boolean(+e.medalData.vipFan),url:this.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+e.medalData.medalRid,__source:{fileName:tk,lineNumber:101},__self:this}),vs.a.createElement("p",{className:"FansMedalDialog-wareMedal",onClick:function onClick(){return t.medalOperation({wareMedalId:e.medalData.medalRid,wareStatus:1},e)},__source:{fileName:tk,lineNumber:109},__self:this},"\u7acb\u5373\u4f69\u6234"));case 6:return vs.a.createElement("div",{className:"FansMedalDialog-FirstMedalTip",__source:{fileName:tk,lineNumber:121},__self:this},vs.a.createElement("span",{className:"FansMedalDialog-noticeIcon",__source:{fileName:tk,lineNumber:122},__self:this}),vs.a.createElement("span",{className:"FansMedalDialog-closeDialog",onClick:function onClick(){return t.closeDialog(e.dialogType)},__source:{fileName:tk,lineNumber:123},__self:this}),vs.a.createElement("div",{className:"FansMedalDialog-noticeBox",__source:{fileName:tk,lineNumber:128},__self:this},vs.a.createElement("dl",{className:"FansMedalDialog-dl",__source:{fileName:tk,lineNumber:129},__self:this},vs.a.createElement("dt",{className:"FansMedalDialog-dt",__source:{fileName:tk,lineNumber:130},__self:this},"\u606d\u559c\u60a8\u83b7\u5f97\uff1a",vs.a.createElement(hD.a,{lev:e.medalData.medalLev,name:e.medalData.medalName,isVipFans:Boolean(+e.medalData.vipFan),url:this.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+e.medalData.medalRid,__source:{fileName:tk,lineNumber:131},__self:this})),vs.a.createElement("dd",{__source:{fileName:tk,lineNumber:140},__self:this},"\u6bcf\u5929\u9001\u793c\u7269\u4f1a\u63d0\u5347\u7b49\u7ea7\u548c\u83b7\u5f97\u4e30\u539a\u7684\u793c\u5305\uff01"),vs.a.createElement("dd",{className:"FansMedalDialog-wearMedal",__source:{fileName:tk,lineNumber:141},__self:this},vs.a.createElement("a",{className:"FansMedalDialog-wearButton",onClick:function onClick(){return t.medalOperation({wareMedalId:e.medalData.medalRid,wareStatus:1},e)},__source:{fileName:tk,lineNumber:142},__self:this},"\u7acb\u5373\u4f69\u6234")))));case 7:return vs.a.createElement("div",{className:"MedalDialog-tip",__source:{fileName:tk,lineNumber:157},__self:this},vs.a.createElement("span",{className:"FansMedalDialog-closeDialog",onClick:function onClick(){return t.closeDialog(e.dialogType)},__source:{fileName:tk,lineNumber:158},__self:this}),vs.a.createElement("div",{className:"FansMedalDialog-noticeContent is-full",__source:{fileName:tk,lineNumber:163},__self:this},vs.a.createElement("span",{className:"FansMedalDialog-noticeIcon",__source:{fileName:tk,lineNumber:164},__self:this}),vs.a.createElement("div",{className:"FansMedalDialog-noticeBox",__source:{fileName:tk,lineNumber:165},__self:this},vs.a.createElement("p",{__source:{fileName:tk,lineNumber:166},__self:this},"\u4eb2\uff0c\u771f\u7ed9\u529b\uff0c\u5df2\u5237\u6ee1\u672c\u65e5\u4eb2\u5bc6\u5ea6!"))));case 8:return vs.a.createElement("div",{className:"MedalDialog-tip",__source:{fileName:tk,lineNumber:173},__self:this},vs.a.createElement("span",{className:"FansMedalDialog-closeDialog",onClick:function onClick(){return t.closeDialog(e.dialogType)},__source:{fileName:tk,lineNumber:174},__self:this}),vs.a.createElement("div",{className:"FansMedalDialog-noticeContent is-upgrade",__source:{fileName:tk,lineNumber:179},__self:this},vs.a.createElement("span",{className:"FansMedalDialog-noticeIcon",__source:{fileName:tk,lineNumber:180},__self:this}),vs.a.createElement("div",{className:"FansMedalDialog-noticeBox",__source:{fileName:tk,lineNumber:181},__self:this},vs.a.createElement("p",{__source:{fileName:tk,lineNumber:182},__self:this},"\u606d\u559c\u4f60\u53c8\u5347\u4e00\u7ea7\uff0c\u79bb\u4e3b\u64ad\u94c1\u7c89\u66f4\u8fd1\u4e00\u6b65!"))));case 9:return vs.a.createElement("div",{className:"MedalDialog-tip",__source:{fileName:tk,lineNumber:189},__self:this},vs.a.createElement("span",{className:"FansMedalDialog-closeDialog",onClick:function onClick(){return t.closeDialog(e.dialogType)},__source:{fileName:tk,lineNumber:190},__self:this}),vs.a.createElement("div",{className:"FansMedalDialog-noticeContent is-full",__source:{fileName:tk,lineNumber:195},__self:this},vs.a.createElement("span",{className:"FansMedalDialog-noticeIcon",__source:{fileName:tk,lineNumber:196},__self:this}),vs.a.createElement("div",{className:"FansMedalDialog-noticeBox",__source:{fileName:tk,lineNumber:197},__self:this},vs.a.createElement("p",{__source:{fileName:tk,lineNumber:198},__self:this},"\u606d\u559c\u4f60\u5347\u7ea7\u4e14\u5237\u6ee1\u4e86\u4eca\u5929\u7684\u4eb2\u5bc6\u5ea6!"))))}},MedalDialog.prototype.returnShowStatus=function returnShowStatus(e){var t=this.props.isShowMedalPanel;return e.defaultShow||t.status?{display:"block"}:{display:"none"}},MedalDialog.prototype.render=function render(){var e=this.props||this,t=e.dialogConfig,r=e.toggleMedalPanel;return t.autoClear&&this.clearDialog(t),vs.a.createElement("div",{className:["FansMedalDialog-normal",6===t.dialogType||7===t.dialogType||8===t.dialogType||9===t.dialogType?"is-big":""].join(" "),style:this.returnShowStatus(t),onMouseLeave:function onMouseLeave(){t.defaultShow||r(0)},onMouseEnter:function onMouseEnter(){t.defaultShow||r(1)},__source:{fileName:tk,lineNumber:228},__self:this},vs.a.createElement("i",{className:"FansMedalDialog-arrowIcon",__source:{fileName:tk,lineNumber:256},__self:this}),this.returnDesc(t))},MedalDialog}(vs.a.Component),XE=function MedalDialogComponent_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(YE.prototype,"medalOperatServices",[JE],{enumerable:!0,initializer:null}),YE),ok=Object(dv.connect)(function mapStateToProps(e){return{isShowMedalPanel:e.isShowMedalPanel}})(ak),lk=(r("8b3dc"),"/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalDialog/MedalDialogContainer.js");function MedalDialogContainer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function MedalDialogContainer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalDialogContainer_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var sk,ck,uk,pk,fk,dk=(rk=(0,n.a.Service)(M),ik=function(e){function MedalDialogContainer(){var t,r;!function MedalDialogContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalDialogContainer);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=MedalDialogContainer_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function MedalDialogContainer_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"medalOperatService",nk,r),MedalDialogContainer_possibleConstructorReturn(r,t)}return MedalDialogContainer_inherits(MedalDialogContainer,e),MedalDialogContainer.prototype.pushDialog=function pushDialog(e,t){var r=this;return e&&e.length?e.map(function(e,i){return vs.a.createElement(ok,{key:i,toggleMedalPanel:t,dialogConfig:e,__source:{fileName:lk,lineNumber:19},__self:r})}):null},MedalDialogContainer.prototype.render=function render(){var e=this.props,t=e.medalDialogStatus,r=e.toggleMedalPanel,i=this.pushDialog(t,r);return vs.a.createElement("div",{className:"FansMedalDialog",__source:{fileName:lk,lineNumber:28},__self:this},i)},MedalDialogContainer}(vs.a.Component),nk=function MedalDialogContainer_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(ik.prototype,"medalOperatService",[rk],{enumerable:!0,initializer:null}),ik),bk=Object(dv.connect)(function mapStateToProps(e){return{medalDialogStatus:e.medalDialogStatus}})(dk),mk=(r("3fc33"),"/shark/live/src/pages/roomPage/playerAsideModule/components/MedalDroppingPanel/MedalDroppingList.js");function MedalDroppingList_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function MedalDroppingList_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalDroppingList_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function MedalDroppingList_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var hk,vk,gk,yk=n.a.Service,_k=(sk=yk(ge),ck=yk(M),uk=function(e){function MedalDroppingList(){!function MedalDroppingList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalDroppingList);var t=function MedalDroppingList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return MedalDroppingList_initDefineProp(t,"medalDroppingServices",pk,t),MedalDroppingList_initDefineProp(t,"medalOperatServices",fk,t),t.state={remainStatus:0,medalDroppingList:[],medalDroppingClose:1,isNewDropping:0,newDroppingMedals:[],oldDroppingMedals:[]},t.isShowDropping=0,t}return MedalDroppingList_inherits(MedalDroppingList,e),MedalDroppingList.prototype.componentDidMount=function componentDidMount(){this.setState({remainStatus:this.medalDroppingServices.getRemainSwitchState()})},MedalDroppingList.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e.medalDroppingList,r=e.medalDroppingClose,i=this.medalDroppingServices.dealDroppingList(t),n=this.checkIsNewDroppingMedal(i),a=i.newDroppingMedals,o=i.oldDroppingMedals;this.isShowDropping&&r||this.setState({medalDroppingList:t,medalDroppingClose:r,isNewDropping:n,newDroppingMedals:a,oldDroppingMedals:o})},MedalDroppingList.prototype.checkIsNewDroppingMedal=function checkIsNewDroppingMedal(e){return e.newDroppingMedals.length>0&&e.oldDroppingMedals.length>0},MedalDroppingList.prototype.toggleNotRemainSwitch=function toggleNotRemainSwitch(){var e=parseInt(this.state.remainStatus,10)?0:1;!function setLocalStorage(e,t,r){C.DataCenter.localStorage.set(e,t,r)}(this.medalDroppingServices.returnRemainCacheFlag(),e),this.setState({remainStatus:e})},MedalDroppingList.prototype.render=function render(){var e=this,t=this.state,r=t.medalDroppingList,i=t.medalDroppingClose,n=t.isNewDropping,a=t.newDroppingMedals,o=t.oldDroppingMedals;return i&&r.length&&a.length?(this.isShowDropping=1,vs.a.createElement("div",{className:["FansMedalDropping-box",n?"is-newDropping":""].join(" "),__source:{fileName:mk,lineNumber:95},__self:this},vs.a.createElement("i",{className:"FansMedalDropping-close",onClick:function onClick(){return e.medalDroppingServices.medalDroppingClose()},__source:{fileName:mk,lineNumber:101},__self:this}),vs.a.createElement("div",{className:"FansMedalDropping-header",__source:{fileName:mk,lineNumber:106},__self:this},vs.a.createElement("div",{className:["FansMedalDropping-remainSwitch",this.state.remainStatus?"is-remain":""].join(" "),onClick:function onClick(){return e.toggleNotRemainSwitch()},__source:{fileName:mk,lineNumber:107},__self:this},vs.a.createElement("i",{className:"FansMedalDropping-switchIcon",__source:{fileName:mk,lineNumber:116},__self:this}),vs.a.createElement("span",{className:"FansMedalDropping-switchText",__source:{fileName:mk,lineNumber:117},__self:this},"\u4e0d\u518d\u63d0\u793a")),n?vs.a.createElement("div",{className:"FansMedalDropping-info",__source:{fileName:mk,lineNumber:122},__self:this},vs.a.createElement("h3",{className:"FansMedalDropping-h3Text",__source:{fileName:mk,lineNumber:123},__self:this},"\u597d\u5fc3\u75bc~\u60a8\u4eca\u5929",vs.a.createElement("span",{className:"FansMedalDropping-colorRemain",__source:{fileName:mk,lineNumber:125},__self:this},"\u53c8\u6709",a.length||r.length,"\u679a\u5fbd\u7ae0\u4eb2\u5bc6\u5ea6\u4e0b\u964d\u4e86"),"\u54df~")):vs.a.createElement("div",{className:"FansMedalDropping-info",__source:{fileName:mk,lineNumber:132},__self:this},vs.a.createElement("p",{className:"FansMedalDropping-headerPic",__source:{fileName:mk,lineNumber:133},__self:this}),vs.a.createElement("div",{className:"FansMedalDropping-desc",__source:{fileName:mk,lineNumber:134},__self:this},vs.a.createElement("h3",{className:"FansMedalDropping-h3Text",__source:{fileName:mk,lineNumber:135},__self:this},"\u597d\u5fc3\u75bc~"),vs.a.createElement("h3",{className:"FansMedalDropping-h3Text",__source:{fileName:mk,lineNumber:136},__self:this},"\u4f60\u4e0e",vs.a.createElement("span",{className:"FansMedalDropping-colorRemain",__source:{fileName:mk,lineNumber:138},__self:this},r.length,"\u4f4d\u4e3b\u64ad"),"\u7684\u4eb2\u5bc6\u5ea6",vs.a.createElement("span",{__source:{fileName:mk,lineNumber:141},__self:this},"\u6b63\u5728\u4e0b\u964d~")),vs.a.createElement("h5",{className:"FansMedalDropping-h5Text",__source:{fileName:mk,lineNumber:143},__self:this},"\u4eb2\u5bc6\u5ea6\u4e0b\u964d\u52300\u65f6\uff0c\u5c06\u4f1a\u5931\u53bb\u4e3b\u64ad\u7c89\u4e1d\u5fbd\u7ae0")))),vs.a.createElement("div",{className:"FansMedalDropping-content",__source:{fileName:mk,lineNumber:149},__self:this},vs.a.createElement(gs.Scrollbars,{autoHeight:!0,autoHeightMax:163,__source:{fileName:mk,lineNumber:150},__self:this},n?vs.a.createElement("div",{__source:{fileName:mk,lineNumber:154},__self:this},vs.a.createElement("ul",{className:"FansMedalDropping-list",__source:{fileName:mk,lineNumber:155},__self:this},a.map(function(t){return vs.a.createElement("li",{key:t.medalRid,className:"FansMedalDropping-listItem",__source:{fileName:mk,lineNumber:158},__self:e},vs.a.createElement("div",{className:"FansMedalDropping-medalInfo",__source:{fileName:mk,lineNumber:159},__self:e},vs.a.createElement(hD.a,{lev:t.medalLev,name:t.medalName,isVipFans:Boolean(+t.vipFan),url:e.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+t.medalRid,__source:{fileName:mk,lineNumber:160},__self:e}),vs.a.createElement("div",{className:"FansMedalDropping-valueInfo",__source:{fileName:mk,lineNumber:168},__self:e},vs.a.createElement("p",{className:"FansMedalDropping-expValue",__source:{fileName:mk,lineNumber:169},__self:e},vs.a.createElement("i",{className:"FansMedalDropping-expIcon",__source:{fileName:mk,lineNumber:170},__self:e}),vs.a.createElement("span",{__source:{fileName:mk,lineNumber:171},__self:e},t.todayExp))),vs.a.createElement("p",{className:"FansMedalDropping-score",__source:{fileName:mk,lineNumber:176},__self:e},"\u4eb2\u5bc6\u5ea6\u5269\u4f59\uff1a",vs.a.createElement("span",{__source:{fileName:mk,lineNumber:176},__self:e},t.allExp))),vs.a.createElement("a",{href:"/"+t.medalRid,target:"_blank",className:"FansMedalDropping-goRoom",__source:{fileName:mk,lineNumber:178},__self:e},"\u53bb\u76f4\u64ad\u95f4"))})),vs.a.createElement("p",{className:"FansMedalDropping-oldDropping",__source:{fileName:mk,lineNumber:185},__self:this},"\u4ee5\u4e0b\u5fbd\u7ae0\u7684\u4eb2\u5bc6\u5ea6\u6b63\u5728\u4e0b\u964d\uff0c\u8d76\u7d27\u9001\u793c\u7269\u5427~"),vs.a.createElement("ul",{className:"FansMedalDropping-list",__source:{fileName:mk,lineNumber:186},__self:this},o.map(function(t){return vs.a.createElement("li",{key:t.medalRid,className:"FansMedalDropping-listItem",__source:{fileName:mk,lineNumber:189},__self:e},vs.a.createElement("div",{className:"FansMedalDropping-medalInfo",__source:{fileName:mk,lineNumber:190},__self:e},vs.a.createElement(hD.a,{lev:t.medalLev,name:t.medalName,isVipFans:Boolean(+t.vipFan),url:e.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+t.medalRid,__source:{fileName:mk,lineNumber:191},__self:e}),vs.a.createElement("div",{className:"FansMedalDropping-valueInfo",__source:{fileName:mk,lineNumber:199},__self:e},vs.a.createElement("p",{className:"FansMedalDropping-expValue",__source:{fileName:mk,lineNumber:200},__self:e},vs.a.createElement("i",{className:"FansMedalDropping-expIcon",__source:{fileName:mk,lineNumber:201},__self:e}),vs.a.createElement("span",{__source:{fileName:mk,lineNumber:202},__self:e},t.todayExp))),vs.a.createElement("p",{className:"FansMedalDropping-score",__source:{fileName:mk,lineNumber:207},__self:e},"\u4eb2\u5bc6\u5ea6\u5269\u4f59\uff1a",vs.a.createElement("span",{__source:{fileName:mk,lineNumber:207},__self:e},t.allExp))),vs.a.createElement("a",{href:"/"+t.medalRid,target:"_blank",className:"FansMedalDropping-goRoom",__source:{fileName:mk,lineNumber:209},__self:e},"\u53bb\u76f4\u64ad\u95f4"))}))):vs.a.createElement("ul",{className:"FansMedalDropping-list",__source:{fileName:mk,lineNumber:219},__self:this},r.map(function(t){return vs.a.createElement("li",{key:t.medalRid,className:"FansMedalDropping-listItem",__source:{fileName:mk,lineNumber:222},__self:e},vs.a.createElement("div",{className:"FansMedalDropping-medalInfo",__source:{fileName:mk,lineNumber:223},__self:e},vs.a.createElement(hD.a,{lev:t.medalLev,name:t.medalName,isVipFans:Boolean(+t.vipFan),url:e.medalOperatServices.returnMedalConfigURL(),type:"normal",medalId:+t.medalRid,__source:{fileName:mk,lineNumber:224},__self:e}),vs.a.createElement("div",{className:"FansMedalDropping-valueInfo",__source:{fileName:mk,lineNumber:232},__self:e},vs.a.createElement("p",{className:"FansMedalDropping-expValue",__source:{fileName:mk,lineNumber:233},__self:e},vs.a.createElement("i",{className:"FansMedalDropping-expIcon",__source:{fileName:mk,lineNumber:234},__self:e}),vs.a.createElement("span",{__source:{fileName:mk,lineNumber:235},__self:e},t.todayExp))),vs.a.createElement("p",{className:"FansMedalDropping-score",__source:{fileName:mk,lineNumber:240},__self:e},"\u4eb2\u5bc6\u5ea6\u5269\u4f59\uff1a",vs.a.createElement("span",{__source:{fileName:mk,lineNumber:240},__self:e},t.allExp))),vs.a.createElement("a",{href:"/"+t.medalRid,target:"_blank",className:"FansMedalDropping-goRoom",__source:{fileName:mk,lineNumber:242},__self:e},"\u53bb\u76f4\u64ad\u95f4"))})))))):null},MedalDroppingList}(vs.a.Component),pk=MedalDroppingList_applyDecoratedDescriptor(uk.prototype,"medalDroppingServices",[sk],{enumerable:!0,initializer:null}),fk=MedalDroppingList_applyDecoratedDescriptor(uk.prototype,"medalOperatServices",[ck],{enumerable:!0,initializer:null}),uk),Sk=Object(dv.connect)(function mapStateToProps(e){return{medalDroppingList:e.medalDroppingList,medalDroppingClose:e.medalDroppingClose}})(_k),Nk=(r("bc903"),"/shark/live/src/pages/roomPage/playerAsideModule/components/MedalOperatPanel/MedalContainer.js");function MedalContainer_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function MedalContainer_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Ck=(hk=(0,n.a.Service)(M),vk=function(e){function MedalContainer(){!function MedalContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MedalContainer);var t=function MedalContainer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function MedalContainer_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"medalOperatService",gk,t),t.hoverTimer=0,t}return MedalContainer_inherits(MedalContainer,e),MedalContainer.prototype.toggleMedalPanel=function toggleMedalPanel(e){var t=this;clearTimeout(this.hoverTimer),e?this.medalOperatService.toggleMedalPanel({status:e}):this.hoverTimer=setTimeout(function(){t.medalOperatService.toggleMedalPanel({status:e})},200)},MedalContainer.prototype.render=function render(){return vs.a.createElement("div",{__source:{fileName:Nk,lineNumber:37},__self:this},vs.a.createElement("div",{className:"FansMedalPanel-container",__source:{fileName:Nk,lineNumber:38},__self:this},vs.a.createElement(bk,{toggleMedalPanel:this.toggleMedalPanel.bind(this),__source:{fileName:Nk,lineNumber:39},__self:this}),vs.a.createElement(ek,{toggleMedalPanel:this.toggleMedalPanel.bind(this),__source:{fileName:Nk,lineNumber:40},__self:this})),vs.a.createElement(Sk,{toggleMedalPanel:this.toggleMedalPanel.bind(this),__source:{fileName:Nk,lineNumber:42},__self:this}))},MedalContainer}(vs.a.Component),gk=function MedalContainer_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(vk.prototype,"medalOperatService",[hk],{enumerable:!0,initializer:null}),vk),Ok="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatSpeak/ChatSpeak.js";function ChatSpeak_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatSpeak_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var wk,Dk,Ek,kk,Rk=function(e){function ChatSpeak(){return function ChatSpeak_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatSpeak),function ChatSpeak_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return ChatSpeak_inherits(ChatSpeak,e),ChatSpeak.prototype.render=function render(){return vs.a.createElement("div",{className:"ChatSpeak",__source:{fileName:Ok,lineNumber:17},__self:this},vs.a.createElement(Ck,{__source:{fileName:Ok,lineNumber:18},__self:this}),vs.a.createElement(kE,{__source:{fileName:Ok,lineNumber:19},__self:this}))},ChatSpeak}(vs.a.Component),jk=(r("88060"),"/shark/live/src/pages/roomPage/playerAsideModule/components/Emotion/EmotionList.js");function EmotionList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function EmotionList_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EmotionList_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Pk,Tk=n.a.Service,Bk={douyu:nc.a,lushi:nc.b},Mk=(wk=Tk(Di.a),Object(ye.log)((Ek=function(e){function EmotionList(){var t,r;!function EmotionList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionList);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=EmotionList_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function EmotionList_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatSendServices",kk,r),r.handleClickEmotionRel=function(e,t){if(!Ds.a.check())return Ds.a.show(),void e.stopPropagation();var i="dy"+t;r.chatSendServices.appendFaceCode(i),Object(O.dysub)("click_msg_look",{code:i})},EmotionList_possibleConstructorReturn(r,t)}return EmotionList_inherits(EmotionList,e),EmotionList.prototype.handleGotoTopic=function handleGotoTopic(e){e.stopPropagation(),Object(O.dysub)("click_go_to_BlizzardtvHS")},EmotionList.prototype.genEmotionListCon=function genEmotionListCon(){var e=this,t=this.props,r=t.currentEmotTab,i=void 0===r?"":r,n=t.emotionData,a=(void 0===n?{}:n).lushiStatusCode,o=window.location,l=void 0===o?{}:o;return"lushi"===i&&0!==a?vs.a.createElement("div",{className:"EmotionList-lushiProm",__source:{fileName:jk,lineNumber:58},__self:this},vs.a.createElement("i",{className:"EmotionList-lushiProm-img",__source:{fileName:jk,lineNumber:59},__self:this}),vs.a.createElement("span",{className:"EmotionList-lushiProm-info",__source:{fileName:jk,lineNumber:60},__self:this},"\u672a\u83b7\u5f97"),"/topic/BlizzardtvHS"===l.pathname?vs.a.createElement("a",{className:"EmotionList-lushiProm-btn",href:"#giftCtr",target:"_self",onClick:this.handleGotoTopic.bind(this),__source:{fileName:jk,lineNumber:63},__self:this},"\u524d\u5f80\u83b7\u5f97"):vs.a.createElement("a",{className:"EmotionList-lushiProm-btn",href:"//www.douyu.com/topic/BlizzardtvHS",target:"_blank",onClick:this.handleGotoTopic.bind(this),__source:{fileName:jk,lineNumber:70},__self:this},"\u524d\u5f80\u83b7\u5f97")):vs.a.createElement("div",{className:"EmotionList-con",style:{top:this.props.top+"px"},__source:{fileName:jk,lineNumber:83},__self:this},Bk[i].map(function(t,r){var i=(r+7)%42>=0&&(r+7)%42<7?"is-emBBN":"";return vs.a.createElement("em",{className:"EmotionList-item "+((r+1)%7===0?"is-emBRN":"")+" "+i,key:t.id,title:t.title,onClick:function onClick(r){e.handleClickEmotionRel(r,t.id)},__source:{fileName:jk,lineNumber:89},__self:e},vs.a.createElement("img",{src:t.url,__source:{fileName:jk,lineNumber:96},__self:e}))}))},EmotionList.prototype.render=function render(){return vs.a.createElement("div",{className:"EmotionList",__source:{fileName:jk,lineNumber:106},__self:this},this.genEmotionListCon())},EmotionList}(vs.a.Component),kk=function EmotionList_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Ek.prototype,"chatSendServices",[wk],{enumerable:!0,initializer:null}),Dk=Ek))||Dk),Lk="/shark/live/src/pages/roomPage/playerAsideModule/components/Emotion/EmotionScroller.js";function EmotionScroller_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EmotionScroller_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var zk=Object(ye.log)(Pk=function(e){function EmotionScroller(){!function EmotionScroller_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionScroller);var t=function EmotionScroller_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={},t}return EmotionScroller_inherits(EmotionScroller,e),EmotionScroller.prototype.onClickHandler=function onClickHandler(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},EmotionScroller.prototype.handleArrowClick=function handleArrowClick(e){var t=this.props,r=t.showScroll,i=t.handleArrowClick,handleArrowClick=void 0===i?function(){}:i;r&&handleArrowClick(e)},EmotionScroller.prototype.render=function render(){var e=["EmotionScroller-facepage",this.props.statusUp?"is-up":"",this.props.statusDown?"is-down":""].join(" "),t=this.props.showScroll;return vs.a.createElement("div",{className:"EmotionScroller",onClick:this.onClickHandler,__source:{fileName:Lk,lineNumber:47},__self:this},t?vs.a.createElement("div",{className:"EmotionScroller-track",__source:{fileName:Lk,lineNumber:50},__self:this},vs.a.createElement("div",{className:"EmotionScroller-thumb",style:{top:this.props.tops+"px"},__source:{fileName:Lk,lineNumber:51},__self:this},vs.a.createElement("div",{className:e,style:{display:""+this.props.showPage},__source:{fileName:Lk,lineNumber:52},__self:this},vs.a.createElement("div",{className:"EmotionScroller-pagenum",__source:{fileName:Lk,lineNumber:54},__self:this},this.props.pagenum+"/2")))):null,vs.a.createElement("div",{className:"EmotionScroller-up",onClick:this.handleArrowClick.bind(this,-1),__source:{fileName:Lk,lineNumber:60},__self:this}),vs.a.createElement("div",{className:"EmotionScroller-down",onClick:this.handleArrowClick.bind(this,1),__source:{fileName:Lk,lineNumber:61},__self:this}))},EmotionScroller}(vs.a.Component))||Pk;zk.propTypes={chatToolbar:pv.PropTypes.object};var Ak,Ik,Fk,xk,Gk=Object(dv.connect)(function mapStateToProps(e){return{chatToolbar:e.chatToolbar}})(zk),Uk=r("76531"),Hk=r.n(Uk),Wk=r("e4ba7"),Vk=r.n(Wk),$k=[{url:Hk.a,key:"douyu",desc:"\u6597\u9c7c\u8868\u60c5\u5305",showScroll:!0,needLogin:!1},{url:Vk.a,key:"lushi",desc:"\u7089\u77f3\u8868\u60c5\u5305",showScroll:!1,needLogin:!0}],Kk="/shark/live/src/pages/roomPage/playerAsideModule/components/Emotion/EmotionTab.js";function EmotionTab_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function EmotionTab_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EmotionTab_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var qk=!1,Qk=(Ak=(0,n.a.Service)(ya),Object(ye.log)((Fk=function(e){function EmotionTab(){var t,r;!function EmotionTab_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionTab);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=EmotionTab_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function EmotionTab_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"emotionServices",xk,r),EmotionTab_possibleConstructorReturn(r,t)}return EmotionTab_inherits(EmotionTab,e),EmotionTab.prototype.componentDidMount=function componentDidMount(){qk||(this.emotionServices.getLushiEmotStatus(),qk=!0)},EmotionTab.prototype.emotTabClick=function emotTabClick(e,t){var r=this.props.changeEmotTab,i=void 0===r?function(){}:r,n=e.key,a=e.showScroll,o=e.needLogin;Object(O.dysub)("click_emot_tab",{tab:n}),t.stopPropagation(),!o||Ds.a.check()?i(n,a):Ds.a.show()},EmotionTab.prototype.hanleFilterEmotTab=function hanleFilterEmotTab(){var e=this.props.emotionData,t=(void 0===e?{}:e).lushiStatusCode;return $k.filter(function(e){return"lushi"!==e.key||(5005===t||0===t)})},EmotionTab.prototype.render=function render(){var e=this,t=this.props.currentEmotTab,r=void 0===t?"":t,i=this.hanleFilterEmotTab();return vs.a.createElement("ul",{className:"EmotionTab",__source:{fileName:Kk,lineNumber:75},__self:this},i.map(function(t){return vs.a.createElement("li",{className:"EmotionTab-item "+(r===t.key?"is-active":""),key:t.key,onClick:e.emotTabClick.bind(e,t),__source:{fileName:Kk,lineNumber:78},__self:e},vs.a.createElement("img",{className:"EmotionTab-img EmotionTab-img--"+t.key,src:t.url,__source:{fileName:Kk,lineNumber:83},__self:e}))}))},EmotionTab}(vs.a.Component),xk=function EmotionTab_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Fk.prototype,"emotionServices",[Ak],{enumerable:!0,initializer:null}),Ik=Fk))||Ik);Qk.propTypes={currentEmotTab:pv.PropTypes.string,emotionData:pv.PropTypes.object,changeEmotTab:pv.PropTypes.func};var Jk,Yk=Qk,Xk="/shark/live/src/pages/roomPage/playerAsideModule/components/Emotion/Emotion.js";function Emotion_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Emotion_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var Zk=Object(ye.log)(Jk=function(e){function Emotion(){!function Emotion_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Emotion);var t=function Emotion_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={top:0,tops:10,pagenum:1,showPage:"none",statusUp:0,statusDown:0,emotTab:"douyu",showScroll:!0},t.handleWheel=t.handleWheel.bind(t),t.handleArrowClick=t.handleArrowClick.bind(t),t}return Emotion_inherits(Emotion,e),Emotion.prototype.handleChangeEmotTab=function handleChangeEmotTab(e,t){var r=this;this.setState({emotTab:e,showScroll:t},function(){r.handleArrowClick(-1)})},Emotion.prototype.handleWheel=function handleWheel(e){if(this.state.showScroll){var t=e.deltaY;e.preventDefault(),this.handleArrowClick(t)}},Emotion.prototype.handleArrowClick=function handleArrowClick(e){e>0?this.setState({top:-257,tops:128,pagenum:2,showPage:"block",statusUp:0,statusDown:1}):e<0&&this.setState({top:0,tops:10,pagenum:1,showPage:"block",statusUp:1,statusDown:0})},Emotion.prototype.render=function render(){var e=this.props,t=e.isOpen,r=e.emotionData,i=void 0===r?{}:r;return t&&vs.a.createElement("div",{className:"Emotion",onWheel:this.handleWheel,__source:{fileName:Xk,lineNumber:83},__self:this},vs.a.createElement("div",{className:"Emotion-container",__source:{fileName:Xk,lineNumber:84},__self:this},vs.a.createElement(Gk,{tops:this.state.tops,showPage:this.state.showPage,statusUp:this.state.statusUp,statusDown:this.state.statusDown,pagenum:this.state.pagenum,showScroll:this.state.showScroll,handleArrowClick:this.handleArrowClick,__source:{fileName:Xk,lineNumber:85},__self:this}),vs.a.createElement(Mk,{top:this.state.top,currentEmotTab:this.state.emotTab,emotionData:i,__source:{fileName:Xk,lineNumber:89},__self:this}),vs.a.createElement(Yk,{currentEmotTab:this.state.emotTab,changeEmotTab:this.handleChangeEmotTab.bind(this),emotionData:i,__source:{fileName:Xk,lineNumber:94},__self:this})))},Emotion}(vs.a.Component))||Jk;Zk.propTypes={};var eR,tR,rR,iR,nR,aR,oR,lR=Object(dv.connect)(function mapStateToProps(e){return{emotionData:e.emotionData}})(Zk);function chatToolBarServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function chatToolBarServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function chatToolBarServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatToolBarServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function chatToolBarServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var sR,cR,uR,pR,fR=n.a.Store,dR=n.a.Service,bR=w.a.socketStream,mR=(eR=dR(C.DataCenter.global),tR=dR(C.DataCenter.localStorage),rR=fR(),iR=function(e){function ChatToolBarServices(){var t,r;!function chatToolBarServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatToolBarServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=chatToolBarServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),chatToolBarServices_initDefineProp(r,"global",nR,r),chatToolBarServices_initDefineProp(r,"localStorage",aR,r),chatToolBarServices_initDefineProp(r,"store",oR,r),r.config={storageName:"room-fansBarrageColor",defaultBarrageColor:{index:0,color:0,status:1,level:0},receiveSummerReward:!1},chatToolBarServices_possibleConstructorReturn(r,t)}return chatToolBarServices_inherits(ChatToolBarServices,e),ChatToolBarServices.prototype.openLetter=function openLetter(e){this.store.dispatch(Ko.openLetter(e))},ChatToolBarServices.prototype.openFace=function openFace(e){this.store.dispatch(Ko.openFace(e))},ChatToolBarServices.prototype.openFansBarrageBox=function openFansBarrageBox(e){this.store.dispatch(Ko.openFansBarrageBox(e))},ChatToolBarServices.prototype.sendSelectedIndex=function sendSelectedIndex(){this.store.dispatch(Ko.sendSelectedIndex())},ChatToolBarServices.prototype.observerFansBarrage=function observerFansBarrage(){var e=this;bR.subscribe("adp",function(t){if((new Date).getTime()<1e3*t.cdt){var r=[{index:0,color:0,status:1,level:0},{index:1,color:2,status:1,level:6},{index:2,color:3,status:1,level:9},{index:3,color:6,status:1,level:12},{index:4,color:4,status:1,level:15},{index:5,color:5,status:1,level:18},{index:6,color:1,status:1,level:21}];e.config.receiveSummerReward=!0,e.store.dispatch(Ko.observerFansBarrage({list:r,selectedIndex:6,color:r[6]&&r[6].color,receiveSummerReward:!0}))}}),bR.subscribe("fdm",function(t){if(t.list&&!e.config.receiveSummerReward){var r=Ud.a.isArray(t.list)?Ud.a.decode(t.list):[{value:t.list}],i={},n=[],a=e.config,o=a.storageName,l=a.defaultBarrageColor,s=e.localStorage.get(o),c=0,u=void 0;n[0]=l,r.forEach(function(e,t){if(e&&e.value){var r=Ud.a.decode(e.value).too(),a=t+1,o={index:a,color:parseInt(r.col,10),status:parseInt(r.ul,10),level:parseInt(r.ubl,10)};1===o.status&&(u=a,i[o.color]=o),n[a]=o}}),i[l.color]=l,i[s]?c=i[s].index:null===s&&(c=u),(e.store.getState().nobleBarrageData.isNobleBarrage?1:0)?e.store.dispatch(Ko.observerFansBarrage({list:n,selectedIndex:0,color:0,receiveSummerReward:!1})):e.store.dispatch(Ko.observerFansBarrage({list:n,selectedIndex:c,color:n[c]&&n[c].color,receiveSummerReward:!1}))}})},ChatToolBarServices.prototype.updateColor=function updateColor(e,t){this.store.dispatch(Ko.sendSelectedIndex({selectedIndex:e,color:t}))},ChatToolBarServices.prototype.updateCampColor=function updateCampColor(e,t){this.store.dispatch(Ko.updateCampColor({color:e,colorValue:t}))},ChatToolBarServices.prototype.setStorage=function setStorage(e){this.localStorage.set(this.config.storageName,e,2592e3)},ChatToolBarServices.prototype.closeFansBarrage=function closeFansBarrage(){this.store.dispatch(Ko.closeFansBarrage())},ChatToolBarServices}(f.Service),nR=chatToolBarServices_applyDecoratedDescriptor(iR.prototype,"global",[eR],{enumerable:!0,initializer:null}),aR=chatToolBarServices_applyDecoratedDescriptor(iR.prototype,"localStorage",[tR],{enumerable:!0,initializer:null}),oR=chatToolBarServices_applyDecoratedDescriptor(iR.prototype,"store",[rR],{enumerable:!0,initializer:null}),iR);function ChatEmotionBtn_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatEmotionBtn_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var hR,vR=(sR=(0,n.a.Service)(mR),Object(ye.log)((uR=function(e){function EmotionSwitcher(){!function ChatEmotionBtn_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EmotionSwitcher);var t=function ChatEmotionBtn_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function ChatEmotionBtn_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"chatToolBarService",pR,t),t.state={},t}return ChatEmotionBtn_inherits(EmotionSwitcher,e),EmotionSwitcher.prototype.render=function render(){return vs.a.createElement("div",{className:"EmotionSwitcher",title:"\u8868\u60c5",__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/Emotion/ChatEmotionBtn.js",lineNumber:26},__self:this})},EmotionSwitcher}(vs.a.Component),pR=function ChatEmotionBtn_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(uR.prototype,"chatToolBarService",[sR],{enumerable:!0,initializer:null}),cR=uR))||cR),gR="/shark/live/src/pages/roomPage/playerAsideModule/components/Emotion/ChatEmotion.js";function ChatEmotion_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatEmotion_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var yR,_R,SR,NR,CR,OR,wR,DR,ER=Object(ye.log)(hR=function(e){function ChatEmotion(){!function ChatEmotion_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatEmotion);var t=function ChatEmotion_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={isOpen:!1},t.openFace=t.openFace.bind(t),t}return ChatEmotion_inherits(ChatEmotion,e),ChatEmotion.prototype.openFace=function openFace(){this.setState({isOpen:!this.state.isOpen})},ChatEmotion.prototype.render=function render(){return vs.a.createElement("div",{className:"ChatEmotion",onClick:this.openFace,__source:{fileName:gR,lineNumber:31},__self:this},vs.a.createElement(vR,{__source:{fileName:gR,lineNumber:32},__self:this}),vs.a.createElement(lR,{isOpen:this.state.isOpen,__source:{fileName:gR,lineNumber:33},__self:this}))},ChatEmotion}(vs.a.Component))||hR,kR=(r("81833"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),RR="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatLetter/ChatLetterBtn.js";function ChatLetterBtn_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatLetterBtn_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatLetterBtn_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatLetterBtn_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var jR,PR=n.a.Service,TR=(yR=PR(mR),_R=PR(C.DataCenter.common),SR=PR(C.DataCenter.global),Object(ye.log)((CR=function(e){function ChatLetterBtn(){!function ChatLetterBtn_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatLetterBtn);var t=function ChatLetterBtn_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return ChatLetterBtn_initDefineProp(t,"chatToolBarService",OR,t),ChatLetterBtn_initDefineProp(t,"common",wR,t),ChatLetterBtn_initDefineProp(t,"global",DR,t),t.state={},t}return ChatLetterBtn_inherits(ChatLetterBtn,e),ChatLetterBtn.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("PrivateLetter").subscribe(function(t){e.setState(kR({},t))})},ChatLetterBtn.prototype.open=function open(){if(!Ds.a.check())return Ds.a.show(),!1;var e={isShow:1};return this.common.push("PrivateLetter",e),this.setState(e),!1},ChatLetterBtn.prototype.render=function render(){var e=this,t=parseInt(this.state.unread,10)?this.state.unread:0,r=t>99?"99+":t,i=t>0;return vs.a.createElement("a",{className:"ChatLetter-Btn",title:"\u53d1\u7ad9\u5185\u4fe1",onClick:function onClick(){return e.open()},__source:{fileName:RR,lineNumber:67},__self:this},vs.a.createElement("span",{className:"ChatLetter-BtnHolder",__source:{fileName:RR,lineNumber:68},__self:this}),i&&vs.a.createElement("span",{className:"ChatLetter-PopUnread",__source:{fileName:RR,lineNumber:70},__self:this},r))},ChatLetterBtn}(vs.a.Component),OR=ChatLetterBtn_applyDecoratedDescriptor(CR.prototype,"chatToolBarService",[yR],{enumerable:!0,initializer:null}),wR=ChatLetterBtn_applyDecoratedDescriptor(CR.prototype,"common",[_R],{enumerable:!0,initializer:null}),DR=ChatLetterBtn_applyDecoratedDescriptor(CR.prototype,"global",[SR],{enumerable:!0,initializer:null}),NR=CR))||NR),BR="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatLetter/ChatLetter.js";function ChatLetter_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatLetter_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var MR,LR,zR,AR,IR,FR,xR,GR,UR,HR=Object(ye.log)(jR=function(e){function ChatLetter(){return function ChatLetter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatLetter),function ChatLetter_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return ChatLetter_inherits(ChatLetter,e),ChatLetter.prototype.render=function render(){return vs.a.createElement("div",{className:"ChatLetter",__source:{fileName:BR,lineNumber:17},__self:this},vs.a.createElement(TR,{__source:{fileName:BR,lineNumber:18},__self:this}))},ChatLetter}(vs.a.Component))||jR;function horn4CategoryServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function horn4CategoryServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function horn4CategoryServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function horn4CategoryServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function horn4CategoryServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var WR,VR,$R,KR,qR,QR,JR,YR,XR,ZR,ej,tj,rj,ij,nj,aj,oj=w.a.socketStream,lj=w.a.socketProxy,sj=n.a.Service,cj=n.a.Store,uj=(MR=sj(C.DataCenter.global),LR=sj(C.DataCenter.common),zR=sj(C.DataCenter.localStorage),AR=cj(),IR=function(e){function Horn4CategoryServices(){var t,r;!function horn4CategoryServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Horn4CategoryServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=horn4CategoryServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),horn4CategoryServices_initDefineProp(r,"global",FR,r),horn4CategoryServices_initDefineProp(r,"common",xR,r),horn4CategoryServices_initDefineProp(r,"localStorage",GR,r),horn4CategoryServices_initDefineProp(r,"store",UR,r),r.config={propId:43,storageName:"room-horn4Category"},r.leadTipShowState=0,r.tipTimer=null,r.hideResultTimer=null,horn4CategoryServices_possibleConstructorReturn(r,t)}return horn4CategoryServices_inherits(Horn4CategoryServices,e),Horn4CategoryServices.prototype.init=function init(){var e=this;this.localStorage.get(this.config.storageName)||(this.leadTipShowState=1,this.localStorage.set(this.config.storageName,1));var t=this.handleMute.bind(this);this.common.get("$DATA").subscribe(function(t){e.$ROOM=t.room||{}}),oj.subscribe("cdcp",this.handleCount.bind(this)),oj.subscribe("cthnsn",this.handleMode.bind(this)),oj.subscribe("ntmet",t),oj.subscribe("muteinfo",t),oj.subscribe("memberinfores",this.handleNoble.bind(this)),oj.subscribe("cthnres",this.handleHornResponse.bind(this))},Horn4CategoryServices.prototype.handleCount=function handleCount(e){if("hpid"in e){var t=parseInt(e.hcnt,10)||0,r=0;e.hpid&&(this.config.propId=e.hpid),t>0&&this.leadTipShowState&&(r=1,this.leadTipShowState=0),this.store.dispatch(go.setHornCount({count:t,leadTipShowState:r}))}},Horn4CategoryServices.prototype.handleMode=function handleMode(e){var t=this,r={mode:0,btnType:0,checkingCont:"",showTip:0};"1"===e.hm&&(r.mode=1,r.btnType=1,"1"===e.hs?r.btnType=2:"2"===e.hs&&(r.btnType=3,r.errorStatus=1,r.showTip=1,clearTimeout(this.tipTimer),this.tipTimer=setTimeout(function(){t.store.dispatch(go.setMode({showTip:2}))},5e3)),e.hc&&(r.checkingCont=e.hc)),this.store.dispatch(go.setMode(r))},Horn4CategoryServices.prototype.handleMute=function handleMute(e){var t=e.mtype;e.met>2&&t>0&&this.store.dispatch(go.setMute(e))},Horn4CategoryServices.prototype.handleNoble=function handleNoble(e){var t=parseInt(e.npts,10)||0,r=parseInt(e.nl,10)||0,i=parseInt(e.npl,10)||0,n=0;r>0&&(r<3||7===r)?n=1:t>0&&(n=i<3||7===i?1:2),this.store.dispatch(go.setNobleStatus({openType:n,nobleLevel:r,nobleProtectLevel:i}))},Horn4CategoryServices.prototype.handleHornResponse=function handleHornResponse(e){var t=1,r="",i=0;switch(e.result){case"5820":t=3,r="\u7cfb\u7edf\u7ef4\u62a4\uff0c\u53d1\u9001\u5931\u8d25",i=0;break;case"356":t=2,r="\u53d1\u9001\u5185\u5bb9\u5305\u542b\u654f\u611f\u8bcd\u6c47",i=1;break;case"0":t=0,r="\u53d1\u9001\u6210\u529f",i=1;break;default:t=1,r="\u53d1\u9001\u5931\u8d25",i=1}var n=(this.store.getState().horn4CategoryData||{}).mode;this.store.dispatch(go.handleHornResponse({errorStatus:t,statusTxt:r,btnType:1===n?1:0})),i&&this.delayHideResultTip()},Horn4CategoryServices.prototype.setChecking=function setChecking(){this.store.dispatch(go.handleHornResponse({errorStatus:4,statusTxt:"2-3\u5206\u949f\u540e\u5b8c\u6210\u5ba1\u6838"}))},Horn4CategoryServices.prototype.delayHideResultTip=function delayHideResultTip(){var e=this;this.hideResultTimer&&clearTimeout(this.hideResultTimer),this.hideResultTimer=setTimeout(function(){e.store.dispatch(go.handleHornResponse({errorStatus:-1,statusTxt:""}))},3e3)},Horn4CategoryServices.prototype.sendHorn=function sendHorn(e){var t=this.$ROOM||{},r=t.room_id,i=t.cate_id,n={type:"cthnreq",chatmsg:e.trim(),cid:i,rid:r,pid:this.config.propId,uid:this.global.get("USER_INFO.uid"),cl:2};lj.sendMessage(n)},Horn4CategoryServices}(f.Service),FR=horn4CategoryServices_applyDecoratedDescriptor(IR.prototype,"global",[MR],{enumerable:!0,initializer:null}),xR=horn4CategoryServices_applyDecoratedDescriptor(IR.prototype,"common",[LR],{enumerable:!0,initializer:null}),GR=horn4CategoryServices_applyDecoratedDescriptor(IR.prototype,"localStorage",[zR],{enumerable:!0,initializer:null}),UR=horn4CategoryServices_applyDecoratedDescriptor(IR.prototype,"store",[AR],{enumerable:!0,initializer:null}),IR),pj=(r("993ee"),"/shark/live/src/pages/roomPage/playerAsideModule/components/Horn4Category/Horn4Category.js");function Horn4Category_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function Horn4Category_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Horn4Category_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function Horn4Category_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var fj,dj="//webconf.douyucdn.cn/",bj=n.a.Service,mj=n.a.Store,hj=(WR=bj(Ns.a),VR=bj(uj),$R=bj(BC),KR=bj(mR),qR=bj(C.DataCenter.common),QR=bj(C.DataCenter.localStorage),JR=mj(),YR=Object(O.dys)("click_msg_horn"),XR=function(e){function Horn4Category(){!function Horn4Category_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Horn4Category);var t=function Horn4Category_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return Horn4Category_initDefineProp(t,"nobleBuyModalServices",ZR,t),Horn4Category_initDefineProp(t,"horn4CategoryServices",ej,t),Horn4Category_initDefineProp(t,"nobleReminderService",tj,t),Horn4Category_initDefineProp(t,"chatToolBarService",rj,t),Horn4Category_initDefineProp(t,"common",ij,t),Horn4Category_initDefineProp(t,"localStorage",nj,t),Horn4Category_initDefineProp(t,"store",aj,t),t.config={cdTime:3,btnTxts:["\u53d1\u9001","\u63d0\u4ea4","\u5ba1\u6838\u4e2d","\u63d0\u4ea4"],nobleActionTxts:["\u5f00\u901a","\u5347\u7ea7","\u7eed\u8d39"]},t.tipTimer=null,t.state={isShowTipResult:0,tipCont:"",isLeadTipHide:0,maxLength:20,popShowState:0,wordCount:0,cdTime:0,value:""},t.setPopShowState=t.setPopShowState.bind(t),t.handleIconClick=t.handleIconClick.bind(t),t.hideLeadTip=t.hideLeadTip.bind(t),t.showSiteLetter=t.showSiteLetter.bind(t),t.handleInputorChange=t.handleInputorChange.bind(t),t.handleSend=t.handleSend.bind(t),t.handleOpenNoble=t.handleOpenNoble.bind(t),t.intervalStream=new db.Subject,C.jsonpClient.get(String,dj+"/resource/common/noble/setNobleHorn.json","setNobleHorn").subscribe(function(e){t.config.cdTime=e.cd}),t}return Horn4Category_inherits(Horn4Category,e),Horn4Category.prototype.setPopShowState=function setPopShowState(){Ds.a.check()?(this.state.popShowState?this.setState({popShowState:0}):this.setState({popShowState:1}),this.hideLeadTip()):Ds.a.show()},Horn4Category.prototype.handleIconClick=function handleIconClick(){this.setPopShowState()},Horn4Category.prototype.hideLeadTip=function hideLeadTip(){this.setState({isLeadTipHide:1})},Horn4Category.prototype.showSiteLetter=function showSiteLetter(){this.chatToolBarService.openLetter(1)},Horn4Category.prototype.handleInputorChange=function handleInputorChange(e){var t=e.target.value;this.setState({value:t,wordCount:t.length})},Horn4Category.prototype.clear=function clear(){this.setState({wordCount:0,value:""})},Horn4Category.prototype.handleSend=function handleSend(e){if(13===e.which||"click"===e.type){e.preventDefault();var t=this.getBtnEnableType(),r=Ds.a.check();if((1===t||0===t)&&!r)return void Ds.a.show();if(1===t)this.nobleReminderService.openNobleReminder(),this.nobleReminderService.updateNobleReminderType(3);else if(0===t){var i=this.props.horn4CategoryData.mode;this.horn4CategoryServices.sendHorn(this.state.value),1===i&&(this.horn4CategoryServices.setChecking(),this.setState({popShowState:0,isShowTipResult:1,tipCont:"\u5ba1\u6838\u6210\u529f\u540e\uff0c\u5c06\u76f4\u63a5\u53d1\u9001"}),this.delayHideSendTip())}}},Horn4Category.prototype.delayHideSendTip=function delayHideSendTip(){var e=this;clearTimeout(this.tipTimer),this.tipTimer=setTimeout(function(){e.setState({isShowTipResult:0,tipCont:""})},5e3)},Horn4Category.prototype.getBtnEnableType=function getBtnEnableType(){var e=this.props.horn4CategoryData,t=e.count,r=e.muteType,i=e.btnType,n=this.state,a=n.cdTime,o=n.value;return r>-1||2===i||!o.length||a>0?-1:t?0:1},Horn4Category.prototype.componentDidMount=function componentDidMount(){var e=this;this.horn4CategoryServices.init(),this.intervalStream.subscribe(function(t){e.interval(t)}),this.common.get("$DATA").subscribe(function(t){e.setState({cateName:t.get("game.tag_name")})})},Horn4Category.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e.horn4CategoryData,r=t.checkingCont,i=t.errorStatus,n=this.props.horn4CategoryData||{},a=n.checkingCont,o=n.errorStatus;r&&a!==r&&this.setState({value:r,wordCount:r.length}),0===i&&o!==i&&(this.clear(),this.intervalStream.next(this.config.cdTime))},Horn4Category.prototype.handleOpenNoble=function handleOpenNoble(){var e=this.store.getState().horn4CategoryData||{},t=e.openType,r=e.nobleLevel;0===t||1===t?Object(O.dysub)("click_msg_horn_noble_open",{level:r}):2===t&&Object(O.dysub)("click_msg_horn_noble_renewal",{level:r}),this.nobleBuyModalServices.openNobleBuyModal()},Horn4Category.prototype.interval=function interval(e){var t=this;e>0?(this.setState({cdTime:e}),this.cdTimer&&this.cdTimer.unsubscribe(),this.cdTimer=Object(Yu.timer)(1e3,1e3).subscribe(function(){var e=t.state.cdTime-1;t.setState({cdTime:e}),e<=0&&t.cdTimer.unsubscribe()})):this.setState({cdTime:0})},Horn4Category.prototype.getTipClassName=function getTipClassName(e){var t="Horn4Category-icon ",r="",i=this.props.horn4CategoryData.btnType;return 0===e?t+="Horn4Category-icon--successTip":4===e?r=3===i?"Horn4Category-result--checkFail":"Horn4Category-result--checking":1===e&&3===i?r="Horn4Category-result--checkFail":e>0&&(t+="Horn4Category-icon--errorTip"),{resultTipClassName:t,checkingClassName:r}},Horn4Category.prototype.getTipContComp=function getTipContComp(e){var t=this.props.horn4CategoryData.btnType,r=this.state.tipCont;return 3===t?vs.a.createElement("span",{__source:{fileName:pj,lineNumber:330},__self:this},"\u60a8\u53d1\u8d77\u7684\u5206\u533a\u5587\u53ed\u5ba1\u6838\u672a\u901a\u8fc7\uff0c",vs.a.createElement("span",{className:"Horn4Category-viewChatLetter",onClick:this.showSiteLetter,__source:{fileName:pj,lineNumber:332},__self:this},"\u70b9\u51fb\u67e5\u770b")):r&&e?r:""},Horn4Category.prototype.getTipShowState=function getTipShowState(){var e="",t=this.props.horn4CategoryData,r=t.btnType,i=t.showTip,n=this.state.isShowTipResult;return 2===i?e="":(1===i||n||3===r)&&(e="is-show"),e},Horn4Category.prototype.render=function render(){var e=this.props.horn4CategoryData,t=e.count,r=e.leadTipShowState,i=e.muteType,n=e.muteDesc,a=e.unMuteTime,o=e.errorStatus,l=e.statusTxt,s=e.btnType,c=e.openType,u=this.state,p=u.isLeadTipHide,f=u.maxLength,d=u.popShowState,b=u.wordCount,m=u.cdTime,h=u.value,v=u.cateName,g=(s<2||3===s)&&m<=0&&-1===i&&h.length>0,y=d?"is-show":"",_=!p&&r?"is-show":"",S=this.getTipShowState(),N=2===s,C="Horn4Category-btn Horn4Category-btn--send "+(g?"":"is-disabled"),O=this.config.btnTxts[s],w=this.config.nobleActionTxts[c],D=this.getTipClassName(o),E=this.getTipContComp(S),k=yo.a.formatDate(new Date(a),"yyyy-MM-dd hh:mm:ss");return vs.a.createElement("div",{className:"Horn4Category",__source:{fileName:pj,lineNumber:400},__self:this},vs.a.createElement("div",{className:"Horn4Category-btn Horn4Category-btn--popTrigger",onClick:this.handleIconClick,__source:{fileName:pj,lineNumber:401},__self:this}),vs.a.createElement("div",{className:"Horn4Category-tip Horn4Category-tip--lead "+_,__source:{fileName:pj,lineNumber:402},__self:this},"\u60a8\u6709",vs.a.createElement("em",{className:"Horn4Category-tipHornCount",__source:{fileName:pj,lineNumber:403},__self:this},t),"\u4e2a\u5206\u533a\u5587\u53ed\uff0c\u5feb\u6765\u53d1\u9001\u5e7f\u64ad\u5427",vs.a.createElement("div",{className:"Horn4Category-btn Horn4Category-btn--closeTip",onClick:this.hideLeadTip,__source:{fileName:pj,lineNumber:404},__self:this},"\xd7")),vs.a.createElement("div",{className:"Horn4Category-tip Horn4Category-tip--result "+S,__source:{fileName:pj,lineNumber:407},__self:this},E),vs.a.createElement("div",{className:"Horn4Category-popWrap "+y,__source:{fileName:pj,lineNumber:410},__self:this},vs.a.createElement("div",{className:"Horn4Category-btn Horn4Category-btn--closePop",onClick:this.setPopShowState,__source:{fileName:pj,lineNumber:411},__self:this},"\xd7"),vs.a.createElement("div",{className:"Horn4Category-header",__source:{fileName:pj,lineNumber:413},__self:this},vs.a.createElement("i",{className:"Horn4Category-icon Horn4Category-icon--whiteHorn",__source:{fileName:pj,lineNumber:414},__self:this}),vs.a.createElement("span",{className:"Horn4Category-title",__source:{fileName:pj,lineNumber:415},__self:this},"\u5206\u533a\u5587\u53ed"),vs.a.createElement("div",{className:"Horn4Category-resultWrap",__source:{fileName:pj,lineNumber:416},__self:this},v?vs.a.createElement("div",{className:"Horn4Category-cateName",title:v+"\u533a\u53ef\u89c1",__source:{fileName:pj,lineNumber:418},__self:this},v,"\u533a\u53ef\u89c1"):null,vs.a.createElement("div",{className:"Horn4Category-result "+D.checkingClassName,title:l,__source:{fileName:pj,lineNumber:421},__self:this},vs.a.createElement("i",{className:D.resultTipClassName,__source:{fileName:pj,lineNumber:422},__self:this}),l))),vs.a.createElement("div",{className:"Horn4Category-inputorWrap",__source:{fileName:pj,lineNumber:427},__self:this},vs.a.createElement("textarea",{disabled:N,className:"Horn4Category-inputor",placeholder:"\u8f93\u5165\u5587\u53ed\u5185\u5bb9",maxLength:f,onChange:this.handleInputorChange,onKeyDown:this.handleSend,value:h,__source:{fileName:pj,lineNumber:428},__self:this}),vs.a.createElement("span",{className:"Horn4Category-wordsCount",__source:{fileName:pj,lineNumber:437},__self:this},f-b,"\u5b57"),i>-1?vs.a.createElement("div",{className:"Horn4Category-mute",__source:{fileName:pj,lineNumber:440},__self:this},"\u60a8\u5df2\u88ab",n,"\u7981\u8a00",vs.a.createElement("span",{className:"Horn4Category-muteType",__source:{fileName:pj,lineNumber:441},__self:this},"\uff08\u7c7b\u578b\uff1a0",i,"\uff09"),vs.a.createElement("p",{__source:{fileName:pj,lineNumber:442},__self:this},"\u89e3\u7981\u65f6\u95f4\uff1a",k,vs.a.createElement("a",{className:"Horn4Category-needToKnow",href:"/cms/gong/201601/06/2924.shtml",target:"_blank",__source:{fileName:pj,lineNumber:444},__self:this},"\u7528\u6237\u53d1\u8a00\u987b\u77e5"))):null),vs.a.createElement("div",{className:"Horn4Category-footer",__source:{fileName:pj,lineNumber:451},__self:this},vs.a.createElement("div",{className:"Horn4Category-info",__source:{fileName:pj,lineNumber:452},__self:this},"\u5269\u4f59",vs.a.createElement("span",{className:"Horn4Category-hornCount",__source:{fileName:pj,lineNumber:453},__self:this},t),"\u4e2a\uff0c",vs.a.createElement("span",{className:"Horn4Category-openNoble",onClick:this.handleOpenNoble,__source:{fileName:pj,lineNumber:454},__self:this},w,"\u8d35\u65cf",vs.a.createElement("em",{className:"Horn4Category-openTip",__source:{fileName:pj,lineNumber:455},__self:this},"\u5206\u533a\u5587\u53ed\u4e0e\u8d35\u65cf\u9c7c\u7fc5\u8fd4\u8fd8\u65f6\u95f4\u76f8\u540c")),"\u53ef\u83b7\u5f97\u5587\u53ed"),vs.a.createElement("div",{className:C,onClick:this.handleSend,__source:{fileName:pj,lineNumber:459},__self:this},m>0?m:O))))},Horn4Category}(vs.a.Component),ZR=Horn4Category_applyDecoratedDescriptor(XR.prototype,"nobleBuyModalServices",[WR],{enumerable:!0,initializer:null}),ej=Horn4Category_applyDecoratedDescriptor(XR.prototype,"horn4CategoryServices",[VR],{enumerable:!0,initializer:null}),tj=Horn4Category_applyDecoratedDescriptor(XR.prototype,"nobleReminderService",[$R],{enumerable:!0,initializer:null}),rj=Horn4Category_applyDecoratedDescriptor(XR.prototype,"chatToolBarService",[KR],{enumerable:!0,initializer:null}),ij=Horn4Category_applyDecoratedDescriptor(XR.prototype,"common",[qR],{enumerable:!0,initializer:null}),nj=Horn4Category_applyDecoratedDescriptor(XR.prototype,"localStorage",[QR],{enumerable:!0,initializer:null}),aj=Horn4Category_applyDecoratedDescriptor(XR.prototype,"store",[JR],{enumerable:!0,initializer:null}),Horn4Category_applyDecoratedDescriptor(XR.prototype,"handleIconClick",[YR],Object.getOwnPropertyDescriptor(XR.prototype,"handleIconClick"),XR.prototype),XR),vj=Object(dv.connect)(function mapStateToProps(e){return{horn4CategoryData:e.horn4CategoryData}})(hj),gj=(r("40b17"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatNobleBarrage/NobleBarrageTips.js");function NobleBarrageTips_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleBarrageTips_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var yj,_j,Sj,Nj,Cj,Oj,wj,Dj,Ej,kj,Rj=Object(ye.log)(fj=function(e){function NobleBarrageTips(){return function NobleBarrageTips_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleBarrageTips),function NobleBarrageTips_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return NobleBarrageTips_inherits(NobleBarrageTips,e),NobleBarrageTips.prototype.render=function render(){var e=this.props.isNobleBarrage?"\u542f\u7528":"\u5173\u95ed";return vs.a.createElement("div",{className:"NobleBarrageTips",__source:{fileName:gj,lineNumber:18},__self:this},vs.a.createElement("div",{className:"NobleBarrageTips-con",__source:{fileName:gj,lineNumber:19},__self:this},vs.a.createElement("span",{__source:{fileName:gj,lineNumber:20},__self:this},"\u8d35\u65cf\u5f39\u5e55\u5df2",e)),vs.a.createElement("div",{className:"NobleBarrageTips-arrow",__source:{fileName:gj,lineNumber:22},__self:this}))},NobleBarrageTips}(vs.a.Component))||fj,jj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Pj="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatNobleBarrage/NobleBarrageSwitcher.js";function NobleBarrageSwitcher_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleBarrageSwitcher_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleBarrageSwitcher_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleBarrageSwitcher_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleBarrageSwitcher_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Tj,Bj,Mj,Lj,zj,Aj,Ij,Fj,xj=n.a.Service,Gj=(yj=xj(pu),_j=xj(mR),Sj=xj(jn.a),Nj=xj(la.a),Object(ye.log)((Oj=function(e){function NobleBarrageSwitcher(){var t,r;!function NobleBarrageSwitcher_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleBarrageSwitcher);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleBarrageSwitcher_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleBarrageSwitcher_initDefineProp(r,"chatNobleBarrageService",wj,r),NobleBarrageSwitcher_initDefineProp(r,"chatToolBarServices",Dj,r),NobleBarrageSwitcher_initDefineProp(r,"chatCampService",Ej,r),NobleBarrageSwitcher_initDefineProp(r,"chatRoleBarrageServices",kj,r),NobleBarrageSwitcher_possibleConstructorReturn(r,t)}return NobleBarrageSwitcher_inherits(NobleBarrageSwitcher,e),NobleBarrageSwitcher.prototype.openNobleBarrageBox=function openNobleBarrageBox(e){var t=e.isOpenReminder,r=e.toggleStatus,i=e.isNobleBarrage,n=e.nobleChatBarrage;t&&this.chatNobleBarrageService.openNobleBarrageBox(),r&&this.chatNobleBarrageService.toggleNobleBarrage(),n&&(i||(this.chatToolBarServices.closeFansBarrage(),this.chatCampService.closeChatCamp(),this.chatRoleBarrageServices.clearRoleBarrage()))},NobleBarrageSwitcher.prototype.render=function render(){var e=this,t=jj({},this.props),r=t.btnStatus,i=t.isTipsShow,n=t.isOpenReminder,a=t.nobleChatBarrage,o=t.toggleStatus,l=t.isNobleBarrage,s=a&&r&&l?"is-active":"";return vs.a.createElement("div",{className:"NobleBarrageSwitcher "+s,onClick:function onClick(){return e.openNobleBarrageBox({isOpenReminder:n,toggleStatus:o,isNobleBarrage:l,nobleChatBarrage:a})},__source:{fileName:Pj,lineNumber:57},__self:this},i?vs.a.createElement(Rj,{isNobleBarrage:l,__source:{fileName:Pj,lineNumber:63},__self:this}):"")},NobleBarrageSwitcher}(vs.a.Component),wj=NobleBarrageSwitcher_applyDecoratedDescriptor(Oj.prototype,"chatNobleBarrageService",[yj],{enumerable:!0,initializer:null}),Dj=NobleBarrageSwitcher_applyDecoratedDescriptor(Oj.prototype,"chatToolBarServices",[_j],{enumerable:!0,initializer:null}),Ej=NobleBarrageSwitcher_applyDecoratedDescriptor(Oj.prototype,"chatCampService",[Sj],{enumerable:!0,initializer:null}),kj=NobleBarrageSwitcher_applyDecoratedDescriptor(Oj.prototype,"chatRoleBarrageServices",[Nj],{enumerable:!0,initializer:null}),Cj=Oj))||Cj),Uj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Hj="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatNobleBarrage/OpenNobleReminder.js";function OpenNobleReminder_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function OpenNobleReminder_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function OpenNobleReminder_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function OpenNobleReminder_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function OpenNobleReminder_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Wj,Vj,$j,Kj,qj,Qj,Jj,Yj,Xj=n.a.Service,Zj=(Tj=Xj(pu),Bj=Xj(Ns.a),Mj=Xj(Hf),Object(ye.log)((zj=function(e){function OpenNobleReminder(){var t,r;!function OpenNobleReminder_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OpenNobleReminder);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=OpenNobleReminder_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),OpenNobleReminder_initDefineProp(r,"chatNobleBarrageService",Aj,r),OpenNobleReminder_initDefineProp(r,"nobleBuyModalServices",Ij,r),OpenNobleReminder_initDefineProp(r,"chatRankServices",Fj,r),OpenNobleReminder_possibleConstructorReturn(r,t)}return OpenNobleReminder_inherits(OpenNobleReminder,e),OpenNobleReminder.prototype.closeNobleBarrageBox=function closeNobleBarrageBox(){this.chatNobleBarrageService.closeNobleBarrageBox()},OpenNobleReminder.prototype.openNobleBuyModal=function openNobleBuyModal(){Ds.a.check()?(this.nobleBuyModalServices.openNobleBuyModal(),this.closeNobleBarrageBox()):Ds.a.show()},OpenNobleReminder.prototype.getBtnTxt=function getBtnTxt(e){var t="\u5f00\u901a\u8d35\u65cf";switch(e){case 1:t="\u7eed\u8d39\u8d35\u65cf";break;case 2:t="\u5347\u7ea7\u8d35\u65cf";break;default:t="\u5f00\u901a\u8d35\u65cf"}return t},OpenNobleReminder.prototype.render=function render(){var e=this,t=this.props,r=t.openNobleBarrageBox,i=Uj({},t.nobleInfo).remindStatus,n=this.getBtnTxt(i),a={left:this.props.btnOffsetLeft+4},o=r?{display:"block"}:{display:"none"};return vs.a.createElement("div",{className:"OpenNobleReminder OpenNobleReminder--barrage",style:o,__source:{fileName:Hj,lineNumber:73},__self:this},vs.a.createElement("div",{className:"OpenNobleReminder-conWrap",__source:{fileName:Hj,lineNumber:74},__self:this},vs.a.createElement("span",{className:"OpenNobleReminder-close",onClick:function onClick(){return e.closeNobleBarrageBox()},__source:{fileName:Hj,lineNumber:75},__self:this},"\xd7"),vs.a.createElement("div",{className:"OpenNobleReminder-con",__source:{fileName:Hj,lineNumber:76},__self:this},vs.a.createElement("h3",{className:"OpenNobleReminder-title",__source:{fileName:Hj,lineNumber:77},__self:this},"\u6211\u7684\u5f39\u5e55\uff0c\u8ddf\u4f60\u7684\u4e0d\u540c"),vs.a.createElement("p",{className:"OpenNobleReminder-txt",__source:{fileName:Hj,lineNumber:78},__self:this},"\u8d35\u65cf\u5f39\u5e55-\u4f2f\u7235\u4ee5\u4e0a\u8d35\u65cf\u4e13\u5c5e\u7279\u6743"),vs.a.createElement("div",{className:"OpenNobleReminder-btn",onClick:function onClick(){return e.openNobleBuyModal()},__source:{fileName:Hj,lineNumber:79},__self:this},n))),vs.a.createElement("div",{className:"OpenNobleReminder-arrow OpenNobleReminder-arrow--inner",style:a,__source:{fileName:Hj,lineNumber:84},__self:this}),vs.a.createElement("div",{className:"OpenNobleReminder-arrow OpenNobleReminder-arrow--outer",style:a,__source:{fileName:Hj,lineNumber:85},__self:this}))},OpenNobleReminder}(vs.a.Component),Aj=OpenNobleReminder_applyDecoratedDescriptor(zj.prototype,"chatNobleBarrageService",[Tj],{enumerable:!0,initializer:null}),Ij=OpenNobleReminder_applyDecoratedDescriptor(zj.prototype,"nobleBuyModalServices",[Bj],{enumerable:!0,initializer:null}),Fj=OpenNobleReminder_applyDecoratedDescriptor(zj.prototype,"chatRankServices",[Mj],{enumerable:!0,initializer:null}),Lj=zj))||Lj),eP=Object(dv.connect)(function mapStateToProps(e){return{openNobleBarrageBox:e.openNobleBarrageBox,nobleInfo:e.nobleBarrageData.nobleInfo}})(Zj),tP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},rP="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatNobleBarrage/ChatNobleBarrage.js";function ChatNobleBarrage_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatNobleBarrage_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatNobleBarrage_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatNobleBarrage_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var iP,nP,aP,oP,lP=n.a.Service,sP=n.a.Store,cP=(Wj=lP(mR),Vj=lP(pu),$j=sP(),Object(ye.log)((qj=function(e){function ChatNobleBarrage(t){!function ChatNobleBarrage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatNobleBarrage);var r=function ChatNobleBarrage_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return ChatNobleBarrage_initDefineProp(r,"chatToolBarServices",Qj,r),ChatNobleBarrage_initDefineProp(r,"chatNobleBarrageService",Jj,r),ChatNobleBarrage_initDefineProp(r,"store",Yj,r),r.nobleBarrageBtnRef=vs.a.createRef(),r.state={left:0},r}return ChatNobleBarrage_inherits(ChatNobleBarrage,e),ChatNobleBarrage.prototype.componentDidMount=function componentDidMount(){this.chatNobleBarrageService.getEnterRoomData(),(this.store.getState().nobleBarrageData.isNobleBarrage?1:0)&&this.chatToolBarServices.closeFansBarrage()},ChatNobleBarrage.prototype.render=function render(){var e=this.nobleBarrageBtnRef.current,t=0;if(e){var r=e.getBoundingClientRect().left;t=(void 0===r?0:r)-this.props.toolBarleft+6}return vs.a.createElement("div",{className:"ChatNobleBarrage",ref:this.nobleBarrageBtnRef,__source:{fileName:rP,lineNumber:57},__self:this},vs.a.createElement(Gj,tP({},this.props.initData,{__source:{fileName:rP,lineNumber:58},__self:this})),vs.a.createElement(eP,{btnOffsetLeft:t,__source:{fileName:rP,lineNumber:59},__self:this}))},ChatNobleBarrage}(vs.a.Component),Qj=ChatNobleBarrage_applyDecoratedDescriptor(qj.prototype,"chatToolBarServices",[Wj],{enumerable:!0,initializer:null}),Jj=ChatNobleBarrage_applyDecoratedDescriptor(qj.prototype,"chatNobleBarrageService",[Vj],{enumerable:!0,initializer:null}),Yj=ChatNobleBarrage_applyDecoratedDescriptor(qj.prototype,"store",[$j],{enumerable:!0,initializer:null}),Kj=qj))||Kj),uP=Object(dv.connect)(function mapStateToProps(e){return{initData:e.nobleBarrageData}})(cP);r("34649");function ChatFansBarrageBtn_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ChatFansBarrageBtn_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatFansBarrageBtn_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var pP,fP,dP,bP,mP=(iP=(0,n.a.Service)(mR),Object(ye.log)((aP=function(e){function FansBarrageSwitcher(){var t,r;!function ChatFansBarrageBtn_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansBarrageSwitcher);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ChatFansBarrageBtn_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function ChatFansBarrageBtn_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatToolBarService",oP,r),ChatFansBarrageBtn_possibleConstructorReturn(r,t)}return ChatFansBarrageBtn_inherits(FansBarrageSwitcher,e),FansBarrageSwitcher.prototype.render=function render(){var e=this,t=this.props.color,r=this.props.anchorMedalSwitch;return vs.a.createElement("div",{className:"FansBarrageSwitcher is-color0"+t,title:"\u7c89\u4e1d\u5f39\u5e55",onClick:function onClick(){return e.props.closeNobleBarrage(t,r)},__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatFansBarrage/ChatFansBarrageBtn.js",lineNumber:24},__self:this})},FansBarrageSwitcher}(vs.a.Component),oP=function ChatFansBarrageBtn_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(aP.prototype,"chatToolBarService",[iP],{enumerable:!0,initializer:null}),nP=aP))||nP),hP="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatFansBarrage/FansBarrageColor.js";function FansBarrageColor_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function FansBarrageColor_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansBarrageColor_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var vP,gP,yP,_P,SP=(pP=(0,n.a.Service)(mR),Object(ye.log)((dP=function(e){function FansBarrageColor(){var t,r;!function FansBarrageColor_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansBarrageColor);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=FansBarrageColor_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function FansBarrageColor_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatToolBarServices",bP,r),FansBarrageColor_possibleConstructorReturn(r,t)}return FansBarrageColor_inherits(FansBarrageColor,e),FansBarrageColor.prototype.render=function render(){var e=this,t=this.props.medalColorList;return vs.a.createElement("ul",{className:"FansBarrageColor",__source:{fileName:hP,lineNumber:28},__self:this},t.map(function(t,r){var i=["FansBarrageColor-item",t.status?"":"is-lock",t.status&&e.props.selectedIndex===r?"is-selected":"",6===r?"is-last":""].join(" ");return vs.a.createElement("li",{className:i,key:r,onClick:function onClick(){return e.props.switchColor(r,t.status,t.color)},__source:{fileName:hP,lineNumber:38},__self:e},vs.a.createElement("div",{className:"FansBarrageColor-item-colorwrap is-color0"+t.color,__source:{fileName:hP,lineNumber:42},__self:e},vs.a.createElement("i",{__source:{fileName:hP,lineNumber:43},__self:e})),0===r?vs.a.createElement("span",{className:"FansBarrageColor-item-txt",__source:{fileName:hP,lineNumber:47},__self:e},"\u9ed8\u8ba4"):vs.a.createElement("div",{className:"FansBarrageColor-item-tips",__source:{fileName:hP,lineNumber:48},__self:e},vs.a.createElement("span",{__source:{fileName:hP,lineNumber:49},__self:e},"\u7c89\u4e1d\u7b49\u7ea7"+t.level+"\u7ea7\u514d\u8d39\u4f7f\u7528")))}))},FansBarrageColor}(vs.a.Component),bP=function FansBarrageColor_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(dP.prototype,"chatToolBarServices",[pP],{enumerable:!0,initializer:null}),fP=dP))||fP),NP="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatFansBarrage/ChatFansBarragePop.js";function ChatFansBarragePop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ChatFansBarragePop_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatFansBarragePop_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var CP,OP=(vP=(0,n.a.Service)(mR),Object(ye.log)((yP=function(e){function ChatFansBarragePop(){var t,r;!function ChatFansBarragePop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatFansBarragePop);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ChatFansBarragePop_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function ChatFansBarragePop_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatToolBarServices",_P,r),ChatFansBarragePop_possibleConstructorReturn(r,t)}return ChatFansBarragePop_inherits(ChatFansBarragePop,e),ChatFansBarragePop.prototype.onClickHandler=function onClickHandler(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},ChatFansBarragePop.prototype.render=function render(){var e=this.props.fansBarrageLv;return vs.a.createElement("div",{className:"ChatFansBarragePop",style:{display:""+this.props.openFansCss},onClick:this.onClickHandler.bind(this),__source:{fileName:NP,lineNumber:30},__self:this},vs.a.createElement("div",{className:"ChatFansBarragePop-title",__source:{fileName:NP,lineNumber:32},__self:this},vs.a.createElement("a",{className:"ChatFansBarragePop-title-right",target:"_blank",href:"http://www.douyu.com/t/fans",__source:{fileName:NP,lineNumber:33},__self:this},"\u4e86\u89e3\u7c89\u4e1d\u7279\u6743"),vs.a.createElement("p",{__source:{fileName:NP,lineNumber:35},__self:this},"\u7c89\u4e1d\u4e13\u5c5e\u5f39\u5e55")),vs.a.createElement(SP,{medalColorList:e,switchColor:this.props.switchColor,selectedIndex:this.props.selectedIndex,__source:{fileName:NP,lineNumber:37},__self:this}),vs.a.createElement("div",{className:"ChatFansBarragePop-describe",__source:{fileName:NP,lineNumber:39},__self:this},1===e[1].status?vs.a.createElement("p",{className:"ChatFansBarragePop-txt",__source:{fileName:NP,lineNumber:42},__self:this},"\u7c89\u4e1d\u7b49\u7ea7\u8fbe\u5230",vs.a.createElement("span",{__source:{fileName:NP,lineNumber:42},__self:this},"15\u7ea7"),"\uff0c\u5f39\u5e55\u53ef\u5728\u804a\u5929\u533a",vs.a.createElement("span",{__source:{fileName:NP,lineNumber:42},__self:this},"\u60ac\u6d6e\u5c55\u793a"),"\u5662~"):vs.a.createElement("p",{className:"ChatFansBarragePop-txt",__source:{fileName:NP,lineNumber:44},__self:this},"\u6210\u4e3a\u4e3b\u64ad\u7684",vs.a.createElement("span",{__source:{fileName:NP,lineNumber:44},__self:this},"6\u7ea7"),"\u7c89\u4e1d\u5373\u53ef",vs.a.createElement("span",{__source:{fileName:NP,lineNumber:44},__self:this},"\u514d\u8d39"),"\u53d1\u9001\u7c89\u4e1d\u5f39\u5e55\u5566\uff01")),vs.a.createElement("div",{className:"ChatFansBarragePop-arrow ChatFansBarragePop-arrow--inner",style:{left:this.props.arrowLeft},__source:{fileName:NP,lineNumber:48},__self:this}),vs.a.createElement("div",{className:"ChatFansBarragePop-arrow ChatFansBarragePop-arrow--outer",style:{left:this.props.arrowLeft},__source:{fileName:NP,lineNumber:50},__self:this}))},ChatFansBarragePop}(vs.a.Component),_P=function ChatFansBarragePop_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(yP.prototype,"chatToolBarServices",[vP],{enumerable:!0,initializer:null}),gP=yP))||gP),wP="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatFansBarrage/ChatFansBarrageTip.js";function ChatFansBarrageTip_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ChatFansBarrageTip_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatFansBarrageTip_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var DP,EP,kP,RP,jP,PP,TP,BP,MP,LP,zP,AP,IP,FP,xP,GP,UP=Object(ye.log)(CP=function(e){function ChatFansBarrageTip(){var t,r;!function ChatFansBarrageTip_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatFansBarrageTip);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ChatFansBarrageTip_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),r.config={fansSpecialUrl:"//www.douyu.com/t/fans"},ChatFansBarrageTip_possibleConstructorReturn(r,t)}return ChatFansBarrageTip_inherits(ChatFansBarrageTip,e),ChatFansBarrageTip.prototype.render=function render(){return this.props.showFansTips?vs.a.createElement("div",{className:"ChatFansBarrageTip",__source:{fileName:wP,lineNumber:20},__self:this},vs.a.createElement("div",{className:"ChatFansBarrageTip-txt clearfix",__source:{fileName:wP,lineNumber:21},__self:this},vs.a.createElement("p",{__source:{fileName:wP,lineNumber:22},__self:this},"\u8be5\u4e3b\u64ad\u672a\u5f00\u901a\u7c89\u4e1d\u5fbd\u7ae0\uff0c\u65e0\u6cd5\u4f7f\u7528\u7c89\u4e1d\u5f39\u5e55"),vs.a.createElement("a",{className:"ChatFansBarrageTip-intro",target:"_blank",href:this.config.fansSpecialUrl,__source:{fileName:wP,lineNumber:23},__self:this},"\u4e86\u89e3\u66f4\u591a\u203a\u203a")),vs.a.createElement("div",{className:"ChatFansBarrageTip-arrow ChatFansBarrageTip-arrow--inner",style:{left:this.props.tipsArrowLeft},__source:{fileName:wP,lineNumber:26},__self:this}),vs.a.createElement("div",{className:"ChatFansBarrageTip-arrow ChatFansBarrageTip-arrow--outer",style:{left:this.props.tipsArrowLeft},__source:{fileName:wP,lineNumber:28},__self:this})):""},ChatFansBarrageTip}(vs.a.Component))||CP,HP="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatFansBarrage/ChatFansBarrage.js";function ChatFansBarrage_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatFansBarrage_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatFansBarrage_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatFansBarrage_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var WP=n.a.Service,VP=n.a.Service,$P=(DP=VP(C.DataCenter.global),EP=VP(C.DataCenter.common),kP=WP(mR),RP=WP(Di.a),jP=WP(pu),PP=WP(la.a),TP=VP(C.DataCenter.localStorage),Object(ye.log)((MP=function(e){function ChatFansBarrage(t){!function ChatFansBarrage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatFansBarrage);var r=function ChatFansBarrage_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return ChatFansBarrage_initDefineProp(r,"global",LP,r),ChatFansBarrage_initDefineProp(r,"common",zP,r),ChatFansBarrage_initDefineProp(r,"chatToolBarServices",AP,r),ChatFansBarrage_initDefineProp(r,"chatSendServices",IP,r),ChatFansBarrage_initDefineProp(r,"chatNobleBarrageServices",FP,r),ChatFansBarrage_initDefineProp(r,"chatRoleBarrageServices",xP,r),ChatFansBarrage_initDefineProp(r,"localStorage",GP,r),r.timer=null,r.state={openFansCss:"none",showFansTips:!1,selectedIndex:0,arrowLeft:0,tipsArrowLeft:0,is_set_fans_badge:!1},["openFansBarrageBox","onBlurHandler","switchColor","closeNobleBarrage"].forEach(function(e){r[e]=r[e].bind(r)}),r.fansBarrageBtnRef=vs.a.createRef(),r}return ChatFansBarrage_inherits(ChatFansBarrage,e),ChatFansBarrage.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({is_set_fans_badge:t.get("room.is_set_fans_badge")})}),document.addEventListener("click",this.onBlurHandler,!1),this.chatToolBarServices.observerFansBarrage()},ChatFansBarrage.prototype.componentWillUnmount=function componentWillUnmount(){document.removeEventListener("click",this.onBlurHandler,!1)},ChatFansBarrage.prototype.openFansBarrageBox=function openFansBarrageBox(e){var t=this;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),"block"===this.state.openFansCss?this.setState({openFansCss:"none"}):this.setState({openFansCss:"block"});var r=this.props.toolBarleft,i=this.fansBarrageBtnRef.current.getBoundingClientRect().left;this.setState({showFansTips:!0,arrowLeft:i-r+12,tipsArrowLeft:i-r-10}),clearTimeout(this.timer),this.timer=setTimeout(function(){t.setState({showFansTips:!1})},3e3)},ChatFansBarrage.prototype.onBlurHandler=function onBlurHandler(){this.setState({openFansCss:"none"})},ChatFansBarrage.prototype.switchColor=function switchColor(e,t,r){t&&(this.chatSendServices.fansColorSet(),this.chatToolBarServices.setStorage(r),this.chatToolBarServices.updateColor(e,r))},ChatFansBarrage.prototype.closeNobleBarrage=function closeNobleBarrage(e,t){t&&(this.chatNobleBarrageServices.closeNobleBarrage(),this.chatRoleBarrageServices.clearRoleBarrage())},ChatFansBarrage.prototype.render=function render(){var e=!!this.props.chatToolBar.receiveSummerReward||this.state.is_set_fans_badge,t=this.props.chatToolBar.selectedIndex,r=e?this.props.chatToolBar.color:0;return vs.a.createElement("div",{className:"ChatFansBarrage",onClick:this.openFansBarrageBox,ref:this.fansBarrageBtnRef,__source:{fileName:HP,lineNumber:142},__self:this},vs.a.createElement(mP,{color:r,anchorMedalSwitch:e,closeNobleBarrage:this.closeNobleBarrage,__source:{fileName:HP,lineNumber:143},__self:this}),e?vs.a.createElement(OP,{selectedIndex:t,openFansCss:this.state.openFansCss,switchColor:this.switchColor,arrowLeft:this.state.arrowLeft,fansBarrageLv:this.props.chatToolBar.fansBarrageLv,__source:{fileName:HP,lineNumber:148},__self:this}):vs.a.createElement(UP,{showFansTips:this.state.showFansTips,tipsArrowLeft:this.state.tipsArrowLeft,__source:{fileName:HP,lineNumber:156},__self:this}))},ChatFansBarrage}(vs.a.Component),LP=ChatFansBarrage_applyDecoratedDescriptor(MP.prototype,"global",[DP],{enumerable:!0,initializer:null}),zP=ChatFansBarrage_applyDecoratedDescriptor(MP.prototype,"common",[EP],{enumerable:!0,initializer:null}),AP=ChatFansBarrage_applyDecoratedDescriptor(MP.prototype,"chatToolBarServices",[kP],{enumerable:!0,initializer:null}),IP=ChatFansBarrage_applyDecoratedDescriptor(MP.prototype,"chatSendServices",[RP],{enumerable:!0,initializer:null}),FP=ChatFansBarrage_applyDecoratedDescriptor(MP.prototype,"chatNobleBarrageServices",[jP],{enumerable:!0,initializer:null}),xP=ChatFansBarrage_applyDecoratedDescriptor(MP.prototype,"chatRoleBarrageServices",[PP],{enumerable:!0,initializer:null}),GP=ChatFansBarrage_applyDecoratedDescriptor(MP.prototype,"localStorage",[TP],{enumerable:!0,initializer:null}),BP=MP))||BP),KP=Object(dv.connect)(function mapStateToProps(e){return{openFansBarrageBox:e.openFansBarrageBox,chatToolBar:e.chatToolBar}})($P),qP=r("d5e34"),QP="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatRoleBarrage/components/RoleSelectTip.js",JP=function RoleSelectTip(e){var t=e.tip;return vs.a.createElement("div",{className:"ChatRoleBarrage-tipWrapper",__source:{fileName:QP,lineNumber:11},__self:void 0},vs.a.createElement("div",{className:"ChatRoleBarrage-tipContent",__source:{fileName:QP,lineNumber:12},__self:void 0},vs.a.createElement("span",{__source:{fileName:QP,lineNumber:13},__self:void 0},t)))};JP.propTypes={tip:fv.a.string.isRequired};var YP=JP,XP="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatRoleBarrage/components/RoleSelectPane.js",ZP=function RoleSelectPane(e){var t=e.isLoginUser,r=e.isRoleBarrageUser,i=e.roleList,n=e.selectedRole,a=e.contentHeight,o=e.toggleRoleSelect,l=e.toggleRoleBarragePane,s=e.roleBarrageFilter,c=e.toggleRoleBarrageFilter,u=e.mouseLeave,p=e.showTip,f=e.tip;return vs.a.createElement("div",{className:"ChatRoleBarrage-pane",onMouseLeave:u,__source:{fileName:XP,lineNumber:26},__self:void 0},vs.a.createElement("span",{className:"ChatRoleBarrage-close",onClick:l("off"),__source:{fileName:XP,lineNumber:27},__self:void 0}),vs.a.createElement("h3",{__source:{fileName:XP,lineNumber:28},__self:void 0},"\u89d2\u8272\u5f39\u5e55"),vs.a.createElement("div",{className:"ChatRoleBarrage-scrollWrap",style:{height:a},__source:{fileName:XP,lineNumber:29},__self:void 0},vs.a.createElement(qP.a,{__source:{fileName:XP,lineNumber:30},__self:void 0},vs.a.createElement("ul",{className:"ChatRoleBarrage-roleList "+(t&&r?"":"unLogin")+" clearFix",__source:{fileName:XP,lineNumber:31},__self:void 0},i.map(function(e){var t=e.roleId,r=e.name,i=e.img;return vs.a.createElement("li",{key:t,onClick:o({roleId:t,name:r,img:i}),className:n&&n.roleId===t?"active":"",__source:{fileName:XP,lineNumber:33},__self:void 0},vs.a.createElement("img",{src:i,alt:r,__source:{fileName:XP,lineNumber:38},__self:void 0}),vs.a.createElement("p",{__source:{fileName:XP,lineNumber:39},__self:void 0},r))})))),vs.a.createElement("div",{className:"ChatRoleBarrage-filter"+(s?" active":""),onClick:c,__source:{fileName:XP,lineNumber:45},__self:void 0},vs.a.createElement("span",{__source:{fileName:XP,lineNumber:49},__self:void 0}),"\u5c4f\u853d\u89d2\u8272\u5f39\u5e55"),p?vs.a.createElement(YP,{tip:f,__source:{fileName:XP,lineNumber:53},__self:void 0}):null)};ZP.propTypes={isLoginUser:fv.a.number.isRequired,isRoleBarrageUser:fv.a.number.isRequired,roleList:fv.a.array.isRequired,selectedRole:fv.a.object,contentHeight:fv.a.number.isRequired,toggleRoleSelect:fv.a.func.isRequired,toggleRoleBarragePane:fv.a.func.isRequired,roleBarrageFilter:fv.a.number.isRequired,toggleRoleBarrageFilter:fv.a.func.isRequired,mouseLeave:fv.a.func.isRequired,showTip:fv.a.number.isRequired,tip:fv.a.string.isRequired};var eT,tT,rT,iT,nT,aT,oT,lT,sT,cT,uT,pT,fT,dT,bT,mT,hT,vT,gT=ZP,yT=(r("23ead"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatRoleBarrage/ChatRoleBarrage.js"),_T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function ChatRoleBarrage_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatRoleBarrage_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ChatRoleBarrage_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatRoleBarrage_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatRoleBarrage_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ST=n.a.Service,NT=w.a.socketStream,CT="roleBarrageFilter",OT=void 0,wT=function dySubV2(e,t){Object(O.dysub2)(_T({action_code:e,event_id:1,type:1},t))},DT=(eT=ST(la.a),tT=ST(pu),rT=ST(mR),iT=ST(jn.a),nT=ST(C.DataCenter.common),aT=ST(C.DataCenter.global),oT=ST(C.DataCenter.acj),lT=ST(C.DataCenter.localStorage),Object(ye.log)((cT=function(e){function ChatRoleBarrage(){var t,r;!function ChatRoleBarrage_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRoleBarrage);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ChatRoleBarrage_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),ChatRoleBarrage_initDefineProp(r,"chatRoleBarrageService",uT,r),ChatRoleBarrage_initDefineProp(r,"chatNobleBarrageServices",pT,r),ChatRoleBarrage_initDefineProp(r,"chatToolBarServices",fT,r),ChatRoleBarrage_initDefineProp(r,"chatCampService",dT,r),ChatRoleBarrage_initDefineProp(r,"common",bT,r),ChatRoleBarrage_initDefineProp(r,"global",mT,r),ChatRoleBarrage_initDefineProp(r,"acj",hT,r),ChatRoleBarrage_initDefineProp(r,"localStorage",vT,r),r.state={isRoleBarrageRoom:0,isRoleBarrageUser:0,roleBarragePaneShown:0,roleBarrageFilter:0,isLoginUser:0,showTip:0,tip:"",minLevel:0,dysExt:{}},r.toggleRoleBarragePane=function(e){return function(){var t=r.state,i=t.roleBarragePaneShown,n=t.dysExt,a=e?{on:1,off:0}[e]:!i;a&&wT("11010020D001",n),r.setState({roleBarragePaneShown:a})}},r.toggleRoleSelect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var t=r.state,i=t.isLoginUser,n=t.isRoleBarrageUser,a=t.minLevel;if(i){if(!n)return r.setState({showTip:1,tip:"\u89d2\u8272\u5f39\u5e55\u529f\u80fd"+a+"\u7ea7\u4ee5\u540e\u53ef\u4ee5\u4f7f\u7528\uff0c\u52a0\u6cb9\u5347\u7ea7\u5427"}),void setTimeout(function(){r.setState({showTip:0})},3e3);var o=r.props.selectedRole;if(o&&+o.roleId===+e.roleId)r.chatRoleBarrageService.clearRoleBarrage();else{var l=r.state.dysExt,s=e.roleId;wT("110100206001",_T({},l,{ext:{_role_id:s}})),r.chatRoleBarrageService.setRoleBarrage(e),r.chatNobleBarrageServices.closeNobleBarrage(),r.chatToolBarServices.closeFansBarrage(),r.chatCampService.closeChatCamp()}}}},r.toggleRoleBarrageFilter=function(){var e=r.state,t=e.roleBarrageFilter,i=e.dysExt,n=!t;wT("110100206002",i),r.setState({roleBarrageFilter:+n}),r.setRoleBarrageFilter(+n)},r.setRoleBarrageFilter=function(e){r.acj.push(k.c.JS_ROLE_BARRAGE_SWITCH,{data:e}),r.localStorage.set(CT,e)},r.mouseLeave=function(e){e.preventDefault(),OT&&clearTimeout(OT),OT=setTimeout(r.toggleRoleBarragePane("off"),1500)},ChatRoleBarrage_possibleConstructorReturn(r,t)}return ChatRoleBarrage_inherits(ChatRoleBarrage,e),ChatRoleBarrage.prototype.componentDidMount=function componentDidMount(){var e=this,t=this.global.get("USER_INFO.uid"),r=!!this.localStorage.get(CT);this.setState({isLoginUser:+!!t,roleBarrageFilter:+r}),this.setRoleBarrageFilter(+r),this.common.get("$DATA").subscribe(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).room,r=(t=void 0===t?{}:t).cate1_id,i=t.cate2_id,n=t.cate3_id,a=t.room_id;e.setState({dysExt:{cate_id:r,child_id:n,tag_id:i,room_id:a}})}),this.common.get("$ROLE_BARRAGE_SWITCH").subscribe(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).roleBarrage,r=(t=void 0===t?{}:t).status,i=void 0===r?0:r,n=t.minLevel,a=void 0===n?0:n,o=e.global.get("$ROOM").room_id;NT.subscribe("memberinfores",function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).level,r=void 0===t?1:t;+i&&e.chatRoleBarrageService.getRoleList(o),e.setState({isRoleBarrageRoom:+i,isRoleBarrageUser:+(+r>=+a),minLevel:a})})}),NT.subscribe("chatmsg",function(r){var i=r.roleid,n=r.uid,a=e.props.selectedRole;!i&&+n===+t&&a&&e.chatRoleBarrageService.clearRoleBarrage()})},ChatRoleBarrage.prototype.render=function render(){var e=this.state,t=e.isLoginUser,r=e.isRoleBarrageRoom,i=e.isRoleBarrageUser,n=e.roleBarragePaneShown,a=e.roleBarrageFilter,o=e.showTip,l=e.tip,s=this.props,c=s.selectedRole,u=s.roleList,p=["ChatRoleBarrage-switcher",(n||c)&&"active",a&&" disable"].filter(Boolean).join(" ");return r?vs.a.createElement("div",{className:"ChatRoleBarrage",__source:{fileName:yT,lineNumber:194},__self:this},vs.a.createElement("div",{className:p,onClick:this.toggleRoleBarragePane(),__source:{fileName:yT,lineNumber:195},__self:this}),n?vs.a.createElement(gT,{isLoginUser:t,isRoleBarrageUser:i,roleList:u,selectedRole:c,mouseLeave:this.mouseLeave,contentHeight:function setContentHeight(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).length>4?192:101}(u),toggleRoleBarragePane:this.toggleRoleBarragePane,toggleRoleSelect:this.toggleRoleSelect,roleBarrageFilter:a,toggleRoleBarrageFilter:this.toggleRoleBarrageFilter,showTip:o,tip:l,__source:{fileName:yT,lineNumber:198},__self:this}):null):null},ChatRoleBarrage}(vs.a.Component),uT=ChatRoleBarrage_applyDecoratedDescriptor(cT.prototype,"chatRoleBarrageService",[eT],{enumerable:!0,initializer:null}),pT=ChatRoleBarrage_applyDecoratedDescriptor(cT.prototype,"chatNobleBarrageServices",[tT],{enumerable:!0,initializer:null}),fT=ChatRoleBarrage_applyDecoratedDescriptor(cT.prototype,"chatToolBarServices",[rT],{enumerable:!0,initializer:null}),dT=ChatRoleBarrage_applyDecoratedDescriptor(cT.prototype,"chatCampService",[iT],{enumerable:!0,initializer:null}),bT=ChatRoleBarrage_applyDecoratedDescriptor(cT.prototype,"common",[nT],{enumerable:!0,initializer:null}),mT=ChatRoleBarrage_applyDecoratedDescriptor(cT.prototype,"global",[aT],{enumerable:!0,initializer:null}),hT=ChatRoleBarrage_applyDecoratedDescriptor(cT.prototype,"acj",[oT],{enumerable:!0,initializer:null}),vT=ChatRoleBarrage_applyDecoratedDescriptor(cT.prototype,"localStorage",[lT],{enumerable:!0,initializer:null}),sT=cT))||sT);DT.propTypes={roleList:fv.a.array.isRequired,selectedRole:fv.a.object};var ET,kT,RT,jT=Object(dv.connect)(function mapStateToProps(e){var t=e.chatRoleBarrageData;return{roleList:t.roleList,selectedRole:t.selectedRole}})(DT);r("dd665");function ChatCampSwitcher_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatCampSwitcher_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var PT,TT,BT,MT,LT,zT,AT,IT,FT,xT,GT=(ET=(0,n.a.Service)(jn.a),kT=function(e){function ChatCampSwitcher(){!function ChatCampSwitcher_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatCampSwitcher);var t=function ChatCampSwitcher_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function ChatCampSwitcher_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"chatCampService",RT,t),t.switchChatCamp=t.switchChatCamp.bind(t),t}return ChatCampSwitcher_inherits(ChatCampSwitcher,e),ChatCampSwitcher.prototype.switchChatCamp=function switchChatCamp(){var e=this.props.isShow;this.chatCampService.switchChatCamp(!e)},ChatCampSwitcher.prototype.render=function render(){var e=this.props.color,t={};return e&&(t={backgroundColor:e}),vs.a.createElement("div",{className:"ChatCampSwitcher",onClick:this.switchChatCamp,style:t,__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatCamp/ChatCampSwitcher.js",lineNumber:38},__self:this})},ChatCampSwitcher}(vs.a.Component),RT=function ChatCampSwitcher_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(kT.prototype,"chatCampService",[ET],{enumerable:!0,initializer:null}),kT),UT=Object(dv.connect)(function mapStateToProps(e){return{isShow:e.chatCamp.isShow,color:e.chatCamp.color}})(GT),HT="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatCamp/ChatCampPop.js";function ChatCampPop_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatCampPop_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatCampPop_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatCampPop_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var WT,VT,$T,KT,qT=n.a.Service,QT=(PT=qT(jn.a),TT=qT(mR),BT=qT(pu),MT=qT(la.a),Object(ye.log)((zT=function(e){function ChatCampPop(){!function ChatCampPop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatCampPop);var t=function ChatCampPop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return ChatCampPop_initDefineProp(t,"chatCampService",AT,t),ChatCampPop_initDefineProp(t,"chatToolBarService",IT,t),ChatCampPop_initDefineProp(t,"chatNobleBarrageService",FT,t),ChatCampPop_initDefineProp(t,"chatRoleBarrageServices",xT,t),t.closeChatCamp=t.closeChatCamp.bind(t),t.selectCamp=t.selectCamp.bind(t),t}return ChatCampPop_inherits(ChatCampPop,e),ChatCampPop.prototype.closeChatCamp=function closeChatCamp(){this.chatCampService.switchChatCamp(!1)},ChatCampPop.prototype.selectCamp=function selectCamp(e){var t=e.camp_id,r=-1,i=[],n="",a=0;t!==this.props.selectIndex&&(r=t,i=e.gift_ids,n=e.barrage_color,a=e.barrage_color_code),this.chatCampService.selectChatCamp(r,i,n),this.chatToolBarService.updateCampColor(a,n),this.chatNobleBarrageService.closeNobleBarrage(),this.chatRoleBarrageServices.clearRoleBarrage()},ChatCampPop.prototype.render=function render(){var e=this,t=this.props,r=t.isShow,i=void 0!==r&&r,n=t.campList,a=void 0===n?[]:n,o=t.selectIndex,l=void 0===o?-1:o;return vs.a.createElement("div",{className:"ChatCampPop"+(i?" is-active":""),__source:{fileName:HT,lineNumber:61},__self:this},vs.a.createElement("div",{className:"ChatCampPop-title",__source:{fileName:HT,lineNumber:62},__self:this},"\u9009\u62e9\u652f\u6301\u7684\u5bf9\u8c61",vs.a.createElement("div",{className:"ChatCampPop-close",onClick:this.closeChatCamp,__source:{fileName:HT,lineNumber:64},__self:this},vs.a.createElement("div",{className:"ChatCampPop-closeIcon",__source:{fileName:HT,lineNumber:65},__self:this}))),vs.a.createElement("div",{className:"ChatCampPop-content",__source:{fileName:HT,lineNumber:68},__self:this},vs.a.createElement("ul",{__source:{fileName:HT,lineNumber:69},__self:this},a&&a.length>0?a.map(function(t){var r={borderColor:t.barrage_color};return r=l===t.camp_id?Object.assign(r,{backgroundColor:t.barrage_color}):r,vs.a.createElement("li",{className:"ChatCampPop-item",key:t.camp_id,onClick:function onClick(){e.selectCamp(t)},__source:{fileName:HT,lineNumber:82},__self:e},vs.a.createElement("div",{className:"ChatCampPop-input","data-campid":t.camp_id,"data-code":t.barrage_color_code,style:r,__source:{fileName:HT,lineNumber:85},__self:e}),vs.a.createElement("div",{className:"ChatCampPop-text",style:{color:""+t.barrage_color},__source:{fileName:HT,lineNumber:90},__self:e},t.camp_name))}):"")),vs.a.createElement("div",{className:"ChatCampPop-arrow ChatCampPop-arrow--inner",__source:{fileName:HT,lineNumber:101},__self:this}),vs.a.createElement("div",{className:"ChatCampPop-arrow ChatCampPop-arrow--outer",__source:{fileName:HT,lineNumber:102},__self:this}))},ChatCampPop}(vs.a.Component),AT=ChatCampPop_applyDecoratedDescriptor(zT.prototype,"chatCampService",[PT],{enumerable:!0,initializer:null}),IT=ChatCampPop_applyDecoratedDescriptor(zT.prototype,"chatToolBarService",[TT],{enumerable:!0,initializer:null}),FT=ChatCampPop_applyDecoratedDescriptor(zT.prototype,"chatNobleBarrageService",[BT],{enumerable:!0,initializer:null}),xT=ChatCampPop_applyDecoratedDescriptor(zT.prototype,"chatRoleBarrageServices",[MT],{enumerable:!0,initializer:null}),LT=zT))||LT),JT=Object(dv.connect)(function mapStateToProps(e){return{isShow:e.chatCamp.isShow,selectIndex:e.chatCamp.selectIndex,campList:e.chatCamp.campList}})(QT),YT="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatCamp/ChatCampRemind.js";function ChatCampRemind_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ChatCampRemind_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatCampRemind_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var XT=(WT=(0,n.a.Service)(jn.a),Object(ye.log)(($T=function(e){function ChatCampRemind(){var t,r;!function ChatCampRemind_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatCampRemind);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ChatCampRemind_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function ChatCampRemind_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"chatCampService",KT,r),ChatCampRemind_possibleConstructorReturn(r,t)}return ChatCampRemind_inherits(ChatCampRemind,e),ChatCampRemind.prototype.render=function render(){var e=this.props.remindIsShow;return vs.a.createElement("div",{className:"ChatCampRemind"+(e?" is-active":""),__source:{fileName:YT,lineNumber:24},__self:this},vs.a.createElement("div",{className:"ChatCampRemind-container",__source:{fileName:YT,lineNumber:25},__self:this},vs.a.createElement("div",{className:"ChatCampRemind-txt",__source:{fileName:YT,lineNumber:26},__self:this},"\u9009\u62e9\u652f\u6301\u7684\u5bf9\u8c61"),vs.a.createElement("div",{className:"ChatCampRemind-txt",__source:{fileName:YT,lineNumber:27},__self:this},"\u7528\u8272\u5f69\u8868\u660e\u4f60\u7684\u7acb\u573a")),vs.a.createElement("div",{className:"ChatCampRemind-arrow ChatCampRemind-arrow--inner",__source:{fileName:YT,lineNumber:29},__self:this}),vs.a.createElement("div",{className:"ChatCampRemind-arrow ChatCampRemind-arrow--outer",__source:{fileName:YT,lineNumber:30},__self:this}))},ChatCampRemind}(vs.a.Component),KT=function ChatCampRemind_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}($T.prototype,"chatCampService",[WT],{enumerable:!0,initializer:null}),VT=$T))||VT),ZT=Object(dv.connect)(function mapStateToProps(e){return{remindIsShow:e.chatCamp.remindIsShow}})(XT),eB="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatCamp/ChatCamp.js";function ChatCamp_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatCamp_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var tB,rB,iB,nB,aB,oB,lB=function(e){function ChatCamp(){return function ChatCamp_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatCamp),function ChatCamp_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return ChatCamp_inherits(ChatCamp,e),ChatCamp.prototype.render=function render(){return vs.a.createElement("div",{className:"ChatCamp",__source:{fileName:eB,lineNumber:17},__self:this},vs.a.createElement(UT,{__source:{fileName:eB,lineNumber:18},__self:this}),vs.a.createElement(JT,{__source:{fileName:eB,lineNumber:19},__self:this}),vs.a.createElement(ZT,{__source:{fileName:eB,lineNumber:20},__self:this}))},ChatCamp}(vs.a.Component),sB=(r("c357d"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ShieldingTool/ShieldTool.js");function ShieldTool_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ShieldTool_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ShieldTool_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ShieldTool_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ShieldTool_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ShieldTool_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var cB,uB,pB,fB,dB,bB=n.a.Service,mB=[106,107,108,105],hB=(tB=bB(yp),rB=function(e){function ShieldToolComponent(){ShieldTool_classCallCheck(this,ShieldToolComponent);var t=ShieldTool_possibleConstructorReturn(this,e.call(this));return ShieldTool_initDefineProp(t,"shieldToolServices",iB,t),t.hoverTimer=0,t.showTipTimer=0,t.isSetWeek=!1,t.state={tipShow:!1},t}return ShieldTool_inherits(ShieldToolComponent,e),ShieldToolComponent.prototype.componentDidMount=function componentDidMount(){this.shieldToolServices.init(),this.shieldToolServices.showShieldTip(this.showShieldTip.bind(this))},ShieldToolComponent.prototype.setWeekShow=function setWeekShow(){this.isSetWeek=!this.isSetWeek,this.shieldToolServices.setShieldTipShowExpired(this.isSetWeek?2:3)},ShieldToolComponent.prototype.showShieldTip=function showShieldTip(){this.setState({tipShow:!0})},ShieldToolComponent.prototype.hideShieldTip=function hideShieldTip(){this.setState({tipShow:!1})},ShieldToolComponent.prototype.returnShieldList=function returnShieldList(e){var t=this;return mB.map(function(r){return e[r]?vs.a.createElement(vB,{key:e[r].type,config:e[r],__source:{fileName:sB,lineNumber:59},__self:t}):null})},ShieldToolComponent.prototype.render=function render(){var e=this,t=this.props.shieldConfig,r=this.shieldToolServices.getToShieldData(t);return this.state.tipShow&&t[105]<=0&&(this.state.tipShow=!1),vs.a.createElement("div",{className:"ShieldTool-content",__source:{fileName:sB,lineNumber:75},__self:this},vs.a.createElement("div",{className:"ShieldTool-enter",__source:{fileName:sB,lineNumber:76},__self:this},vs.a.createElement(vB,{config:r[999],__source:{fileName:sB,lineNumber:77},__self:this}),vs.a.createElement("div",{className:"ShieldTool-list",__source:{fileName:sB,lineNumber:78},__self:this},vs.a.createElement("a",{href:"http://www.douyu.com/client?platform=3",target:"_blank",className:"ShieldTool-PClient",__source:{fileName:sB,lineNumber:79},__self:this},vs.a.createElement("i",{className:"ShieldTool-PCIcon",__source:{fileName:sB,lineNumber:79},__self:this}),"PC\u5ba2\u6237\u7aef"),this.returnShieldList(r))),this.state.tipShow&&t[105]?vs.a.createElement("div",{className:"ShieldToolTip",__source:{fileName:sB,lineNumber:88},__self:this},vs.a.createElement("i",{className:"ShieldToolTip-close",onClick:this.hideShieldTip.bind(this),__source:{fileName:sB,lineNumber:89},__self:this}),vs.a.createElement("i",{className:"ShieldToolTip-arrow",__source:{fileName:sB,lineNumber:90},__self:this}),vs.a.createElement("h3",{className:"ShieldToolTip-desc1",__source:{fileName:sB,lineNumber:91},__self:this},"\u9ca8\u9c7c\u5a18\u68c0\u6d4b\u5230\u60a8\u5c4f\u5e55\u5361\u987f\uff01"),vs.a.createElement("h6",{className:"ShieldToolTip-desc2",__source:{fileName:sB,lineNumber:92},__self:this},"\u5df2\u4e3a\u60a8\u5c4f\u853d\u5c0f\u793c\u7269\u7279\u6548"),vs.a.createElement("div",{className:"ShieldToolTip-switch",__source:{fileName:sB,lineNumber:93},__self:this},vs.a.createElement("label",{className:"ShieldToolTip-switchLabel",onChange:function onChange(){return e.setWeekShow()},__source:{fileName:sB,lineNumber:94},__self:this},vs.a.createElement("input",{className:"ShieldToolTip-switchIcon",type:"checkbox",__source:{fileName:sB,lineNumber:95},__self:this}),vs.a.createElement("span",{className:"ShieldToolTip-switchText",__source:{fileName:sB,lineNumber:96},__self:this},"\u672c\u5468\u4e0d\u518d\u63d0\u793a")))):null)},ShieldToolComponent}(vs.a.Component),iB=ShieldTool_applyDecoratedDescriptor(rB.prototype,"shieldToolServices",[tB],{enumerable:!0,initializer:null}),rB),vB=(nB=bB(yp),aB=function(e){function ShieldItemComponent(){var t,r;ShieldTool_classCallCheck(this,ShieldItemComponent);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=ShieldTool_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),ShieldTool_initDefineProp(r,"shieldToolServices",oB,r),ShieldTool_possibleConstructorReturn(r,t)}return ShieldTool_inherits(ShieldItemComponent,e),ShieldItemComponent.prototype.switchShield=function switchShield(e){this.shieldToolServices.switchShield(e)},ShieldItemComponent.prototype.getBgPos=function getBgPos(e){switch(+e.state){case 0:return"ShieldTool-listItem is-noChecked";case 1:return"ShieldTool-listItem is-checked";case 2:return"ShieldTool-listItem is-allChecked";default:return"ShieldTool-listItem is-noChecked"}},ShieldItemComponent.prototype.render=function render(){var e=this,t=this.props.config;if(!t)return null;var r=this.getBgPos(t);return vs.a.createElement("div",{className:r,onClick:function onClick(){return e.switchShield(t)},key:t.type,__source:{fileName:sB,lineNumber:138},__self:this},vs.a.createElement("span",{className:"ShieldTool-checkIcon",__source:{fileName:sB,lineNumber:142},__self:this}),vs.a.createElement("h5",{className:"ShieldTool-checkText",__source:{fileName:sB,lineNumber:144},__self:this},t.text))},ShieldItemComponent}(vs.a.Component),oB=ShieldTool_applyDecoratedDescriptor(aB.prototype,"shieldToolServices",[nB],{enumerable:!0,initializer:null}),aB),gB=Object(dv.connect)(function mapStateToProps(e){return{shieldConfig:e.shieldConfig}})(hB),yB=r("4477a");function barrageFilterServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function barrageFilterServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function barrageFilterServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function barrageFilterServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function barrageFilterServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var _B,SB,NB,CB,OB=n.a.Service,wB=n.a.Store,DB=(cB=OB(_s.a),uB=wB(),pB=function(e){function BarrageFilterServices(){var t,r;!function barrageFilterServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageFilterServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=barrageFilterServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),barrageFilterServices_initDefineProp(r,"userCardService",fB,r),barrageFilterServices_initDefineProp(r,"store",dB,r),barrageFilterServices_possibleConstructorReturn(r,t)}return barrageFilterServices_inherits(BarrageFilterServices,e),BarrageFilterServices.prototype.setFilterData=function setFilterData(e){this.store.dispatch(dl.setFilterData(e))},BarrageFilterServices}(f.Service),fB=barrageFilterServices_applyDecoratedDescriptor(pB.prototype,"userCardService",[cB],{enumerable:!0,initializer:null}),dB=barrageFilterServices_applyDecoratedDescriptor(pB.prototype,"store",[uB],{enumerable:!0,initializer:null}),pB),EB="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/FilterSwitch.js",kB={0:"\u672a\u5f00\u542f",1:"\u5df2\u5f00\u542f"},RB=function isChecked(e){return e?"is-checked":""},jB=function FilterSwitchStatus(e){var t=e.title,r=e.checked,i=e.filterSwitch;return vs.a.createElement("div",{className:"FilterSwitchStatus",__source:{fileName:EB,lineNumber:16},__self:void 0},vs.a.createElement("h3",{__source:{fileName:EB,lineNumber:17},__self:void 0},t),vs.a.createElement("div",{__source:{fileName:EB,lineNumber:18},__self:void 0},vs.a.createElement("span",{className:"FilterSwitchStatus-status "+RB(r),__source:{fileName:EB,lineNumber:19},__self:void 0},kB[r]),vs.a.createElement("span",{className:"FilterSwitchStatus-switch "+RB(r),onClick:i,__source:{fileName:EB,lineNumber:20},__self:void 0},vs.a.createElement("span",{className:"FilterSwitchStatus-switch-inner",__source:{fileName:EB,lineNumber:24},__self:void 0}))))},PB="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/LevelFilterLimit.js",TB=function LevelFilterLimit(e){var t=e.isOn,r=e.levelLimit,i=e.levelLimitInput,n=e.setLevelLimit,a=e.getLevelInput;return vs.a.createElement("div",{className:"LevelFilterLimit",__source:{fileName:PB,lineNumber:10},__self:void 0},vs.a.createElement("p",{__source:{fileName:PB,lineNumber:11},__self:void 0},"\u5c4f\u853d",vs.a.createElement("input",{className:"LevelFilterLimit-input "+(t?"enabled":""),type:"text",placeholder:"1~30",maxLength:"2",value:r,onChange:i,onBlur:n,ref:a,__source:{fileName:PB,lineNumber:13},__self:void 0}),"\u7ea7\u53ca\u4ee5\u4e0b\u7528\u6237\u7684\u5f39\u5e55"))},BB="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/KeywordFilterTab.js";function KeywordFilterTab_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function KeywordFilterTab_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function KeywordFilterTab_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var MB,LB,zB,AB=(_B=(0,n.a.Service)(DB),Object(ye.log)((NB=function(e){function KeywordFilterHeader(){var t,r;!function KeywordFilterTab_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,KeywordFilterHeader);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=KeywordFilterTab_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function KeywordFilterTab_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"barrageFilterService",CB,r),r.switchNav=function(e){return function(){var t=r.props.roomId,i=Object(yB.d)(t),n=i.globalData,a={room:i.roomData,global:n}[e];r.barrageFilterService.setFilterData({type:e,keywords:a})}},KeywordFilterTab_possibleConstructorReturn(r,t)}return KeywordFilterTab_inherits(KeywordFilterHeader,e),KeywordFilterHeader.prototype.render=function render(){var e=this,t=this.props.type;return vs.a.createElement("div",{className:"FilKeyTab",__source:{fileName:BB,lineNumber:35},__self:this},Object.keys(yB.a).map(function(r,i){return vs.a.createElement("div",{className:"tab "+(t===r?"active":""),onClick:e.switchNav(r),key:"nav"+i,__source:{fileName:BB,lineNumber:38},__self:e},yB.a[r])}))},KeywordFilterHeader}(vs.a.Component),CB=function KeywordFilterTab_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(NB.prototype,"barrageFilterService",[_B],{enumerable:!0,initializer:null}),SB=NB))||SB),IB="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/LevelFilterTab.js";function LevelFilterTab_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function LevelFilterTab_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var FB,xB,GB,UB,HB,WB,VB=Object(ye.log)((zB=LB=function(e){function LevelFilterTab(){return function LevelFilterTab_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LevelFilterTab),function LevelFilterTab_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return LevelFilterTab_inherits(LevelFilterTab,e),LevelFilterTab.prototype.render=function render(){var e=this,t=this.props,r=t.type,i=t.filterOn,n=t.changeTypeHandler;return vs.a.createElement("div",{className:"LevelFilKeyTab "+(i?"on":""),__source:{fileName:IB,lineNumber:22},__self:this},Object.keys(yB.a).map(function(t,i){return vs.a.createElement("div",{className:"tab "+(r===t?"active":""),onClick:function onClick(){n(t)},onMouseDown:function onMouseDown(e){e.preventDefault()},key:"nav"+i,__source:{fileName:IB,lineNumber:25},__self:e},yB.a[t])}))},LevelFilterTab}(vs.a.Component),LB.defaultProps={changeTypeHandler:function changeTypeHandler(){}},MB=zB))||MB,$B="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/KeywordFilterItem.js",KB=function KeywordFilterItem(e){var t=e.text,r=e.type,i=e.deleteKeywords;return vs.a.createElement("li",{className:"FKLiWrap",__source:{fileName:$B,lineNumber:9},__self:void 0},vs.a.createElement("span",{className:"FKLiWrap-icon",__source:{fileName:$B,lineNumber:10},__self:void 0}),vs.a.createElement("span",{className:"FKLiWrap-text",__source:{fileName:$B,lineNumber:11},__self:void 0},vs.a.createElement("pre",{__source:{fileName:$B,lineNumber:12},__self:void 0},t)),vs.a.createElement("span",{className:"FKLiWrap-deleteBtn",onClick:i({text:t,type:r}),__source:{fileName:$B,lineNumber:14},__self:void 0}))},qB="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/KeywordFilterContent.js",QB=function KeywordFilterContent(e){var t=e.keywords,r=e.type,i=e.deleteKeywords,n=t.length,a=yB.a[r],o=0,l=t.length;return o=l<=2?68:l<5?30*l:140,n?vs.a.createElement("div",{className:"FKContent",__source:{fileName:qB,lineNumber:30},__self:void 0},vs.a.createElement("p",{className:"FKContent-title",__source:{fileName:qB,lineNumber:31},__self:void 0},a,"\u8fc7\u6ee4\u5305\u542b\u4ee5\u4e0b\u5173\u952e\u8bcd\u7684\u5f39\u5e55\uff08",n,"/20\uff09"),vs.a.createElement(qP.a,{className:"FKContent-mcbox",style:{height:o},__source:{fileName:qB,lineNumber:34},__self:void 0},vs.a.createElement("ul",{className:"ulContent",__source:{fileName:qB,lineNumber:35},__self:void 0},t.map(function(e){return vs.a.createElement(KB,{key:e,text:e,type:r,deleteKeywords:i,__source:{fileName:qB,lineNumber:37},__self:void 0})})))):vs.a.createElement("div",{className:"FKNokeywords",__source:{fileName:qB,lineNumber:44},__self:void 0},vs.a.createElement("p",{className:"FKNokeywords-title",__source:{fileName:qB,lineNumber:45},__self:void 0},a,"\u6ca1\u6709\u88ab\u8fc7\u6ee4\u7684\u5173\u952e\u8bcd"),vs.a.createElement("p",{className:"FKNokeywords-tip",__source:{fileName:qB,lineNumber:46},__self:void 0},"\u8bbe\u7f6e\u540e",a,"\u5305\u542b\u5173\u952e\u8bcd\u7684\u5f39\u5e55\u5bf9\u60a8\u4e0d\u53ef\u89c1"))},JB="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/KeywordFilterInput.js",YB=function KeywordFilterInput(e){var t=e.keywordInputting,r=e.keywordFilterInput,i=e.getKeywordInput,n=e.addKeywords,a=e.onBlur;return vs.a.createElement("div",{className:"FilterKeywords-edit",__source:{fileName:JB,lineNumber:9},__self:void 0},vs.a.createElement("input",{className:"FilterKeywords-edit-input",type:"text",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u8bcd\uff08\u652f\u6301\u901a\u914d\u7b26*\u3001\uff1f\uff09",maxLength:"10",onChange:r,ref:i,onBlur:a,__source:{fileName:JB,lineNumber:10},__self:void 0}),vs.a.createElement("div",{className:"FilterKeywords-edit-addBtn "+(t?"active":""),onMouseDown:n,__source:{fileName:JB,lineNumber:19},__self:void 0},"\u6dfb\u52a0"))},XB="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/TipRemind.js",ZB=function FilKeyTipRemind(e){var t=e.isShowTip,r=e.tip;return t?vs.a.createElement("div",{className:"FKRemind",__source:{fileName:XB,lineNumber:13},__self:void 0},vs.a.createElement("div",{className:"FKRemind-content",__source:{fileName:XB,lineNumber:14},__self:void 0},vs.a.createElement("span",{className:"contentTip",__source:{fileName:XB,lineNumber:15},__self:void 0},r))):null},eM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},tM="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/components/KeywordFilter.js";function KeywordFilter_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function KeywordFilter_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function KeywordFilter_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function KeywordFilter_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function KeywordFilter_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var rM,iM,nM,aM,oM,lM,sM=n.a.Service,cM={most_rooms:"\u6700\u591a\u8bbe\u7f6e20\u4e2a\u76f4\u64ad\u95f4",most_words:"\u6700\u591a\u6dfb\u52a020\u4e2a\u5173\u952e\u8bcd",repeat_word:"\u8bf7\u52ff\u6dfb\u52a0\u91cd\u590d\u7684\u5173\u952e\u8bcd",level_limit:"\u5f53\u524d\u4ec5\u652f\u6301\u5c4f\u853d1~30\u7ea7\u7528\u6237"},uM=150,pM=function getStatus(e){return{0:2,1:1}[e]},fM=(FB=sM(DB),xB=sM(C.DataCenter.global),Object(ye.log)((UB=function(e){function KeywordFilter(){var t,r;!function KeywordFilter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,KeywordFilter);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=KeywordFilter_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),KeywordFilter_initDefineProp(r,"barrageFilterService",HB,r),KeywordFilter_initDefineProp(r,"global",WB,r),r.state={isTip:!1,tip:"",keywordInputting:0},r.levelInput=null,r.keywordInput=null,r.dataRestructure=function(){},r.tipRemind=function(e){r.setState({isTip:!0,tip:e}),setTimeout(function(){r.setState({isTip:!1,tip:""})},2e3)},r.getLevelInput=function(e){r.levelInput=e},r.getKeywordInput=function(e){r.keywordInput=e},r.filterSwitch=function(e){return function(){var t,i=r.props,n=i.roomId,a=i.levelType,o=i.levelFilter,l=i.levelLimit,s=i.keywordsFilter,c=Object(yB.e)(),u={level:"levelFilter",keywords:"keywordsFilter"}[e],p=+!{level:o,keywords:s}[e],f=((t={})[u]=p,t);if("level"===e&&"room"===a?c=Object(yB.f)({data:c,rid:n,levelFilter:p,levelLimit:l}):c[u]=p,"keywords"===e&&Object(O.dysub)("click_user_shieldkv_on",{stat:pM(s)}),p){var d={level:r.levelInput,keywords:r.keywordInput}[e];setTimeout(function(){d.focus()},uM)}C.DataCenter.localStorage.set(yB.b,JSON.stringify(c)),r.global.set("BARRAGE_FILTER",r.dataRestructure(c)),setTimeout(function(){r.barrageFilterService.setFilterData(eM({},f))},uM)}},r.autoToggleKeywordSwitch=function(e){var t=r.props.roomId,i=Object(yB.d)(t),n=i.keywordsFilter,a=i.globalData,o=Object(yB.e)().roomKw,l=[];Object.values(o).forEach(function(e){Array.isArray(e)&&(l=l.concat(e))});var s=a.length>0||l.length>0,c=!1;switch(e){case"open":c=s&&!n;break;case"close":c=!s&&n;break;default:c=s&&!n||!s&&n}c&&r.filterSwitch("keywords")()},r.levelLimitInput=function(e){var t=e.target.value;t&&(t=t.replace(/[^\d]/g,"")),r.barrageFilterService.setFilterData({levelLimit:t})},r.keywordFilterInput=function(e){var t=e.target;r.setState({keywordInputting:+!!t.value.trim()})},r.setLevelLimit=function(e){var t=e.target,i=Object(yB.e)(),n=+t.value.trim()||"",a=+!!n,o=r.props,l=o.roomId,s=o.levelType;n>30&&(r.tipRemind(cM.level_limit),n=30),"room"===s?i=Object(yB.f)({data:i,rid:l,levelLimit:n,levelFilter:a}):(i.levelLimit=n,i.levelFilter=a),C.DataCenter.localStorage.set(yB.b,JSON.stringify(i)),r.global.set("BARRAGE_FILTER",r.dataRestructure(i)),setTimeout(function(){r.barrageFilterService.setFilterData({levelFilter:a,levelLimit:n})},uM)},r.addKeywords=function(){var e=r.props,t=e.type,i=e.roomId,n=Object(yB.e)(),a=r.keywordInput.value.trim(),o=Object(yB.d)(i),l=o.globalData,s={room:o.roomData,global:l}[t],c={room:"roomKw",global:"globalKw"}[t];if(a)if("room"===t&&Object.keys(n.roomKw).length>=20)r.tipRemind(cM.most_rooms);else if(s&&s.length>=20)r.tipRemind(cM.most_words);else if(s.filter(function(e){return e===a}).length>0)r.tipRemind(cM.repeat_word);else{var u=[].concat(s,[a]);Object(O.dysub)("click_user_shieldkv_addkv",{kv:u,type:"room"===t?1:0}),"room"===t?n[c][i]=u:n[c]=u,r.keywordInput.value="",r.barrageFilterService.setFilterData({type:t,keywords:u}),C.DataCenter.localStorage.set(yB.b,JSON.stringify(n)),r.global.set("BARRAGE_FILTER",r.dataRestructure(n)),r.autoToggleKeywordSwitch("open")}},r.deleteKeywords=function(e){var t=e.type,i=e.text;return function(){var e=r.props.roomId,n=Object(yB.e)(),a=Object(yB.d)(e),o=a.globalData,l={room:a.roomData,global:o}[t].filter(function(e){return e!==i}),s={room:"roomKw",global:"globalKw"}[t];Object(O.dysub)("click_user_shieldkv_del",{kv:i,type:"room"===t?1:0}),"room"===t?n[s][e]=l:n[s]=l,r.barrageFilterService.setFilterData({type:t,keywords:l}),C.DataCenter.localStorage.set(yB.b,JSON.stringify(n)),r.global.set("BARRAGE_FILTER",r.dataRestructure(n)),r.autoToggleKeywordSwitch("close")}},r.closeBarrageFilterPane=function(){var e=r.props,t=e.toggleBarrageFilterPane,i=e.levelFilter,n=e.levelLimit;Object(O.dysub)("show_user_shieldle",{stat:pM(i),lev:n}),t()},r.changeLevelType=function(e){var t=r.props.roomId,i=Object(yB.e)(),n=Object(yB.d)(t),a=n.levelFilter,o=n.levelLimit,l=n.roomLevelSetting,s=n.levelType;if(e!==s){if("room"===s){var c=l.filter,u=l.level;c&&!u&&(i=Object(yB.f)({data:i,rid:t,levelLimit:u,levelFilter:0}))}else a&&!o&&(i.levelFilter=0);var p=("room"===e?l.filter:a)||0,f=("room"===e?l.level:o)||"";i.levelType=e,C.DataCenter.localStorage.set(yB.b,JSON.stringify(i)),r.global.set("BARRAGE_FILTER",r.dataRestructure(i)),r.barrageFilterService.setFilterData({levelType:e,levelFilter:p,levelLimit:f})}},KeywordFilter_possibleConstructorReturn(r,t)}return KeywordFilter_inherits(KeywordFilter,e),KeywordFilter.prototype.componentDidMount=function componentDidMount(){var e=this.props,t=e.roomId,r=e.type,i=Object(yB.d)(t),n=i.levelType,a=i.levelFilter,o=i.levelLimit,l=i.roomLevelSetting,s=i.keywordsFilter,c=i.globalData,u=i.roomData,p=Object(yB.e)(),f=("room"===n?l.filter:a)||0,d=("room"===n?l.level:o)||"",b={room:u,global:c}[r];this.dataRestructure=Object(yB.c)(t),this.global.set("BARRAGE_FILTER",this.dataRestructure(p)),this.barrageFilterService.setFilterData({type:r,keywords:b,levelFilter:f,keywordsFilter:s,levelLimit:d,levelType:n})},KeywordFilter.prototype.componentDidUpdate=function componentDidUpdate(){var e=this.props.toggleMasterSwitchStatus;(void 0===e?function(){}:e)()},KeywordFilter.prototype.render=function render(){var e=this,t=this.props,r=t.roomId,i=t.levelFilter,n=t.levelLimit,a=t.levelType,o=t.keywordsFilter,l=t.type,s=t.keywords,c=this.state,u=c.isTip,p=c.tip,f=c.keywordInputting;return vs.a.createElement("div",{className:"FilterKeywords",__source:{fileName:tM,lineNumber:362},__self:this},vs.a.createElement("div",{className:"FilterKeywords-close",onClick:this.closeBarrageFilterPane,__source:{fileName:tM,lineNumber:363},__self:this}),vs.a.createElement(jB,{title:"\u7b49\u7ea7\u5c4f\u853d",checked:i,filterSwitch:this.filterSwitch("level"),__source:{fileName:tM,lineNumber:364},__self:this}),vs.a.createElement(VB,{type:a,filterOn:!!i,changeTypeHandler:this.changeLevelType,__source:{fileName:tM,lineNumber:369},__self:this}),vs.a.createElement(TB,{isOn:i,levelLimit:n,levelLimitInput:this.levelLimitInput,setLevelLimit:this.setLevelLimit,getLevelInput:this.getLevelInput,__source:{fileName:tM,lineNumber:374},__self:this}),vs.a.createElement(jB,{title:"\u5173\u952e\u8bcd\u5c4f\u853d",checked:o,filterSwitch:this.filterSwitch("keywords"),__source:{fileName:tM,lineNumber:381},__self:this}),vs.a.createElement(AB,{type:l,roomId:r,__source:{fileName:tM,lineNumber:386},__self:this}),vs.a.createElement(YB,{keywordInputting:f,keywordFilterInput:this.keywordFilterInput,getKeywordInput:this.getKeywordInput,addKeywords:this.addKeywords,onBlur:function onBlur(){return e.autoToggleKeywordSwitch("close")},__source:{fileName:tM,lineNumber:387},__self:this}),vs.a.createElement(QB,{type:l,keywords:s,deleteKeywords:this.deleteKeywords,__source:{fileName:tM,lineNumber:394},__self:this}),vs.a.createElement(ZB,{isShowTip:u,tip:p,__source:{fileName:tM,lineNumber:395},__self:this}))},KeywordFilter}(vs.a.Component),HB=KeywordFilter_applyDecoratedDescriptor(UB.prototype,"barrageFilterService",[FB],{enumerable:!0,initializer:null}),WB=KeywordFilter_applyDecoratedDescriptor(UB.prototype,"global",[xB],{enumerable:!0,initializer:null}),GB=UB))||GB),dM=Object(dv.connect)(function mapStateToProps(e){var t=e.barrageFilterReducers;return{levelFilter:t.levelFilter,levelLimit:t.levelLimit,levelType:t.levelType,keywordsFilter:t.keywordsFilter,type:t.type,keywords:t.keywords}})(fM),bM=(r("54fe2"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageFilter/BarrageFilter.js");function BarrageFilter_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function BarrageFilter_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BarrageFilter_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageFilter_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function BarrageFilter_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var mM,hM,vM,gM=n.a.Service,yM=(rM=gM(C.DataCenter.common),iM=gM(C.DataCenter.global),Object(ye.log)((aM=function(e){function BarrageFilter(){var t,r;!function BarrageFilter_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageFilter);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageFilter_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),BarrageFilter_initDefineProp(r,"common",oM,r),BarrageFilter_initDefineProp(r,"global",lM,r),r.state={isShowContent:!1,ROOM_ID:"0",isOn:!1},r.dataRestructure=function(){},r.toggleMasterSwitchStatus=function(){var e=Object(yB.e)(),t=r.dataRestructure(e),i=!(!+t.LEVEL_FILTER&&!t.KEYWORDS_FILTER.length);r.setState({isOn:i})},r.toggleBarrageFilterPane=function(){var e=r.state.isShowContent;Object(O.dysub)("click_user_shieldkv"),r.setState({isShowContent:!e}),window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},BarrageFilter_possibleConstructorReturn(r,t)}return BarrageFilter_inherits(BarrageFilter,e),BarrageFilter.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){var r=t.room,i=(r=void 0===r?{}:r).room_id,n=Object(yB.e)(),a=Object(yB.c)(i),o=n.levelLimit;e.dataRestructure=a,n.levelType=n.levelType||(+o?"global":"room"),e.setState({ROOM_ID:i}),C.DataCenter.localStorage.set(yB.b,JSON.stringify(n)),e.global.set("BARRAGE_FILTER",a(n)),e.toggleMasterSwitchStatus()})},BarrageFilter.prototype.render=function render(){var e=this.state,t=e.isShowContent,r=e.ROOM_ID,i=e.isOn;return vs.a.createElement("div",{className:"BarrageFilter",__source:{fileName:bM,lineNumber:75},__self:this},vs.a.createElement("div",{className:"BarrageFilter-fkbutton "+(i?"on":""),onClick:this.toggleBarrageFilterPane,__source:{fileName:bM,lineNumber:76},__self:this},vs.a.createElement("div",{className:"fkbutton-icon",__source:{fileName:bM,lineNumber:77},__self:this})),t?vs.a.createElement(dM,{roomId:r,toggleBarrageFilterPane:this.toggleBarrageFilterPane,toggleMasterSwitchStatus:this.toggleMasterSwitchStatus,__source:{fileName:bM,lineNumber:81},__self:this}):null)},BarrageFilter}(vs.a.Component),oM=BarrageFilter_applyDecoratedDescriptor(aM.prototype,"common",[rM],{enumerable:!0,initializer:null}),lM=BarrageFilter_applyDecoratedDescriptor(aM.prototype,"global",[iM],{enumerable:!0,initializer:null}),nM=aM))||nM),_M=r("07e31"),SM=r("d74cd"),NM=r("60e44"),CM=(r("9f697"),"/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageSuperLink/pop/Pop.js");function Pop_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Pop_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var OM,wM,DM,EM,kM,RM,jM,PM,TM,BM=(mM=(0,n.a.Service)(ki.a),hM=function(e){function BarrageSuperLinkPop(){!function Pop_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageSuperLinkPop);var t=function Pop_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function Pop_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"barrageSuperLinkServices",vM,t),t.textArea=null,t}return Pop_inherits(BarrageSuperLinkPop,e),BarrageSuperLinkPop.prototype.componentDidMount=function componentDidMount(){this.changeAreaText()},BarrageSuperLinkPop.prototype.changeAreaText=function changeAreaText(){var e=this;Object(_M.fromEvent)(this.textArea,"keyup").pipe(Object(SM.debounceTime)(200),Object(c.map)(function(){return e.textArea.value.trim()}),Object(NM.distinctUntilChanged)()).subscribe(function(t){e.props.updateAreaText(t)}),Object(_M.fromEvent)(this.textArea,"blur").pipe(Object(c.map)(function(){return e.textArea.value.trim()})).subscribe(function(t){e.props.updateAreaText(t)}),Object(_M.fromEvent)(this.textArea,"focus").subscribe(function(){e.props.updateLinkError(0)})},BarrageSuperLinkPop.prototype.render=function render(){var e=this,t=this.props;return vs.a.createElement("div",{className:"BarrageSuperLinkPop",style:{display:t.superLinkShow?"block":"none"},__source:{fileName:CM,lineNumber:72},__self:this},vs.a.createElement("i",{className:"BarrageSuperLinkPop-close",onClick:function onClick(){t.togglePop(0)},__source:{fileName:CM,lineNumber:77},__self:this}),vs.a.createElement("div",{className:"BarrageSuperLinkPop-header",__source:{fileName:CM,lineNumber:84},__self:this},vs.a.createElement("i",{className:"BarrageSuperLinkPop-logo",__source:{fileName:CM,lineNumber:85},__self:this}),vs.a.createElement("div",{className:"BarrageSuperLinkPop-title",__source:{fileName:CM,lineNumber:86},__self:this},vs.a.createElement("h2",{className:"BarrageSuperLinkPop-bigTitle",__source:{fileName:CM,lineNumber:87},__self:this},"\u8d85\u94fe\u5f39\u5e55"),vs.a.createElement("div",{className:"BarrageSuperLinkPop-smallTitle",__source:{fileName:CM,lineNumber:88},__self:this},vs.a.createElement("span",{className:"BarrageSuperLinkPop-desc",__source:{fileName:CM,lineNumber:89},__self:this},"\u60f3\u53bb\u54ea\uff1f\u6211\u7684\u5f39\u5e55\u5f15\u5bfc\u4f60~"),vs.a.createElement("a",{href:"https://www.douyu.com/cms/gong/201801/05/7017.shtml",target:"_blank",onClick:function onClick(){return e.barrageSuperLinkServices.barrageLinkDYSub("click_msg_lmicon_intro")},className:"BarrageSuperLinkPop-link",__source:{fileName:CM,lineNumber:90},__self:this},"\u4ecb\u7ecd")))),vs.a.createElement("div",{className:"BarrageSuperLinkPop-content",__source:{fileName:CM,lineNumber:100},__self:this},vs.a.createElement("span",{className:"BarrageSuperLinkPop-tips",__source:{fileName:CM,lineNumber:101},__self:this},"\u8bbe\u7f6e\u4ee5\u4e0b\u8df3\u8f6c\u94fe\u63a5\uff0c\u5176\u4ed6\u4eba\u70b9\u51fb\u4f60\u7684\u5f39\u5e55\u53ef\u76f4\u63a5\u8fc7\u53bb\u54df~"),vs.a.createElement("div",{className:"BarrageSuperLinkPop-from",__source:{fileName:CM,lineNumber:102},__self:this},vs.a.createElement("textarea",{className:"BarrageSuperLinkPop-area",type:"text",placeholder:"\u623f\u95f4\u53f7/\u9c7c\u5427\u8d34\u5b50\u94fe\u63a5/\u89c6\u9891\u94fe\u63a5",ref:function ref(t){e.textArea=t},__source:{fileName:CM,lineNumber:103},__self:this}))),vs.a.createElement("p",{className:["BarrageSuperLinkPop-errorDesc",t.superLinkError<=0?"is-noError":""].join(" "),__source:{fileName:CM,lineNumber:113},__self:this},function returnErrorDesc(e){switch(e.superLinkError){case 1:return"\u8bf7\u8f93\u5165\u8df3\u8f6c\u94fe\u63a5";case 2:return"\u8bf7\u586b\u5199\u6b63\u786e\u7684\u94fe\u63a5\u4fe1\u606f";case 3:return"\u8bf7\u52ff\u91cd\u590d\u53d1\u9001\u5f39\u5e55\uff01";default:return""}}(t)))},BarrageSuperLinkPop}(vs.a.Component),vM=function Pop_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(hM.prototype,"barrageSuperLinkServices",[mM],{enumerable:!0,initializer:null}),hM),MM=(r("40a09"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),LM="/shark/live/src/pages/roomPage/playerAsideModule/components/BarrageSuperLink/BarrageSuperLink.js";function BarrageSuperLink_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function BarrageSuperLink_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function BarrageSuperLink_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function BarrageSuperLink_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function BarrageSuperLink_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var zM,AM,IM,FM,xM=n.a.Service,GM=(OM=xM(ki.a),wM=xM(jn.a),DM=xM(mR),EM=xM(la.a),kM=function(e){function BarrageSuperLink(){var t,r;!function BarrageSuperLink_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BarrageSuperLink);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=BarrageSuperLink_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),BarrageSuperLink_initDefineProp(r,"barrageSuperLinkServices",RM,r),BarrageSuperLink_initDefineProp(r,"chatCampService",jM,r),BarrageSuperLink_initDefineProp(r,"chatToolBarServices",PM,r),BarrageSuperLink_initDefineProp(r,"chatRoleBarrageServices",TM,r),BarrageSuperLink_possibleConstructorReturn(r,t)}return BarrageSuperLink_inherits(BarrageSuperLink,e),BarrageSuperLink.prototype.componentDidMount=function componentDidMount(){this.barrageSuperLinkServices.init(),this.togglePop=this.togglePop.bind(this),this.updateAreaText=this.updateAreaText.bind(this),this.updateLinkError=this.updateLinkError.bind(this)},BarrageSuperLink.prototype.togglePop=function togglePop(e){this.barrageSuperLinkServices.updateBarrageLinkData({superLinkShow:e,type:"openPanel"}),e&&this.barrageSuperLinkServices.barrageLinkDYSub("click_msg_lmicon"),this.chatRoleBarrageServices.clearRoleBarrage(),this.chatCampService.closeChatCamp(),this.chatToolBarServices.updateCampColor(0,$o.colorArr[0])},BarrageSuperLink.prototype.updateLinkError=function updateLinkError(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.barrageSuperLinkServices.updateBarrageLinkData({superLinkError:e})},BarrageSuperLink.prototype.updateAreaText=function updateAreaText(e){this.barrageSuperLinkServices.updateBarrageLinkData({superLinkContent:e})},BarrageSuperLink.prototype.render=function render(){var e=this,t=Object.assign({},this.props.BarrageSuperLinkData,{togglePop:this.togglePop,updateAreaText:this.updateAreaText,updateLinkError:this.updateLinkError});return t.superLinkSwitch<=0?null:vs.a.createElement("div",{className:"BarrageSuperLink",__source:{fileName:LM,lineNumber:69},__self:this},vs.a.createElement("i",{className:"BarrageSuperLink-icon",title:"\u8d85\u94fe\u5f39\u5e55",onClick:function onClick(){e.togglePop(1)},__source:{fileName:LM,lineNumber:70},__self:this}),vs.a.createElement(BM,MM({},t,{__source:{fileName:LM,lineNumber:78},__self:this})))},BarrageSuperLink}(vs.a.Component),RM=BarrageSuperLink_applyDecoratedDescriptor(kM.prototype,"barrageSuperLinkServices",[OM],{enumerable:!0,initializer:null}),jM=BarrageSuperLink_applyDecoratedDescriptor(kM.prototype,"chatCampService",[wM],{enumerable:!0,initializer:null}),PM=BarrageSuperLink_applyDecoratedDescriptor(kM.prototype,"chatToolBarServices",[DM],{enumerable:!0,initializer:null}),TM=BarrageSuperLink_applyDecoratedDescriptor(kM.prototype,"chatRoleBarrageServices",[EM],{enumerable:!0,initializer:null}),kM),UM=Object(dv.connect)(function mapStateToProps(e){return{BarrageSuperLinkData:e.BarrageSuperLinkData}})(GM),HM=(r("15f78"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatToolBar/ChatToolBar.js");function ChatToolBar_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatToolBar_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var WM=(zM=(0,n.a.Service)(jn.a),Object(ye.log)((IM=function(e){function ChatToolBar(){!function ChatToolBar_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatToolBar);var t=function ChatToolBar_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function ChatToolBar_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"chatCampService",FM,t),t.state={left:0},t.chatToolBarDom=vs.a.createRef(),t}return ChatToolBar_inherits(ChatToolBar,e),ChatToolBar.prototype.componentDidMount=function componentDidMount(){this.setState({left:this.chatToolBarDom.current.getBoundingClientRect().left})},ChatToolBar.prototype.render=function render(){var e=this.props.isInit,t=void 0!==e&&e;return vs.a.createElement("div",{className:"ChatToolBar",ref:this.chatToolBarDom,__source:{fileName:HM,lineNumber:47},__self:this},vs.a.createElement(ER,{__source:{fileName:HM,lineNumber:48},__self:this}),vs.a.createElement(HR,{__source:{fileName:HM,lineNumber:49},__self:this}),vs.a.createElement(vj,{__source:{fileName:HM,lineNumber:50},__self:this}),vs.a.createElement(uP,{toolBarleft:this.state.left,__source:{fileName:HM,lineNumber:51},__self:this}),t?vs.a.createElement(lB,{__source:{fileName:HM,lineNumber:53},__self:this}):vs.a.createElement(KP,{toolBarleft:this.state.left,__source:{fileName:HM,lineNumber:53},__self:this}),vs.a.createElement(jT,{__source:{fileName:HM,lineNumber:55},__self:this}),vs.a.createElement(yM,{__source:{fileName:HM,lineNumber:56},__self:this}),vs.a.createElement(UM,{__source:{fileName:HM,lineNumber:57},__self:this}),vs.a.createElement(gB,{__source:{fileName:HM,lineNumber:58},__self:this}))},ChatToolBar}(vs.a.Component),FM=function ChatToolBar_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(IM.prototype,"chatCampService",[zM],{enumerable:!0,initializer:null}),AM=IM))||AM),VM=Object(dv.connect)(function mapStateToProps(e){return{isInit:e.chatCamp.isInit}})(WM),$M="/shark/live/src/pages/roomPage/playerAsideModule/components/Chat/Chat.js";function Chat_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Chat_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var KM,qM,QM,JM,YM,XM,ZM,eL=function(e){function Chat(){return function Chat_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Chat),function Chat_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return Chat_inherits(Chat,e),Chat.prototype.render=function render(){return vs.a.createElement("div",{className:"Chat",__source:{fileName:$M,lineNumber:17},__self:this},vs.a.createElement(VM,{className:"Chat-toolbar",__source:{fileName:$M,lineNumber:18},__self:this}),vs.a.createElement(Rk,{className:"Chat-speak",__source:{fileName:$M,lineNumber:19},__self:this}))},Chat}(vs.a.Component),tL=(r("088e8"),r("8e6e5"),r("c4595")),rL=r("7ee03"),iL=r.n(rL),nL=(r("04004"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),aL="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterLevel120/EnterLevel120.js";function EnterLevel120_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function EnterLevel120_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterLevel120_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function EnterLevel120_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var oL=n.a.Service,lL=(KM=oL(ir),qM=oL(ib),QM=oL(C.DataCenter.global),JM=function(e){function EnterLevel120(t){!function EnterLevel120_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterLevel120);var r=function EnterLevel120_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return EnterLevel120_initDefineProp(r,"enterLevel120Service",YM,r),EnterLevel120_initDefineProp(r,"enterEffectService",XM,r),EnterLevel120_initDefineProp(r,"global",ZM,r),r.width=336,r.deirect="bottom",r.reset=r.reset.bind(r),r.imgOnload=r.imgOnload.bind(r),r.state={isRender:!0,isOnload:!1},r}return EnterLevel120_inherits(EnterLevel120,e),EnterLevel120.prototype.componentWillMount=function componentWillMount(){this.enterLevel120Service.findEnterLevel120ByEpic()},EnterLevel120.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.data!==this.props.data&&this.setState({isRender:!0,isOnload:!1})},EnterLevel120.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(this.timer=null,clearTimeout(this.timer)),this.imgTimer&&clearTimeout(this.imgTimer)},EnterLevel120.prototype.reset=function reset(e){var t=this;this.timer||(this.timer=setTimeout(function(){t.setState({isRender:!1}),t.timer=null,t.enterEffectService.deleteEnterData(Bo)},e))},EnterLevel120.prototype.matchEid=function matchEid(e){var t=void 0;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return+r.ceid===+e&&(t=r),+r.ceid===+e}),t},EnterLevel120.prototype.imgOnload=function imgOnload(e){var t=this;return!(!this.imgBg||!this.imgSwf)||(this.imgBg=new Image,this.imgSwf=new Image,!!this.imgSwf.complete||(this.imgSwf.onload=function(){t.callback()},this.imgTimer&&clearTimeout(this.imgTimer),this.imgTimer=setTimeout(function(){t.callback()},500),this.imgBg.src=e.webImg,this.imgSwf.src=e.webImgSwf,!1))},EnterLevel120.prototype.callback=function callback(){this.setState({isOnload:!0})},EnterLevel120.prototype.render=function render(){var e=this;if(this.state.isRender&&this.props.data){var t=window.location.protocol+"//"+window.location.host+"/",r=nL({},this.props.data),i=r.ceid,n=r.ic,a=r.nn,o=this.matchEid(i,this.props.config);if(o&&(this.state.isOnload||this.imgOnload(o))){var l=nL({},o),s=l.bgHeight,c=l.webImg,u=l.webImgSwf,p=l.imgHeight,f=l.fontColor,d=l.fontHeight,b=l.nameColor,m=nL({},o),h=m.welcomeContent,v=void 0===h?"":h,g=m.occurrenceMode,y=void 0===g?1:g,_=v.split("%username%")||[],S=_[0],N=void 0===S?"":S,C=_[1],O=void 0===C?"":C,w=["bottom","top","left","right"][y-1]||"bottom",D={},E={};return D[w]=3===+y||4===+y?-parseInt(this.width,10)||1:-parseInt(s,10)||1,E[w]=Object(tL.spring)(0,{stiffness:30,damping:10}),this.reset(4e3),vs.a.createElement(tL.Motion,{defaultStyle:D,style:E,__source:{fileName:aL,lineNumber:150},__self:this},function(r){return vs.a.createElement("div",{className:"EnterLevel120",style:nL({height:s+"px"},r),__source:{fileName:aL,lineNumber:156},__self:e},vs.a.createElement("div",{className:"EnterLevel120-content",__source:{fileName:aL,lineNumber:157},__self:e},vs.a.createElement("img",{className:"EnterLevel120-flashbg",src:"//sta-op.douyucdn.cn/"+c,__source:{fileName:aL,lineNumber:158},__self:e}),vs.a.createElement("object",{autoPlay:"autoPlay",className:"EnterLevel120-object",__source:{fileName:aL,lineNumber:159},__self:e},vs.a.createElement("embed",{className:"EnterLevel120-embed",type:"application/x-shockwave-flash",src:t+u,wmode:"transparent",__source:{fileName:aL,lineNumber:160},__self:e})),vs.a.createElement("div",{className:"EnterLevel120-icon",style:{top:p+"px"},__source:{fileName:aL,lineNumber:164},__self:e},vs.a.createElement(ow.a,{className:"EnterLevel120-avatar",src:"//apic.douyucdn.cn/upload/"+n+"_middle.jpg",defaultSrc:iL.a,__source:{fileName:aL,lineNumber:165},__self:e})),vs.a.createElement("div",{className:"EnterLevel120-introWrap",style:{color:f,top:d+"px"},__source:{fileName:aL,lineNumber:169},__self:e},vs.a.createElement("div",{className:"EnterLevel120-intro",__source:{fileName:aL,lineNumber:171},__self:e},vs.a.createElement("span",{className:"EnterLevel120-text",__source:{fileName:aL,lineNumber:172},__self:e},N),vs.a.createElement("span",{className:"EnterLevel120-name",style:{color:b},__source:{fileName:aL,lineNumber:173},__self:e},a||"\u865a\u4f4d\u4ee5\u5f85"),vs.a.createElement("span",{className:"EnterLevel120-text",__source:{fileName:aL,lineNumber:175},__self:e},O)))))})}return this.reset(0),null}return null},EnterLevel120}(vs.a.Component),YM=EnterLevel120_applyDecoratedDescriptor(JM.prototype,"enterLevel120Service",[KM],{enumerable:!0,initializer:null}),XM=EnterLevel120_applyDecoratedDescriptor(JM.prototype,"enterEffectService",[qM],{enumerable:!0,initializer:null}),ZM=EnterLevel120_applyDecoratedDescriptor(JM.prototype,"global",[QM],{enumerable:!0,initializer:null}),JM),sL=Object(dv.connect)(function mapStateToProps(e){return{config:e.chatEnterLevel120.config}})(lL),cL=r("97227"),uL=r.n(cL),pL=r("745b2"),fL=r.n(pL),dL=r("7e34b"),bL=r.n(dL),mL=r("3b420"),hL=r.n(mL),vL=r("6b3a2"),gL=r.n(vL),yL=r("02c94"),_L=r.n(yL),SL=r("17caf"),NL=r.n(SL),CL=r("5ac8e"),OL=r.n(CL),wL=r("f2f3e"),DL=r.n(wL),EL={enterBg4:uL.a,enterBg5:fL.a,enterBg6:bL.a,video4:hL.a,video5:gL.a,video6:_L.a,swf4:NL.a,swf5:OL.a,swf6:DL.a},kL=(r("736a7"),r("fcf3d"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterNoble/EnterNobleCard/EnterNobleCard.js"),RL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function EnterNobleCard_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterNobleCard_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var jL,PL,TL,BL,ML,LL=function(e){function EnterNobleCard(){return function EnterNobleCard_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterNobleCard),function EnterNobleCard_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return EnterNobleCard_inherits(EnterNobleCard,e),EnterNobleCard.prototype.render=function render(){var e=RL({},this.props),t=e.nl,r=e.nn,i=void 0===r?"":r,n=e.ic,a=e.nobleName,o=void 0===a?"":a;return vs.a.createElement("div",{className:"EnterNobleCard is-level"+t,__source:{fileName:kL,lineNumber:17},__self:this},vs.a.createElement("div",{className:"EnterNobleCard-icon",__source:{fileName:kL,lineNumber:18},__self:this},vs.a.createElement("div",{className:"EnterNobleCard-bd is-level"+t,__source:{fileName:kL,lineNumber:19},__self:this}),vs.a.createElement(ow.a,{className:"EnterNobleCard-avatar",src:"//apic.douyucdn.cn/upload/"+n+"_middle.jpg",defaultSrc:iL.a,__source:{fileName:kL,lineNumber:20},__self:this})),vs.a.createElement("h2",{className:"EnterNobleCard-nickName is-level"+t,__source:{fileName:kL,lineNumber:23},__self:this},i),vs.a.createElement("p",{className:"EnterNobleCard-nobleName",__source:{fileName:kL,lineNumber:24},__self:this},"\u6b22\u8fce",o,"\u5149\u4e34\u76f4\u64ad\u95f4"))},EnterNobleCard}(vs.a.Component),zL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},AL="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterNoble/EnterNoble.js";function EnterNoble_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function EnterNoble_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterNoble_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function EnterNoble_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var IL=n.a.Service,FL=(jL=IL(ib),PL=IL(C.DataCenter.common),TL=function(e){function EnterNoble(){!function EnterNoble_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterNoble);var t=function EnterNoble_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return EnterNoble_initDefineProp(t,"enterEffectService",BL,t),EnterNoble_initDefineProp(t,"common",ML,t),t.reset=t.reset.bind(t),t.state={isRender:!0,config:{}},t}return EnterNoble_inherits(EnterNoble,e),EnterNoble.prototype.reset=function reset(){var e=this;this.timer||(this.timer=setTimeout(function(){e.setState({isRender:!1}),e.timer=null,e.enterEffectService.deleteEnterData(Mo)},5e3))},EnterNoble.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(this.timer=null,clearTimeout(this.timer))},EnterNoble.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.data!==this.props.data&&this.setState({isRender:!0})},EnterNoble.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({config:t.get("room.nobleConfig")||{}})})},EnterNoble.prototype.render=function render(){var e=this;if(this.state.isRender&&this.props.data){var t=zL({},this.props.data).nl,r=this.state.config[t]&&this.state.config[t].noble_name||"";return this.reset(),vs.a.createElement(tL.Motion,{defaultStyle:{maxHeight:0,opacity:.9},style:{maxHeight:Object(tL.spring)(225,{stiffness:30,damping:10}),opacity:Object(tL.spring)(1,{stiffness:30,damping:10})},__source:{fileName:AL,lineNumber:77},__self:this},function(i){return vs.a.createElement("div",{className:"EnterNoble",style:i,__source:{fileName:AL,lineNumber:89},__self:e},vs.a.createElement("div",{className:"EnterNoble-main is-level"+t,__source:{fileName:AL,lineNumber:90},__self:e},vs.a.createElement("img",{className:"EnterNoble-bg is-level"+t,src:EL["enterBg"+t],__source:{fileName:AL,lineNumber:91},__self:e}),vs.a.createElement("video",{className:"EnterNoble-video is-level"+t,autoPlay:"autoplay",loop:"loop",muted:!0,__source:{fileName:AL,lineNumber:92},__self:e},vs.a.createElement("source",{src:EL["video"+t],type:"video/mp4",__source:{fileName:AL,lineNumber:94},__self:e})),vs.a.createElement(LL,zL({},e.props.data,{nobleName:r,__source:{fileName:AL,lineNumber:96},__self:e}))))})}return null},EnterNoble}(vs.a.Component),BL=EnterNoble_applyDecoratedDescriptor(TL.prototype,"enterEffectService",[jL],{enumerable:!0,initializer:null}),ML=EnterNoble_applyDecoratedDescriptor(TL.prototype,"common",[PL],{enumerable:!0,initializer:null}),TL),xL=(r("77855"),r("5e1b7"),"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterWindCloud/EnterWindCloudCard/EnterWindCloudCard.js"),GL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function EnterWindCloudCard_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterWindCloudCard_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var UL,HL,WL,VL,$L,KL=function(e){function EnterWindCloudCard(){return function EnterWindCloudCard_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterWindCloudCard),function EnterWindCloudCard_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return EnterWindCloudCard_inherits(EnterWindCloudCard,e),EnterWindCloudCard.prototype.render=function render(){var e=GL({},this.props),t=e.nl,r=e.nn,i=void 0===r?"":r,n=e.ic,a=e.wcConfig,o=void 0===a?{}:a,l=o.wText,s={color:o.nkColor},c={color:o.nColor};return vs.a.createElement("div",{className:"EnterWindCloudCard is-level"+t,__source:{fileName:xL,lineNumber:26},__self:this},vs.a.createElement("div",{className:"EnterWindCloudCard-icon",__source:{fileName:xL,lineNumber:27},__self:this},vs.a.createElement(ow.a,{className:"EnterWindCloudCard-avatar",src:"//apic.douyucdn.cn/upload/"+n+"_middle.jpg",defaultSrc:iL.a,__source:{fileName:xL,lineNumber:28},__self:this})),vs.a.createElement("h2",{className:"EnterWindCloudCard-nickName is-level"+t,style:s,__source:{fileName:xL,lineNumber:31},__self:this},i),vs.a.createElement("p",{className:"EnterWindCloudCard-nobleName",style:c,__source:{fileName:xL,lineNumber:32},__self:this},l))},EnterWindCloudCard}(vs.a.Component),qL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},QL="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterWindCloud/EnterWindCloud.js";function EnterWindCloud_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function EnterWindCloud_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterWindCloud_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function EnterWindCloud_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var JL,YL,XL,ZL=n.a.Service,ez=(UL=ZL(ib),HL=ZL(C.DataCenter.common),WL=function(e){function EnterWindCloud(){!function EnterWindCloud_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterWindCloud);var t=function EnterWindCloud_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return EnterWindCloud_initDefineProp(t,"enterEffectService",VL,t),EnterWindCloud_initDefineProp(t,"common",$L,t),t.reset=t.reset.bind(t),t.state={isRender:!0,config:{}},t}return EnterWindCloud_inherits(EnterWindCloud,e),EnterWindCloud.prototype.reset=function reset(){var e=this;this.timer||(this.timer=setTimeout(function(){e.setState({isRender:!1}),e.timer=null,e.enterEffectService.deleteEnterData(Lo)},5e3))},EnterWindCloud.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(this.timer=null,clearTimeout(this.timer))},EnterWindCloud.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.data!==this.props.data&&this.setState({isRender:!0})},EnterWindCloud.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({config:t.get("room.nobleConfig")||{}})})},EnterWindCloud.prototype.render=function render(){var e=this;if(this.state.isRender&&this.props.data){var t=qL({},this.props.data),r=t.nl,i=t.wcConfig,n=this.state.config[r]&&this.state.config[r].noble_name||"",a=i.enterBg;return this.reset(),vs.a.createElement(tL.Motion,{defaultStyle:{maxHeight:0,opacity:.9},style:{maxHeight:Object(tL.spring)(405,{stiffness:30,damping:10}),opacity:Object(tL.spring)(1,{stiffness:30,damping:10})},__source:{fileName:QL,lineNumber:77},__self:this},function(t){return vs.a.createElement("div",{className:"EnterWindCloud",style:t,__source:{fileName:QL,lineNumber:89},__self:e},vs.a.createElement("div",{className:"EnterWindCloud-main is-level"+r,__source:{fileName:QL,lineNumber:90},__self:e},vs.a.createElement("img",{className:"EnterWindCloud-bg is-level"+r,src:a,__source:{fileName:QL,lineNumber:91},__self:e}),vs.a.createElement(KL,qL({},e.props.data,{nobleName:n,__source:{fileName:QL,lineNumber:92},__self:e}))))})}return null},EnterWindCloud}(vs.a.Component),VL=EnterWindCloud_applyDecoratedDescriptor(WL.prototype,"enterEffectService",[UL],{enumerable:!0,initializer:null}),$L=EnterWindCloud_applyDecoratedDescriptor(WL.prototype,"common",[HL],{enumerable:!0,initializer:null}),WL),tz=(r("a2371"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),rz="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterCharge/EnterCharge.js";function EnterCharge_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterCharge_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var iz,nz,az,oz=(JL=(0,n.a.Service)(C.DataCenter.common),YL=function(e){function EnterCharge(){!function EnterCharge_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterCharge);var t=function EnterCharge_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function EnterCharge_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"common",XL,t),t.state={config:{}},t}return EnterCharge_inherits(EnterCharge,e),EnterCharge.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({config:t.get("room.effectInfo")||{}})})},EnterCharge.prototype.render=function render(){var e=this,t=this.props,r=t.data,i=t.eid,n=this.state.config[i];if(n){var a=r.nn,o=void 0===a?"":a,l=r.ic,s=tz({},n),c=s.icon,u=void 0===c?"":c,p=s.txt,f=(void 0===p?"":p).replace("{uname}",'<span class="EnterCharge-username" title='+o+">"+o+"</span>").replace("|","<br/>");return vs.a.createElement(tL.Motion,{defaultStyle:{bottom:-150},style:{bottom:Object(tL.spring)(0,{stiffness:30,damping:10})},__source:{fileName:rz,lineNumber:45},__self:this},function(t){return vs.a.createElement("div",{className:"EnterCharge",style:t,__source:{fileName:rz,lineNumber:55},__self:e},vs.a.createElement(ow.a,{className:"EnterCharge-avatar",src:"//apic.douyucdn.cn/upload/"+l+"_middle.jpg",defaultSrc:iL.a,__source:{fileName:rz,lineNumber:56},__self:e}),vs.a.createElement("div",{className:"EnterCharge-info",__source:{fileName:rz,lineNumber:60},__self:e},vs.a.createElement("p",{className:"EnterCharge-detail",dangerouslySetInnerHTML:{__html:f},__source:{fileName:rz,lineNumber:61},__self:e})),vs.a.createElement("img",{className:"EnterCharge-icon",src:"//res.douyucdn.cn/resource/"+u,__source:{fileName:rz,lineNumber:63},__self:e}))})}return null},EnterCharge}(vs.a.Component),XL=function EnterCharge_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(YL.prototype,"common",[JL],{enumerable:!0,initializer:null}),YL);r("b26a7");function EnterNormal_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterNormal_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var lz,sz,cz,uz=(iz=(0,n.a.Service)(ib),nz=function(e){function EnterNormal(){!function EnterNormal_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterNormal);var t=function EnterNormal_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function EnterNormal_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"enterEffectService",az,t),t.reset=t.reset.bind(t),t.state={isRender:!0},t}return EnterNormal_inherits(EnterNormal,e),EnterNormal.prototype.reset=function reset(e){var t=this;this.timer||(this.timer=setTimeout(function(){t.setState({isRender:!1}),t.timer=null,t.enterEffectService.deleteEnterData(zo)},e))},EnterNormal.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(this.timer=null,clearTimeout(this.timer))},EnterNormal.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.data!==this.props.data&&this.setState({isRender:!0})},EnterNormal.prototype.render=function render(){if(this.state.isRender&&this.props.data){var e=this.props.data||{},t=e.el,r=t.etp,i=t.ef,n=t.eid;return 2===+r&&1===+i?(this.reset(3e3),vs.a.createElement(oz,{data:e,eid:n,__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterNormal/EnterNormal.js",lineNumber:63},__self:this})):(this.reset(0),null)}return null},EnterNormal}(vs.a.Component),az=function EnterNormal_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(nz.prototype,"enterEffectService",[iz],{enumerable:!0,initializer:null}),nz),pz=(r("332a2"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),fz="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterMotorcade/EnterMotorcade.js";function EnterMotorcade_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterMotorcade_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var dz,bz,mz,hz,vz,gz=(lz=(0,n.a.Service)(ib),sz=function(e){function EnterMotorcade(){!function EnterMotorcade_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterMotorcade);var t=function EnterMotorcade_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function EnterMotorcade_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"enterEffectService",cz,t),t.reset=t.reset.bind(t),t.state={isRender:!0},t}return EnterMotorcade_inherits(EnterMotorcade,e),EnterMotorcade.prototype.reset=function reset(){var e=this;this.timer||(this.timer=setTimeout(function(){e.setState({isRender:!1}),e.timer=null,e.enterEffectService.deleteEnterData(Ao)},5e3))},EnterMotorcade.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(this.timer=null,clearTimeout(this.timer))},EnterMotorcade.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.data!==this.props.data&&this.setState({isRender:!0})},EnterMotorcade.prototype.render=function render(){var e=this;if(this.state.isRender&&this.props.data){var t=pz({},this.props.data),r=t.icon,i=t.nn,n=void 0===i?"":i;return this.reset(),vs.a.createElement(tL.Motion,{defaultStyle:{bottom:30},style:{bottom:Object(tL.spring)(0,{stiffness:30,damping:10})},__source:{fileName:fz,lineNumber:63},__self:this},function(t){return vs.a.createElement("div",{className:"EnterMotorcade",style:t,__source:{fileName:fz,lineNumber:73},__self:e},vs.a.createElement("div",{className:"EnterMotorcade-icon",__source:{fileName:fz,lineNumber:74},__self:e},vs.a.createElement(ow.a,{className:"EnterMotorcade-avatar",src:"//apic.douyucdn.cn/upload/"+r+"_middle.jpg",defaultSrc:iL.a,__source:{fileName:fz,lineNumber:75},__self:e})),vs.a.createElement("div",{className:"EnterMotorcade-info",__source:{fileName:fz,lineNumber:80},__self:e},vs.a.createElement("div",{className:"EnterMotorcade-main",__source:{fileName:fz,lineNumber:81},__self:e},vs.a.createElement("h2",{className:"EnterMotorcade-nickName",title:n,__source:{fileName:fz,lineNumber:82},__self:e},n),vs.a.createElement("p",{className:"EnterMotorcade-describe",__source:{fileName:fz,lineNumber:83},__self:e},"\u6b63\u5728\u53ec\u5524\u8f66\u961f\u6210\u5458"))))})}return null},EnterMotorcade}(vs.a.Component),cz=function EnterMotorcade_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(sz.prototype,"enterEffectService",[lz],{enumerable:!0,initializer:null}),sz),yz=r("acc11"),_z=r.n(yz),Sz=r("d2e0b"),Nz=r.n(Sz),Cz=r("64c1f"),Oz=r.n(Cz),wz=r("b6666"),Dz=r.n(wz),Ez=r("feee3"),kz=r.n(Ez),Rz=r("932af"),jz=r.n(Rz),Pz={enterBg4:_z.a,enterBg5:Nz.a,enterBg6:Oz.a,video4:Dz.a,video5:kz.a,video6:jz.a},Tz=(r("7a6d1"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),Bz="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterShark/EnterShark.js";function EnterShark_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function EnterShark_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterShark_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function EnterShark_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Mz,Lz,zz,Az=n.a.Service,Iz=(dz=Az(ib),bz=Az(C.DataCenter.common),mz=function(e){function EnterShark(){!function EnterShark_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterShark);var t=function EnterShark_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return EnterShark_initDefineProp(t,"enterEffectService",hz,t),EnterShark_initDefineProp(t,"common",vz,t),t.reset=t.reset.bind(t),t.state={isRender:!0,config:{}},t}return EnterShark_inherits(EnterShark,e),EnterShark.prototype.reset=function reset(){var e=this;this.timer||(this.timer=setTimeout(function(){e.setState({isRender:!1}),e.timer=null,e.enterEffectService.deleteEnterData(Io)},5e3))},EnterShark.prototype.componentWillUnmount=function componentWillUnmount(){this.timer&&(this.timer=null,clearTimeout(this.timer))},EnterShark.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){e.data!==this.props.data&&this.setState({isRender:!0})},EnterShark.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({config:t.get("room.nobleConfig")||{}})})},EnterShark.prototype.render=function render(){var e=this;if(this.state.isRender&&this.props.data){var t=Tz({},this.props.data),r=t.ic,i=t.nn,n=void 0===i?"":i,a=t.nl,o=this.state.config[a]&&this.state.config[a].noble_name||"";return this.reset(),vs.a.createElement(tL.Motion,{defaultStyle:{bottom:-405},style:{bottom:Object(tL.spring)(0,{stiffness:30,damping:10})},__source:{fileName:Bz,lineNumber:76},__self:this},function(t){return a>3&&a<7?vs.a.createElement("div",{className:"EnterShark",style:t,__source:{fileName:Bz,lineNumber:88},__self:e},vs.a.createElement("video",{className:"EnterShark-video",autoPlay:"autoplay",loop:"loop",muted:!0,__source:{fileName:Bz,lineNumber:89},__self:e},vs.a.createElement("source",{src:Pz["video"+a],type:"video/mp4",__source:{fileName:Bz,lineNumber:90},__self:e})),vs.a.createElement("div",{className:"EnterShark-content is-noble"+a,__source:{fileName:Bz,lineNumber:92},__self:e},vs.a.createElement(ow.a,{className:"EnterShark-avatar",src:"//apic.douyucdn.cn/upload/"+r+"_middle.jpg",defaultSrc:iL.a,__source:{fileName:Bz,lineNumber:93},__self:e}),vs.a.createElement("h2",{className:"EnterShark-nickName",title:n,__source:{fileName:Bz,lineNumber:97},__self:e},n),vs.a.createElement("p",{className:"EnterShark-intro",__source:{fileName:Bz,lineNumber:98},__self:e},"\u6b22\u8fce",o,"\u5149\u4e34\u76f4\u64ad\u95f4"))):vs.a.createElement("div",{className:"EnterShark",style:t,__source:{fileName:Bz,lineNumber:105},__self:e},vs.a.createElement("div",{className:"EnterShark-content",__source:{fileName:Bz,lineNumber:106},__self:e},vs.a.createElement(ow.a,{className:"EnterShark-avatar",src:"//apic.douyucdn.cn/upload/"+r+"_middle.jpg",defaultSrc:iL.a,__source:{fileName:Bz,lineNumber:107},__self:e}),vs.a.createElement("h2",{className:"EnterShark-nickName",title:n,__source:{fileName:Bz,lineNumber:111},__self:e},n),vs.a.createElement("p",{className:"EnterShark-intro",__source:{fileName:Bz,lineNumber:112},__self:e},"\u6b22\u8fce\u5e74\u5ea6\u795e\u8c6a\u5149\u4e34\u76f4\u64ad\u95f4")))})}return null},EnterShark}(vs.a.Component),hz=EnterShark_applyDecoratedDescriptor(mz.prototype,"enterEffectService",[dz],{enumerable:!0,initializer:null}),vz=EnterShark_applyDecoratedDescriptor(mz.prototype,"common",[bz],{enumerable:!0,initializer:null}),mz),Fz="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/EnterEffect/EnterEffect.js";function EnterEffect_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function EnterEffect_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function EnterEffect_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var xz=(Mz=(0,n.a.Service)(ib),Lz=function(e){function EnterEffect(){var t,r;!function EnterEffect_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EnterEffect);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=EnterEffect_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function EnterEffect_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"enterEffectService",zz,r),EnterEffect_possibleConstructorReturn(r,t)}return EnterEffect_inherits(EnterEffect,e),EnterEffect.prototype.componentDidMount=function componentDidMount(){this.enterEffectService.init()},EnterEffect.prototype.render=function render(){var e=this.props.enterEffecUenter||{},t=e.normalQueue,r=void 0===t?[]:t,i=e.level120Queue,n=void 0===i?[]:i,a=e.nobleQueue,o=void 0===a?[]:a,l=e.windCloudQueue,s=void 0===l?[]:l,c=e.motorcadeQueue,u=void 0===c?[]:c,p=e.sharkQueue,f=void 0===p?[]:p;return vs.a.createElement("div",{className:"EnterEffect",__source:{fileName:Fz,lineNumber:41},__self:this},vs.a.createElement(uz,{data:r[0],__source:{fileName:Fz,lineNumber:42},__self:this}),vs.a.createElement(sL,{data:n[0],__source:{fileName:Fz,lineNumber:43},__self:this}),o.length?vs.a.createElement(FL,{data:o[0],__source:{fileName:Fz,lineNumber:44},__self:this}):"",s.length?vs.a.createElement(ez,{data:s[0],__source:{fileName:Fz,lineNumber:45},__self:this}):"",vs.a.createElement(gz,{data:u[0],__source:{fileName:Fz,lineNumber:46},__self:this}),f.length?vs.a.createElement(Iz,{data:f[0],__source:{fileName:Fz,lineNumber:47},__self:this}):"")},EnterEffect}(vs.a.Component),zz=function EnterEffect_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(Lz.prototype,"enterEffectService",[Mz],{enumerable:!0,initializer:null}),Lz),Gz=Object(dv.connect)(function mapStateToProps(e){return{enterEffecUenter:e.enterEffecUenter}})(xz),Uz=(r("5f63d"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),Hz="/shark/live/src/common/components/Grayscale/Grayscale.js";function Grayscale_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Grayscale_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}!function insertGrayscaleSvg(){var e="js-svg-grayscale";if(!document.querySelector("#"+e)){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg"),i=document.createElementNS(t,"filter"),n=document.createElementNS(t,"feColorMatrix");r.setAttributeNS(null,"version","1.1"),r.setAttributeNS(null,"style","position:absolute;left:-1000px;top:-1000px;"),i.setAttributeNS(null,"id",e),n.setAttributeNS(null,"type","matrix"),n.setAttributeNS(null,"values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.appendChild(n),r.appendChild(i),(document.body||document.documentElement).appendChild(r)}}();var Wz,Vz,$z,Kz,qz,Qz,Jz=function(e){function Grayscale(t){!function Grayscale_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Grayscale);var r=function Grayscale_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return r.state=t,r}return Grayscale_inherits(Grayscale,e),Grayscale.prototype.componentDidMount=function componentDidMount(){var e=this,t=this.props,r=t.width,i=t.height;if("undefined"===typeof r||"undefined"===typeof i){var n=new Image;n.onerror=function(){t.errorSrc&&e.setState({src:t.errorSrc}),e.onerror=null},n.onload=function(){e.setState({width:n.width,height:n.height})},n.src=t.src}},Grayscale.prototype.render=function render(){var e=this.state,t=e.width,r=e.height;return window.navigator.msPointerEnabled||window.navigator.pointerEnabled?vs.a.createElement("svg",{width:t,height:r,__source:{fileName:Hz,lineNumber:76},__self:this},vs.a.createElement("g",{__source:{fileName:Hz,lineNumber:77},__self:this},vs.a.createElement("title",{__source:{fileName:Hz,lineNumber:78},__self:this},e.title),vs.a.createElement("image",{xlinkHref:e.src,x:"0",y:"0",filter:"url(#js-svg-grayscale)",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"none meet",width:t,height:r,__source:{fileName:Hz,lineNumber:79},__self:this}))):vs.a.createElement("img",Uz({className:"Grayscale"},e,{__source:{fileName:Hz,lineNumber:92},__self:this}))},Grayscale}(vs.a.Component),Yz=(r("0b0db"),r("84e07")),Xz=r.n(Yz),Zz="/shark/live/src/pages/roomPage/playerAsideModule/components/NobleExpiredTip/NobleExpiredTip.js";function NobleExpiredTip_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleExpiredTip_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleExpiredTip_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleExpiredTip_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var eA=n.a.Service,tA=(Wz=eA(Ns.a),Vz=eA(tn),Object(ye.log)((Kz=function(e){function NobleExpiredTip(t){!function NobleExpiredTip_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleExpiredTip);var r=function NobleExpiredTip_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,t));return NobleExpiredTip_initDefineProp(r,"nobleBuyModalServices",qz,r),NobleExpiredTip_initDefineProp(r,"nobleExpiredTipServices",Qz,r),r.state={isActive:0},r.openNobleBuyModal=r.openNobleBuyModal.bind(r),r.closeTip=r.closeTip.bind(r),r}return NobleExpiredTip_inherits(NobleExpiredTip,e),NobleExpiredTip.prototype.componentDidMount=function componentDidMount(){this.nobleExpiredTipServices.initSocket()},NobleExpiredTip.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this;e.nobleExpiredTipData.nobleName&&e.nobleExpiredTipData.unfreezeDate&&(this.setState({isActive:1}),setTimeout(function(){t.closeTip()},2e4))},NobleExpiredTip.prototype.openNobleBuyModal=function openNobleBuyModal(){this.nobleBuyModalServices.openNobleBuyModal(),this.closeTip()},NobleExpiredTip.prototype.closeTip=function closeTip(){this.setState({isActive:0})},NobleExpiredTip.prototype.render=function render(){var e=this.props.nobleExpiredTipData,t=e.nobleImg,r=void 0===t?Xz.a:t,i=e.nobleName,n=e.frozenNobleYc,a=e.savedMoney,o=this.state.isActive;return o&&this.nobleExpiredTipServices.setLocalStorage(),o?vs.a.createElement("div",{className:"NobleExpiredTip is-active",__source:{fileName:Zz,lineNumber:79},__self:this},vs.a.createElement("div",{className:"NobleExpiredTip-badge--large",__source:{fileName:Zz,lineNumber:80},__self:this},vs.a.createElement(Jz,{src:r,width:"100",height:"100",__source:{fileName:Zz,lineNumber:81},__self:this})),vs.a.createElement("div",{className:"NobleExpiredTip-content",__source:{fileName:Zz,lineNumber:83},__self:this},vs.a.createElement("h3",{className:"NobleExpiredTip-identity",__source:{fileName:Zz,lineNumber:84},__self:this},"\u60a8\u7684",i,"\u8eab\u4efd\u5df2\u8fc7\u671f"),n>0?vs.a.createElement("p",{className:"NobleExpiredTip-freeze",__source:{fileName:Zz,lineNumber:90},__self:this},vs.a.createElement("span",{className:"NobleExpiredTip-yc--noble",__source:{fileName:Zz,lineNumber:91},__self:this},n,"\u8d35\u65cf\u9c7c\u7fc5"),"\u5df2\u88ab\u51bb\u7ed3"):vs.a.createElement("p",{className:"NobleExpiredTip-freeze",__source:{fileName:Zz,lineNumber:92},__self:this}),a>0?vs.a.createElement("div",{className:"NobleExpiredTip-desc",__source:{fileName:Zz,lineNumber:95},__self:this},vs.a.createElement("p",{__source:{fileName:Zz,lineNumber:96},__self:this},"\u7eed\u8d39\u8d35\u65cf\u53ef\u89e3\u51bb\u8d35\u65cf\u9c7c\u7fc5\uff0c"),vs.a.createElement("p",{__source:{fileName:Zz,lineNumber:97},__self:this},"\u4eab\u7eed\u8d39\u4ef7\u683c",vs.a.createElement("span",{className:"NobleExpiredTip-savedMoney",__source:{fileName:Zz,lineNumber:97},__self:this},"\u8282\u7701",a,"\u5143"))):vs.a.createElement("div",{className:"NobleExpiredTip-desc",__source:{fileName:Zz,lineNumber:98},__self:this},vs.a.createElement("p",{__source:{fileName:Zz,lineNumber:98},__self:this},"\u7eed\u8d39\u8d35\u65cf\u53ef\u89e3\u51bb\u8d35\u65cf\u9c7c\u7fc5")),vs.a.createElement("div",{className:"NobleExpiredTip-btn--renew",onClick:this.openNobleBuyModal,__source:{fileName:Zz,lineNumber:100},__self:this},"\u7eed\u8d39\u8d35\u65cf"),vs.a.createElement("div",{className:"NobleExpiredTip-btn--close",onClick:this.closeTip,__source:{fileName:Zz,lineNumber:101},__self:this},"\xd7"))):null},NobleExpiredTip}(vs.a.Component),qz=NobleExpiredTip_applyDecoratedDescriptor(Kz.prototype,"nobleBuyModalServices",[Wz],{enumerable:!0,initializer:null}),Qz=NobleExpiredTip_applyDecoratedDescriptor(Kz.prototype,"nobleExpiredTipServices",[Vz],{enumerable:!0,initializer:null}),$z=Kz))||$z),rA=Object(dv.connect)(function mapStateToProps(e){return{nobleExpiredTipData:e.nobleExpiredTipData}})(tA),iA="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatEffect/ChatEffect.js";function ChatEffect_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatEffect_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var nA,aA,oA,lA,sA,cA,uA,pA,fA,dA,bA=function(e){function ChatEffect(){return function ChatEffect_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatEffect),function ChatEffect_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return ChatEffect_inherits(ChatEffect,e),ChatEffect.prototype.render=function render(){return vs.a.createElement("div",{className:"ChatEffect",__source:{fileName:iA,lineNumber:16},__self:this},vs.a.createElement(Gz,{__source:{fileName:iA,lineNumber:17},__self:this}),vs.a.createElement(rA,{__source:{fileName:iA,lineNumber:18},__self:this}))},ChatEffect}(vs.a.Component),mA=r("adbce"),hA=r("67ef6"),vA=(r("9e3bf"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),gA="/shark/live/src/pages/roomPage/playerAsideModule/components/FollowTips/FollowTips.js";function FollowTips_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function FollowTips_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FollowTips_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function FollowTips_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var yA=n.a.Service,_A={barrage:"13010020D003",gift:"13010020D002"},SA=(nA=yA(C.DataCenter.global),aA=yA(C.DataCenter.common),oA=yA(mA.a),lA=yA(hA.a),Object(ye.log)((cA=function(e){function FollowTips(){!function FollowTips_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FollowTips);var t=function FollowTips_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return FollowTips_initDefineProp(t,"global",uA,t),FollowTips_initDefineProp(t,"common",pA,t),FollowTips_initDefineProp(t,"followServices",fA,t),FollowTips_initDefineProp(t,"followTipsServices",dA,t),t.showDys=function(e){Object(O.dysub2)(vA({action_code:_A[e],event_id:2},t.dysParams))},t.followed=function(e){return function(){Object(O.dysub2)(vA({action_code:_A[e],event_id:1},t.dysParams)),t.followServices.follow({type:"followTips"})}},t.dysParams={},t.isAnchor=+t.global.get("USER_INFO.uid")===+t.global.get("$ROOM.owner_uid"),t}return FollowTips_inherits(FollowTips,e),FollowTips.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.dysParams={room_id:t.get("room.room_id"),tag_id:t.get("room.cate_id"),type:1}})},FollowTips.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=(e.titleData||{}).followed;(this.props.titleData||{}).followed&&!t&&(this.followTipsServices.clearTimer(),this.followTipsServices.hide())},FollowTips.prototype.render=function render(){var e=this.props.titleData,t=e.followed,r=void 0===t?0:t,i=e.type,n=this.props.followTipsData,a=n.type,o=n.visible;if(this.isAnchor||r&&"followTips"!==i||!a||!o)return null;if(r&&"followTips"===i)return this.followTipsServices.followHideCountDown(),vs.a.createElement("div",{className:"FollowTips",__source:{fileName:gA,lineNumber:93},__self:this},"\u5df2\u5173\u6ce8");var l=null;if(o)switch(this.showDys(a),a){case"barrage":l=vs.a.createElement("div",{className:"FollowTips FollowTips--barrage",onClick:this.followed(a),__source:{fileName:gA,lineNumber:103},__self:this},vs.a.createElement("i",{__source:{fileName:gA,lineNumber:107},__self:this}),"+ \u5173\u6ce8\u4e3b\u64ad\uff0c\u8f6c\u7c89\u4e0d\u8ff7\u8def");break;case"gift":l=vs.a.createElement("div",{className:"FollowTips",__source:{fileName:gA,lineNumber:112},__self:this},vs.a.createElement("span",{className:"FollowTips-text",__source:{fileName:gA,lineNumber:113},__self:this},"\u5173\u6ce8\u4e3b\u64ad\uff0c\u8f6c\u7c89\u4e0d\u8ff7\u8def"),vs.a.createElement("div",{className:"FollowTips-btn",onClick:this.followed(a),__source:{fileName:gA,lineNumber:116},__self:this},"\u5173\u6ce8"))}return l},FollowTips}(vs.a.Component),uA=FollowTips_applyDecoratedDescriptor(cA.prototype,"global",[nA],{enumerable:!0,initializer:null}),pA=FollowTips_applyDecoratedDescriptor(cA.prototype,"common",[aA],{enumerable:!0,initializer:null}),fA=FollowTips_applyDecoratedDescriptor(cA.prototype,"followServices",[oA],{enumerable:!0,initializer:null}),dA=FollowTips_applyDecoratedDescriptor(cA.prototype,"followTipsServices",[lA],{enumerable:!0,initializer:null}),sA=cA))||sA);SA.propTypes={followTipsData:fv.a.object.isRequired,titleData:fv.a.object.isRequired};var NA,CA,OA,wA=Object(dv.connect)(function mapStateToProps(e){return{followTipsData:e.followTipsData,titleData:e.titleData}})(SA);r("9f9d1");function chatRankAllServices_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function chatRankAllServices_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function chatRankAllServices_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var DA,EA,kA,RA,jA,PA,TA,BA,MA=(NA=(0,n.a.Store)(),CA=function(e){function ChatRankAllServices(){var t,r;!function chatRankAllServices_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ChatRankAllServices);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=chatRankAllServices_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function chatRankAllServices_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"store",OA,r),chatRankAllServices_possibleConstructorReturn(r,t)}return chatRankAllServices_inherits(ChatRankAllServices,e),ChatRankAllServices.prototype.closeRankAll=function closeRankAll(){this.store.dispatch(al.openAllRank(!1))},ChatRankAllServices}(f.Service),OA=function chatRankAllServices_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(CA.prototype,"store",[NA],{enumerable:!0,initializer:null}),CA),LA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},zA="/shark/live/src/pages/roomPage/playerAsideModule/components/ChatRankAll/ChatRankAll.js";function ChatRankAll_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function ChatRankAll_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function ChatRankAll_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function ChatRankAll_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var AA=n.a.Service,IA=(DA=AA(C.DataCenter.global),EA=AA(MA),kA=AA(ys.a),Object(ye.log)((jA=function(e){function RankAllMain(){!function ChatRankAll_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RankAllMain);var t=function ChatRankAll_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return ChatRankAll_initDefineProp(t,"global",PA,t),ChatRankAll_initDefineProp(t,"chatRankAllServices",TA,t),ChatRankAll_initDefineProp(t,"userCardModuleService",BA,t),t.state={isShow:!1},t.showUserCard=t.showUserCard.bind(t),t}return ChatRankAll_inherits(RankAllMain,e),RankAllMain.prototype.showUserCard=function showUserCard(e,t){var r=t||{},i=r.isShowSuperIcon,n=r.groupId,a=r.uid,o=r.nickName,l=r.avatar,s=r.userLevel,c=r.nobleLevel,u=r.isInvisible,p=r.isShowInvisible;e.nativeEvent.stopImmediatePropagation(),this.userCardModuleService.showUserCard({isShowSuperIcon:i,gid:n,rel:+a,nickName:p?o+"(\u5df2\u9690\u8eab)":o,avatar:l,nobleLevel:+c||0,userLevel:+s||0,invisible:u,rankType:1===this.props.isCloseMonthRank?"month":"all"})},RankAllMain.prototype.close=function close(){this.chatRankAllServices.closeRankAll()},RankAllMain.prototype.render=function render(){var e=this,t=this.props,r=t.rankAllList||[],i=t.rankMonthData||[],n=this.props.defaultConfig,a=this.global.get("$SYS.avatar_url"),o=r,l=1===t.isCloseMonthRank;return l&&(o=i),vs.a.createElement("div",{className:"RankAllMain "+(this.props.isRankAllShow?"is-active":""),key:1,__source:{fileName:zA,lineNumber:83},__self:this},vs.a.createElement("div",{className:"RankAllMain-container",__source:{fileName:zA,lineNumber:84},__self:this},vs.a.createElement("div",{className:l?"RankAllMain-monthHeader RankAllMain-header":"RankAllMain-header",__source:{fileName:zA,lineNumber:85},__self:this},vs.a.createElement("a",{className:"RankAllMain-close",onClick:this.close.bind(this),__source:{fileName:zA,lineNumber:86},__self:this})),l?vs.a.createElement("div",{className:"RankAllMain-yzmonth-rankInfo",__source:{fileName:zA,lineNumber:88},__self:this},"\u6309\u7167\u6700\u8fd1",vs.a.createElement("span",{className:"highlight-color",__source:{fileName:zA,lineNumber:88},__self:this},"30\u5929"),"\u7d2f\u8ba1\u8d21\u732e\u503c\u8fdb\u884c\u6392\u540d"):"",vs.a.createElement("div",{className:"RankAllMain-content",__source:{fileName:zA,lineNumber:89},__self:this},vs.a.createElement(gs.Scrollbars,{autoHeight:!0,autoHeightMax:412,__source:{fileName:zA,lineNumber:90},__self:this},vs.a.createElement("ul",{className:"RankAllMain-list",__source:{fileName:zA,lineNumber:94},__self:this},o.length?o.map(function(t,r){return r<3?vs.a.createElement(HC,{key:r,data:t,index:r,defaultConfig:n,class:l?"ChatRankWeek-yzmonthTop3Item":"",__source:{fileName:zA,lineNumber:99},__self:e}):vs.a.createElement("li",{key:r+1,className:"ChatRankWeek-listItem "+(l?"RankAllMain-monthItem":""),__source:{fileName:zA,lineNumber:106},__self:e},vs.a.createElement("i",{className:"ChatRankWeek-listItem--index",__source:{fileName:zA,lineNumber:108},__self:e},r+1),+t.nobleLevel>0?vs.a.createElement(MC.a,{level:t.nobleLevel,__source:{fileName:zA,lineNumber:110},__self:e}):"",t.isShowMedal?vs.a.createElement(NC.a,{userLevel:+t.userLevel,__source:{fileName:zA,lineNumber:113},__self:e}):"",vs.a.createElement("span",{className:"ChatRankWeek-listItem--nickname "+(+t.isInvisible?"is-invisible":"")+" "+(l?"ChatRankWeek-yzmonthNickname":""),title:t.nickName,onClick:function onClick(r){e.showUserCard(r,LA({},t,{avatar:a+"upload/"+t.avatar+"_middle.jpg"}))},__source:{fileName:zA,lineNumber:115},__self:e},t.isShowInvisible?vs.a.createElement("span",{className:"r-nickname",__source:{fileName:zA,lineNumber:128},__self:e},t.nickName,"(\u5df2\u9690\u8eab)"):t.nickName),vs.a.createElement("span",{className:"ChatRankWeek-indexTrend--"+t.trend+" ChatRankWeek-indexTrend",title:t.trendTitle,__source:{fileName:zA,lineNumber:132},__self:e}),n.isFaceScore?vs.a.createElement("span",{className:"ChatRankWeek-contributionValue",title:(t.fgold?t.fgold:0)+"\u8d21\u732e",__source:{fileName:zA,lineNumber:137},__self:e},t.fgold,"\u8d21\u732e"):"")}):vs.a.createElement("li",{className:"ChatRankWeek-listItem--noresult",__source:{fileName:zA,lineNumber:142},__self:this}))))))},RankAllMain}(vs.a.Component),PA=ChatRankAll_applyDecoratedDescriptor(jA.prototype,"global",[DA],{enumerable:!0,initializer:null}),TA=ChatRankAll_applyDecoratedDescriptor(jA.prototype,"chatRankAllServices",[EA],{enumerable:!0,initializer:null}),BA=ChatRankAll_applyDecoratedDescriptor(jA.prototype,"userCardModuleService",[kA],{enumerable:!0,initializer:null}),RA=jA))||RA);IA.propTypes={};var FA,xA,GA,UA,HA,WA,VA,$A=Object(dv.connect)(function mapStateToProps(e){return{isRankAllShow:e.chatRankAllData.isRankAllShow,rankAllList:e.chatRankAllData.rankAllData,rankMonthData:e.chatRankAllData.rankMonthData,isCloseMonthRank:e.chatRank.isCloseMonthRank,defaultConfig:e.chatRankAllData.defaultConfig}})(IA),KA=r("b338d"),qA=r.n(KA),QA=(r("0f328"),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),JA="/shark/live/src/pages/roomPage/playerAsideModule/components/FansRankAll/FansRankAllList/FansRankAllList.js";function FansRankAllList_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function FansRankAllList_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRankAllList_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function FansRankAllList_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var YA,XA,ZA,eI=n.a.Service,tI=(FA=eI(C.DataCenter.global),xA=eI(C.DataCenter.common),GA=eI(ys.a),UA=function(e){function FansRankAllList(){!function FansRankAllList_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankAllList);var t=function FansRankAllList_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return FansRankAllList_initDefineProp(t,"global",HA,t),FansRankAllList_initDefineProp(t,"common",WA,t),FansRankAllList_initDefineProp(t,"userCardModuleService",VA,t),t.state={room:{}},t.showUserCard=t.showUserCard.bind(t),t}return FansRankAllList_inherits(FansRankAllList,e),FansRankAllList.prototype.componentDidMount=function componentDidMount(){var e=this;this.common.get("$DATA").subscribe(function(t){e.setState({room:t.get("room")||{}})})},FansRankAllList.prototype.handlerData=function handlerData(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=t.slice(0,50),i=t.length;return i>0&&i<3&&(i=3),Array.from({length:i}).map(function(t,i){var n=r[i];return n?(n.isRealUser=!0,n.nickName=n.nickName||"\u865a\u4f4d\u4ee5\u5f85",n.icon=n.avatar?"//apic.douyucdn.cn/upload/"+n.avatar+"_middle.jpg":qA.a,n.fansLevel>0?n.fansLevel=n.fansLevel>30?30:n.fansLevel:n.fansLevel=1,n.isOwn=+e.global.get("USER_INFO.uid")===+n.uid,n.rankChange=parseInt(n.rankChange,10)||0):((n={}).isRealUser=!1,n.nickName="\u865a\u4f4d\u4ee5\u5f85",n.icon=qA.a),n})},FansRankAllList.prototype.conversion=function conversion(e){var t="";switch(e){case 0:t="first";break;case 1:t="second";break;case 2:t="third"}return t},FansRankAllList.prototype.showUserCard=function showUserCard(e,t){var r=t||{},i=r.isShowSuperIcon,n=r.groupId,a=r.uid,o=r.nickName,l=r.icon,s=r.fansLevel,c=r.fansMedal,u=r.isVisibility,p=r.nobleLevel,f=r.userLevel;e.nativeEvent.stopImmediatePropagation(),this.userCardModuleService.showUserCard({isShowSuperIcon:i,gid:+n,rel:+a||0,nickName:o,avatar:l,fansLevel:s,fansMedal:c,nobleLevel:+p||0,userLevel:+f||0,invisible:u})},FansRankAllList.prototype.render=function render(){var e=this,t=this.props.roomFansMedal,r=this.state.room.room_id,i=+this.global.get("USER_INFO.uid")===+this.state.room.owner_uid,n=5===+this.global.get("USER_INFO.groupId"),a=this.handlerData(this.props.fansRankAllList);return a.length>0?vs.a.createElement("ul",{className:"FansRankAllList",__source:{fileName:JA,lineNumber:131},__self:this},a.map(function(a,o){var l=QA({},a),s=l.nickName,c=l.icon,u=l.fansLevel,p=QA({},a),f=p.isVisibility,d=p.isOwn;return!f||f&&(d||i||n)?vs.a.createElement("li",{key:o,className:"FansRankAllList-item "+(o<3?"FansRankAllList-item--top":""),__source:{fileName:JA,lineNumber:141},__self:e},vs.a.createElement("span",{className:"FansRankAllList-itemRank FansRankAllList-itemRank--"+e.conversion(o),__source:{fileName:JA,lineNumber:143},__self:e},o+1),o<3?vs.a.createElement(ow.a,{className:"FansRankAllList-avatar FansRankAllList-avatar--"+e.conversion(o),src:c,alt:s,defaultSrc:qA.a,__source:{fileName:JA,lineNumber:147},__self:e}):"",vs.a.createElement("a",{className:"FansRankAllList-nickName "+(f?"is-visibility":"")+" "+(o<3?"FansRankAllList-nickName--top":""),title:s,onClick:function onClick(r){e.showUserCard(r,QA({},a,{fansLevel:u,fansMedal:t,nickName:f?s+"\uff08\u5df2\u9690\u8eab\uff09":s}))},__source:{fileName:JA,lineNumber:152},__self:e},f?s+"\uff08\u5df2\u9690\u8eab\uff09":s),vs.a.createElement(hD.a,{type:"normal",name:t,medalId:r,lev:+u,url:"//webconf.douyucdn.cn//resource/common/fans_medal_web_v2.json",__source:{fileName:JA,lineNumber:163},__self:e})):vs.a.createElement("li",{key:o,className:"FansRankAllList-item "+(o<3?"FansRankAllList-item--top":""),__source:{fileName:JA,lineNumber:170},__self:e},vs.a.createElement("span",{className:"FansRankAllList-itemRank FansRankAllList-itemRank--"+e.conversion(o),__source:{fileName:JA,lineNumber:172},__self:e},o+1),o<3?vs.a.createElement(ow.a,{className:"FansRankAllList-avatar FansRankAllList-avatar--"+e.conversion(o),src:c,alt:s,defaultSrc:qA.a,__source:{fileName:JA,lineNumber:176},__self:e}):"",vs.a.createElement("a",{className:"FansRankAllList-nickName "+(f?"is-visibility":"")+" "+(o<3?"FansRankAllList-nickName--top":""),title:s,onClick:function onClick(r){e.showUserCard(r,QA({},a,{fansLevel:u,fansMedal:t,nickName:f?s+"\uff08\u5df2\u9690\u8eab\uff09":s}))},__source:{fileName:JA,lineNumber:182},__self:e},s))})):vs.a.createElement("ul",{className:"FansRankAllList",__source:{fileName:JA,lineNumber:201},__self:this},vs.a.createElement("div",{className:"FansRankAllList-noresulet",__source:{fileName:JA,lineNumber:202},__self:this}))},FansRankAllList}(vs.a.Component),HA=FansRankAllList_applyDecoratedDescriptor(UA.prototype,"global",[FA],{enumerable:!0,initializer:null}),WA=FansRankAllList_applyDecoratedDescriptor(UA.prototype,"common",[xA],{enumerable:!0,initializer:null}),VA=FansRankAllList_applyDecoratedDescriptor(UA.prototype,"userCardModuleService",[GA],{enumerable:!0,initializer:null}),UA),rI=Object(dv.connect)(function mapStateProps(e){return{fansRankAllList:e.getFansRank.fansRankAllList,roomFansMedal:e.getFansRank.roomFansMedal}})(tI),iI=(r("3fb05"),"/shark/live/src/pages/roomPage/playerAsideModule/components/FansRankAll/FansUserInfo/FansUserInfo.js");function FansUserInfo_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function FansUserInfo_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansUserInfo_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var nI,aI,oI,lI=(YA=(0,n.a.Service)(C.DataCenter.global),XA=function(e){function FansUserInfo(){var t,r;!function FansUserInfo_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansUserInfo);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=FansUserInfo_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function FansUserInfo_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"global",ZA,r),FansUserInfo_possibleConstructorReturn(r,t)}return FansUserInfo_inherits(FansUserInfo,e),FansUserInfo.prototype.render=function render(){var e=this.global.get("$ROOM.room_id"),t=this.props||{},r=t.ownerFansRank,i=void 0===r?"--":r,n=t.ownerMedalLevel,a=t.roomFansMedal;return i&&n&&a?vs.a.createElement("div",{className:"FansUserInfo",__source:{fileName:iI,lineNumber:26},__self:this},vs.a.createElement("div",{className:"FansUserInfo-txt",__source:{fileName:iI,lineNumber:27},__self:this},"\u6211\u7684\u6392\u540d\uff1a",vs.a.createElement("div",{className:"FansUserInfo-rank",__source:{fileName:iI,lineNumber:29},__self:this},i>500?"500+":i)),vs.a.createElement(hD.a,{type:"normal",name:a,medalId:e,lev:+n,url:"//webconf.douyucdn.cn//resource/common/fans_medal_web_v2.json",__source:{fileName:iI,lineNumber:31},__self:this})):null},FansUserInfo}(vs.a.Component),ZA=function FansUserInfo_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(XA.prototype,"global",[YA],{enumerable:!0,initializer:null}),XA),sI=Object(dv.connect)(function mapStateProps(e){return{ownerFansRank:e.getFansRank.ownerFansRank,ownerMedalLevel:e.getFansRank.ownerMedalLevel,roomFansMedal:e.getFansRank.roomFansMedal}})(lI),cI=(r("14755"),"/shark/live/src/pages/roomPage/playerAsideModule/components/FansRankAll/FansRankAll.js");function FansRankAll_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function FansRankAll_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var uI,pI,fI,dI,bI,mI,hI=(nI=(0,n.a.Service)(nD),aI=function(e){function FansRankAll(){!function FansRankAll_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FansRankAll);var t=function FansRankAll_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function FansRankAll_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"fansRankService",oI,t),t.hideFansRankAll=t.hideFansRankAll.bind(t),t}return FansRankAll_inherits(FansRankAll,e),FansRankAll.prototype.hideFansRankAll=function hideFansRankAll(){this.fansRankService.toggleFansRankAll(!1)},FansRankAll.prototype.render=function render(){return vs.a.createElement("div",{className:"FansRankAll "+(this.props.isShowFansRankAll?"is-show":""),__source:{fileName:cI,lineNumber:31},__self:this},vs.a.createElement("div",{className:"FansRankAll-wrap",__source:{fileName:cI,lineNumber:32},__self:this},vs.a.createElement("div",{className:"FansRankAll-header",__source:{fileName:cI,lineNumber:33},__self:this},vs.a.createElement("div",{className:"FansRankAll-close",onClick:this.hideFansRankAll,__source:{fileName:cI,lineNumber:34},__self:this})),vs.a.createElement(rI,{__source:{fileName:cI,lineNumber:36},__self:this}),vs.a.createElement(sI,{__source:{fileName:cI,lineNumber:37},__self:this})))},FansRankAll}(vs.a.Component),oI=function FansRankAll_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(aI.prototype,"fansRankService",[nI],{enumerable:!0,initializer:null}),aI),vI=Object(dv.connect)(function mapStateProps(e){return{isShowFansRankAll:e.getFansRank.isShowFansRankAll}})(hI),gI=(r("ca62f"),"/shark/live/src/pages/roomPage/playerAsideModule/components/NobleReminder/NobleReminder.js");function NobleReminder_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function NobleReminder_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function NobleReminder_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function NobleReminder_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function NobleReminder_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var yI,_I,SI,NI,CI,OI=n.a.Service,wI=(uI=OI(BC),pI=OI(Ns.a),Object(ye.log)((dI=function(e){function NobleReminder(){var t,r;!function NobleReminder_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NobleReminder);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=NobleReminder_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),NobleReminder_initDefineProp(r,"nobleReminderService",bI,r),NobleReminder_initDefineProp(r,"nobleBuyModalServices",mI,r),NobleReminder_possibleConstructorReturn(r,t)}return NobleReminder_inherits(NobleReminder,e),NobleReminder.prototype.openNobleReminder=function openNobleReminder(){this.nobleReminderService.openNobleReminder()},NobleReminder.prototype.closeNobleReminder=function closeNobleReminder(){this.nobleReminderService.closeNobleReminder()},NobleReminder.prototype.openNobleBuyModal=function openNobleBuyModal(){this.nobleBuyModalServices.openNobleBuyModal(),this.closeNobleReminder()},NobleReminder.prototype.componentDidMount=function componentDidMount(){this.nobleReminderService.init()},NobleReminder.prototype.render=function render(){var e=this,t=this.props.openNobleReminder,r=this.props.nobleReminderType,i=t?vs.a.createElement("div",{className:"NobleReminder NobleReminder--mistery",__source:{fileName:gI,lineNumber:46},__self:this},vs.a.createElement("div",{className:"NobleReminder-conWrap",__source:{fileName:gI,lineNumber:47},__self:this},vs.a.createElement("span",{className:"NobleReminder-close",onClick:function onClick(){return e.closeNobleReminder()},__source:{fileName:gI,lineNumber:48},__self:this},"\xd7"),vs.a.createElement("div",{className:"NobleReminder-con",__source:{fileName:gI,lineNumber:49},__self:this},vs.a.createElement("h3",{className:"NobleReminder-title",__source:{fileName:gI,lineNumber:50},__self:this},"\u6211\u662f\u795e\u79d8\u4eba\uff0c\u731c\u731c\u6211\u662f\u8c01\uff1f"),vs.a.createElement("p",{className:"NobleReminder-txt",__source:{fileName:gI,lineNumber:51},__self:this},"\u8d21\u732e\u699c\u9690\u8eab\u2014\u56fd\u738b\u4ee5\u4e0a\u8d35\u65cf\u4e13\u5c5e\u7279\u6743"),vs.a.createElement("div",{className:"NobleReminder-btn",onClick:function onClick(){return e.openNobleBuyModal()},title:"\u5f00\u901a\u8d35\u65cf",__source:{fileName:gI,lineNumber:52},__self:this},"\u5f00\u901a\u8d35\u65cf")))):"",n=t?Nv.a.createPortal(vs.a.createElement("div",{className:"NobleReminder NobleReminder--pk",__source:{fileName:gI,lineNumber:60},__self:this},vs.a.createElement("div",{className:"NobleReminder-conWrap",__source:{fileName:gI,lineNumber:61},__self:this},vs.a.createElement("span",{className:"NobleReminder-close",onClick:function onClick(){return e.closeNobleReminder()},__source:{fileName:gI,lineNumber:62},__self:this}),vs.a.createElement("div",{className:"NobleReminder-con",__source:{fileName:gI,lineNumber:63},__self:this},vs.a.createElement("h3",{className:"NobleReminder-title",__source:{fileName:gI,lineNumber:64},__self:this},"\u53d1\u5f39\u5e55\u5f88\u7d2f\uff1f\u8fde\u9ea6\u4e92\u52a8\u4e00\u4e0b"),vs.a.createElement("p",{className:"NobleReminder-txt",__source:{fileName:gI,lineNumber:65},__self:this},"\u8fde\u9ea6\u2014\u8d35\u65cf\u4e13\u5c5e\u7279\u6743"),vs.a.createElement("div",{className:"NobleReminder-btn",onClick:function onClick(){return e.openNobleBuyModal()},title:"\u5f00\u901a\u8d35\u65cf",__source:{fileName:gI,lineNumber:66},__self:this},"\u5f00\u901a\u8d35\u65cf")))),document.body):"",a=t?Nv.a.createPortal(vs.a.createElement("div",{className:"NobleReminder NobleReminder--gift",__source:{fileName:gI,lineNumber:74},__self:this},vs.a.createElement("div",{className:"NobleReminder-conWrap",__source:{fileName:gI,lineNumber:75},__self:this},vs.a.createElement("span",{className:"NobleReminder-close",onClick:function onClick(){return e.closeNobleReminder()},__source:{fileName:gI,lineNumber:76},__self:this},"\xd7"),vs.a.createElement("div",{className:"NobleReminder-con",__source:{fileName:gI,lineNumber:77},__self:this},vs.a.createElement("h3",{className:"NobleReminder-title",__source:{fileName:gI,lineNumber:78},__self:this},"\u60a8\u8fd8\u4e0d\u662f\u8d35\u65cf\u7528\u6237"),vs.a.createElement("p",{className:"NobleReminder-txt",__source:{fileName:gI,lineNumber:79},__self:this},"\u8d35\u65cf\u793c\u7269-\u4f60\u7684\u8d35\u65cf\u4e13\u5c5e\u7279\u6743"),vs.a.createElement("div",{className:"NobleReminder-btn",onClick:function onClick(){return e.openNobleBuyModal()},title:"\u5f00\u901a\u8d35\u65cf",__source:{fileName:gI,lineNumber:80},__self:this},"\u5f00\u901a\u8d35\u65cf")))),document.getElementById("js-player-toolbar")):"",o=t?Nv.a.createPortal(vs.a.createElement("div",{__source:{fileName:gI,lineNumber:88},__self:this},vs.a.createElement("div",{className:"NobleReminder-mask",__source:{fileName:gI,lineNumber:89},__self:this}),vs.a.createElement("div",{className:"NobleReminder NobleReminder--boardcast",__source:{fileName:gI,lineNumber:90},__self:this},vs.a.createElement("div",{className:"NobleReminder-conWrap",__source:{fileName:gI,lineNumber:91},__self:this},vs.a.createElement("span",{className:"NobleReminder-close",onClick:function onClick(){return e.closeNobleReminder()},__source:{fileName:gI,lineNumber:92},__self:this},"\xd7"),vs.a.createElement("div",{className:"NobleReminder-con",__source:{fileName:gI,lineNumber:93},__self:this},vs.a.createElement("h3",{className:"NobleReminder-title",__source:{fileName:gI,lineNumber:94},__self:this},"\u627f\u5305\u6574\u4e2a\u533a\uff0c\u5927\u58f0\u8bf4\u51fa\u7231"),vs.a.createElement("p",{className:"NobleReminder-txt",__source:{fileName:gI,lineNumber:95},__self:this},"\u5206\u533a\u5587\u53ed--\u4f2f\u7235\u4ee5\u4e0a\u8d35\u65cf\u4e13\u5c5e\u7279\u6743"),vs.a.createElement("div",{className:"NobleReminder-btn",onClick:function onClick(){return e.openNobleBuyModal()},title:"\u5f00\u901a\u8d35\u65cf",__source:{fileName:gI,lineNumber:96},__self:this},"\u5f00\u901a\u8d35\u65cf"))))),document.body):"";switch(+r){case 0:return i;case 1:return n;case 2:return a;case 3:return o;default:return null}},NobleReminder}(vs.a.Component),bI=NobleReminder_applyDecoratedDescriptor(dI.prototype,"nobleReminderService",[uI],{enumerable:!0,initializer:null}),mI=NobleReminder_applyDecoratedDescriptor(dI.prototype,"nobleBuyModalServices",[pI],{enumerable:!0,initializer:null}),fI=dI))||fI),DI=Object(dv.connect)(function mapStateToProps(e){return{openNobleReminder:e.openNobleReminder,nobleReminderType:e.updateNobleReminderType.nobleReminderType}})(wI),EI="/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/TreasureGee.js";function TreasureGee_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}function TreasureGee_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TreasureGee_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}function TreasureGee_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var kI=n.a.Service,RI=n.a.StoreFactory,jI=(yI=(0,n.a.Store)(RI),_I=kI(vn.a),SI=function(e){function TreasureGee(){!function TreasureGee_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureGee);var t=function TreasureGee_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return TreasureGee_initDefineProp(t,"store",NI,t),TreasureGee_initDefineProp(t,"treasureService",CI,t),t.state={hideGee:!1},t.timerRunning=!0,t.timer=null,t.geeFn=null,t}return TreasureGee_inherits(TreasureGee,e),TreasureGee.prototype.toggleGeeTips=function toggleGeeTips(){this.setState({hideGee:!0}),this.changePanelsStatus(0)},TreasureGee.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){(e.treasureDrawResult||{}).isShowGee&&this.setState({hideGee:!1})},TreasureGee.prototype.componentDidUpdate=function componentDidUpdate(){var e=this,t=(this.props.treasureDrawResult||{}).data||{},r=t.geetest||{};Object.keys(t).length?(1===t.validate||-2===parseInt(t.code,10))&&0===parseInt(r.code,10)?(this.geeFn?"function"===typeof this.geeFn.refresh&&this.geeFn.refresh():this.geeFn=Object(Nu.a)({geeInitParams:{isNeedCheck:!1,data:JSON.parse(r.validate_str)},geeOptions:{id:"TreasureGee-captcha",area:".treasure-captcha-gt"},success:function success(t){e.treasureService.drawTreasure(t,"check")},error:function error(){e.treasureService.showDrawTips(t),e.treasureService.cancelTreasure()}}),this.changePanelsStatus(1)):(this.treasureService.showDrawTips(t),this.treasureService.cancelTreasure(),this.setState({hideGee:!1})):this.geeFn&&this.geeFn.destroy&&(this.geeFn.destroy(),this.geeFn=null)},TreasureGee.prototype.changePanelsStatus=function changePanelsStatus(e){this.treasureService.changePanelsStatus(e)},TreasureGee.prototype.render=function render(){var e=(this.props.treasureDrawResult||{}).data||{},t=!0;return Object.keys(e).length&&!this.state.hideGee||(t=!1),vs.a.createElement("div",{className:"TreasureGee "+(t?"":"is-hide"),__source:{fileName:EI,lineNumber:116},__self:this},vs.a.createElement("span",{className:"TreasureGee-switch",onClick:this.toggleGeeTips.bind(this),__source:{fileName:EI,lineNumber:117},__self:this},"\xd7"),vs.a.createElement("span",{className:"TreasureGee-icon",__source:{fileName:EI,lineNumber:118},__self:this}),vs.a.createElement("p",{className:"TreasureGeeTitle",__source:{fileName:EI,lineNumber:119},__self:this},vs.a.createElement("span",{className:"TreasureGeeTitle-cff6700",__source:{fileName:EI,lineNumber:120},__self:this},"\u9a8c\u8bc1\u901a\u8fc7"),"\u540e\u53ef\u4ee5\u83b7\u5f97\u5b9d\u7bb1\u793c\u7269"),vs.a.createElement("div",{className:"TreasureGee-area",id:"TreasureGee-captcha",__source:{fileName:EI,lineNumber:122},__self:this},vs.a.createElement("div",{className:"treasure-captcha-gt",__source:{fileName:EI,lineNumber:123},__self:this})),vs.a.createElement("span",{className:"TreasureGee-arrow1",__source:{fileName:EI,lineNumber:125},__self:this}),vs.a.createElement("span",{className:"TreasureGee-arrow2",__source:{fileName:EI,lineNumber:126},__self:this}))},TreasureGee}(vs.a.Component),NI=TreasureGee_applyDecoratedDescriptor(SI.prototype,"store",[yI],{enumerable:!0,initializer:null}),CI=TreasureGee_applyDecoratedDescriptor(SI.prototype,"treasureService",[_I],{enumerable:!0,initializer:null}),SI);jI.propTypes={treasureDrawResult:fv.a.any};var PI=Object(dv.connect)(function mapStateToProps(e){return{treasureDrawResult:e.treasureDrawResult}})(jI),TI="/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/TreasureInfo.js";function TreasureInfo_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TreasureInfo_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var BI,MI,LI,zI=function(e){function TreasureInfo(){!function TreasureInfo_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureInfo);var t=function TreasureInfo_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return t.state={isShow:0},t.timerRunning=!0,t.timer=null,t}return TreasureInfo_inherits(TreasureInfo,e),TreasureInfo.prototype.render=function render(){var e=this,t=this.props.resource,r=t.source,i=t.isShowTips,n=t.isFinish;return r.length&&r[0]?vs.a.createElement("div",{className:"TreasureTips "+(i?"is-show":""),__source:{fileName:TI,lineNumber:25},__self:this},vs.a.createElement("img",{className:"TreasureTips-avatar",src:r[0].senderAvatar,__source:{fileName:TI,lineNumber:26},__self:this}),vs.a.createElement("div",{className:"TreasureInfo",__source:{fileName:TI,lineNumber:27},__self:this},vs.a.createElement("p",{className:"TreasureInfo-name",__source:{fileName:TI,lineNumber:28},__self:this},r[0].senderName),n?r[0].finishDesc.map(function(t,r){return vs.a.createElement("p",{className:"TreasureInfo-desc",key:r,__source:{fileName:TI,lineNumber:34},__self:e},t)}):r[0].readyDesc.map(function(t,r){return vs.a.createElement("p",{className:"TreasureInfo-desc",key:r,__source:{fileName:TI,lineNumber:41},__self:e},t)})),vs.a.createElement("i",{className:"TreasureTips-arrow",__source:{fileName:TI,lineNumber:46},__self:this})):null},TreasureInfo}(vs.a.Component),AI="/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/TreasureDetail.js";function TreasureDetail_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TreasureDetail_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var II,FI,xI,GI=(BI=(0,n.a.Service)(vn.a),MI=function(e){function TreasureDetail(){!function TreasureDetail_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureDetail);var t=function TreasureDetail_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function TreasureDetail_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"treasureService",LI,t),t.state={curPosition:650,loadingWidth:0,statusText:"loading...",isShowTips:!1,isFinish:!1,isBindPanelsShow:!1,isLoading:!0},t.resetAllConfig(),t}return TreasureDetail_inherits(TreasureDetail,e),TreasureDetail.prototype.resetAllConfig=function resetAllConfig(){this.config={startWidth:0,endWidth:1,startPosition:0,endPosition:484,isPollTimerRun:!1,isCanDraw:!1,countDownTimer:null,isLoading:!1,isGeeShow:!1,isExecuteNobind:!1,isMouseDown:0,isMouseUp:0}},TreasureDetail.prototype.resetLoadingStatus=function resetLoadingStatus(){var e=this.config;this.setState({loadingWidth:0,statusText:"loading...",isFinish:!1,isLoading:!0}),Object.assign(this.config,{isCanDraw:!1}),clearTimeout(e.countDownTimer)},TreasureDetail.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.config,r=e.treasureData||{},i=r.isDestory||!1;r.isBanUser&&1===r.isBanUser&&this.props.treasureData.data&&this.props.treasureData.data.length&&this.treasureService.showDrawFailTips(),r.bindStatus&&!t.isExecuteNobind&&(t.isExecuteNobind=!0,this.setState({isBindPanelsShow:!0})),t.isPollTimerRun&&i&&this.checkLoadingView()},TreasureDetail.prototype.runMapData=function runMapData(){var e=(this.props.treasureData||{}).type,t=this.config;this.setState({isShowTips:!1}),"Establish"===e?(this.setState({curPosition:t.startPosition}),this.dropDownView()):"Entrance"===e&&(this.setState({curPosition:t.endPosition}),this.checkLoadingView())},TreasureDetail.prototype.dropDownView=function dropDownView(){var e=this,t=null,r=this.config;t=setTimeout(function(){var i=r.startPosition;clearTimeout(t),(i=e.state.curPosition+60)>=r.endPosition&&(i=r.endPosition),e.setState({curPosition:i}),i<r.endPosition?e.dropDownView():e.checkLoadingView()},40)},TreasureDetail.prototype.checkLoadingView=function checkLoadingView(){var e=(this.props.treasureData.data||[])[0]||{};this.resetLoadingStatus(),Object.keys(e).length?this.loadingView():this.rejectUselessData()},TreasureDetail.prototype.loadingView=function loadingView(){var e=this,t=null,r=((this.props.treasureData.data||[])[0]||{}).delayTime||3,i=this.config;i.isLoading=!0,t=setTimeout(function(){var n=i.startWidth;clearTimeout(t),(n=e.state.loadingWidth+.1/r)>1&&(n=1),n<i.endWidth?(e.setState({loadingWidth:n,isLoading:!0}),e.loadingView()):(e.setState({loadingWidth:n}),i.isLoading=!1,e.countDownView())},40)},TreasureDetail.prototype.countDownView=function countDownView(){var e=this,t=this.props.treasureData.data||[],r=this.config;r.countDownTimer=null,r.countDownTimer=setTimeout(function(){clearTimeout(r.countDownTimer);var i=t[0]||{},n=parseInt((new Date).getTime()/1e3,10),a=parseInt(i.surplusTime-n,10),o=parseInt(i.destroyTime-n,10);return!r.isLoading&&(o>0?(a>0?(e.setState({statusText:yo.a.formatSecond(a,"m:s"),isFinish:!1,isLoading:!1}),r.isCanDraw=!1):(e.setState({statusText:"\u9886\u53d6",isFinish:!0,isLoading:!1}),r.isCanDraw=!0),e.countDownView()):e.rejectUselessData(),!0)},1e3)},TreasureDetail.prototype.rejectUselessData=function rejectUselessData(){var e=this.props.treasureData.data||[],t=this.config;e&&e.length?this.treasureService.cancelTreasure():(this.setState({curPosition:t.startPosition}),this.resetAllConfig())},TreasureDetail.prototype.drawTreaure=function drawTreaure(){var e=this.config.isCanDraw,t=this.config,r=(this.props.treasureData.data||[])[0];t.isMouseDown=1,t.isMouseUp=1;return this.props.treasureData.bindStatus||0?(this.setState({isBindPanelsShow:!0}),!1):!(!t.isMouseDown||!t.isMouseUp)&&(t.isMouseDown=0,t.isMouseUp=0,e&&r&&this.treasureService.drawTreasure(r,"init"),!0)},TreasureDetail.prototype.toggleUserInfo=function toggleUserInfo(e){var t=this.props.treasureData.bindStatus||0,r=this.props.treasureData.isGeePanelsShow||0,i=e;t&&(i=!1),r&&(i=!1),this.setState({isShowTips:i})},TreasureDetail.prototype.hideNobindPanels=function hideNobindPanels(){this.setState({isBindPanelsShow:!1})},TreasureDetail.prototype.render=function render(){var e=this,t=this.state,r=this.props.treasureData.data||[],i=this.config,n=this.props.treasureData.bindStatus||0;return r.length?(i.isPollTimerRun||setTimeout(function(){i.isPollTimerRun=!0,e.runMapData()},20),vs.a.createElement("div",{className:"TreasureDetail",onMouseEnter:function onMouseEnter(){return e.toggleUserInfo(1)},onMouseLeave:function onMouseLeave(){return e.toggleUserInfo(0)},onMouseDown:function onMouseDown(){return e.config.isMouseDown=1},onMouseUp:function onMouseUp(){return e.config.isMouseUp=1},style:{top:this.state.curPosition+"px"},__source:{fileName:AI,lineNumber:315},__self:this},vs.a.createElement(zI,{resource:{source:r,isShowTips:t.isShowTips,isFinish:t.isFinish},__source:{fileName:AI,lineNumber:324},__self:this}),vs.a.createElement("div",{className:"BindPanels "+(t.isBindPanelsShow?"is-show":""),__source:{fileName:AI,lineNumber:329},__self:this},vs.a.createElement("span",{className:"BindPanels-close BindPanels-colf76300",onClick:function onClick(){return e.hideNobindPanels()},__source:{fileName:AI,lineNumber:330},__self:this}),vs.a.createElement("div",{className:"BindPanels-desc",__source:{fileName:AI,lineNumber:331},__self:this},"\u7ed1\u5b9a",vs.a.createElement("span",{className:"BindPanels-colf76300",__source:{fileName:AI,lineNumber:332},__self:this},"\u624b\u673a"),"\u540e\uff0c\u624d\u53ef\u4ee5\u9886\u53d6\u5b9d\u7bb1\u91cc\u7684\u9c7c\u4e38\u54e6\uff01"),vs.a.createElement("div",{className:"BindPanels-link",__source:{fileName:AI,lineNumber:334},__self:this},vs.a.createElement("a",{href:"/member/cp/cpBindPhone",className:"BindPanels-colf76300",__source:{fileName:AI,lineNumber:334},__self:this},"\u7acb\u5373\u7ed1\u5b9a"))),vs.a.createElement("div",{className:"Treasure "+(t.isFinish?"is-finish":"is-ready")+" "+(t.isLoading?"is-loading":""),style:{backgroundImage:"url("+(t.isFinish?r[0].treasureOpenBg:r[0].treasureCloseBg)+")"},onClick:this.drawTreaure.bind(this),__source:{fileName:AI,lineNumber:336},__self:this},r.length>1?vs.a.createElement("div",{className:"TreasureNum",__source:{fileName:AI,lineNumber:344},__self:this},vs.a.createElement("i",{className:"TreasureNum-rate",__source:{fileName:AI,lineNumber:345},__self:this},"x"),vs.a.createElement("span",{className:"TreasureNum-val",__source:{fileName:AI,lineNumber:346},__self:this},r.length),vs.a.createElement("i",{className:"TreasureNum-arrow",__source:{fileName:AI,lineNumber:347},__self:this})):"",vs.a.createElement("div",{className:"TreasureStatus "+(t.isFinish?"is-open":"")+" "+(n?"is-noBind":"")+" "+(t.isLoading?"is-loading":""),__source:{fileName:AI,lineNumber:352},__self:this},vs.a.createElement("div",{className:"TreasureStatus-bg "+(t.isFinish?"is-open":""),style:{width:100*this.state.loadingWidth+"%"},__source:{fileName:AI,lineNumber:353},__self:this}),vs.a.createElement("div",{className:"TreasureStatus-text "+(t.isLoading?"is-loading":""),__source:{fileName:AI,lineNumber:356},__self:this},this.state.statusText))))):null},TreasureDetail}(vs.a.Component),LI=function TreasureDetail_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(MI.prototype,"treasureService",[BI],{enumerable:!0,initializer:null}),MI),UI=Object(dv.connect)(function mapStateToProps(e){return{treasureData:e.treasureData}})(GI),HI="/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/Treasure.js";function Treasure_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function Treasure_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var WI,VI=(II=(0,n.a.Service)(vn.a),FI=function(e){function Treasure(){!function Treasure_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Treasure);var t=function Treasure_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function Treasure_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"treasureService",xI,t),t.state={isGeePanelsShow:!1},t}return Treasure_inherits(Treasure,e),Treasure.prototype.componentDidMount=function componentDidMount(){this.treasureService.initSocket()},Treasure.prototype.render=function render(){return vs.a.createElement("div",{className:"TreasureWrap",__source:{fileName:HI,lineNumber:25},__self:this},vs.a.createElement(PI,{__source:{fileName:HI,lineNumber:26},__self:this}),vs.a.createElement(UI,{__source:{fileName:HI,lineNumber:27},__self:this}))},Treasure}(vs.a.Component),xI=function Treasure_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(FI.prototype,"treasureService",[II],{enumerable:!0,initializer:null}),FI);r("9fa56");function components_Treasure_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function components_Treasure_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var $I,KI,qI,QI=Object(f.ErrorHandler)(vs.a.createElement("div",{__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/index.js",lineNumber:6},__self:void 0}))(WI=function(e){function Index(){return function components_Treasure_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index),function components_Treasure_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.apply(this,arguments))}return components_Treasure_inherits(Index,e),Index.prototype.render=function render(){return vs.a.createElement(VI,{__source:{fileName:"/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/index.js",lineNumber:10},__self:this})},Index}(vs.a.Component))||WI,JI="/shark/live/src/pages/roomPage/playerAsideModule/components/Treasure/TreasureLuckyTips.js";function TreasureLuckyTips_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function TreasureLuckyTips_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var YI=($I=(0,n.a.Service)(vn.a),KI=function(e){function TreasureLuckyTips(){!function TreasureLuckyTips_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TreasureLuckyTips);var t=function TreasureLuckyTips_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this));return function TreasureLuckyTips_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(t,"treasureService",qI,t),t.timer=null,t.state={data:{}},t}return TreasureLuckyTips_inherits(TreasureLuckyTips,e),TreasureLuckyTips.prototype.reset=function reset(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){e.treasureService.destoryTips()},5e3)},TreasureLuckyTips.prototype.render=function render(){var e=this.props.treasureLuckyTips;return Object.keys(e).length?(this.reset(),vs.a.createElement("div",{className:"TreasureLuckyTips",__source:{fileName:JI,lineNumber:37},__self:this},e.isBestLucky?vs.a.createElement("div",{className:"TreasureLuckyDesc",__source:{fileName:JI,lineNumber:40},__self:this},vs.a.createElement("div",{className:"TreasureLuckyDesc-bestIcon",__source:{fileName:JI,lineNumber:41},__self:this}),"\u606d\u559c",vs.a.createElement("span",{className:"TreasureLuckyDesc-name",__source:{fileName:JI,lineNumber:42},__self:this},e.drawName),"\u9886\u53d6\u4e86",vs.a.createElement("span",{className:"TreasureLuckyDesc-name",__source:{fileName:JI,lineNumber:43},__self:this},e.senderName),"\u6d3e\u9001\u7684\u5b9d\u7bb1\uff01\u83b7\u5f97",vs.a.createElement("span",{className:"TreasureLuckyDesc-detail",__source:{fileName:JI,lineNumber:44},__self:this},e.goldNum,"\u9c7c\u4e38"),"\uff0c\u6210\u4e3a\u672c\u573a\u624b\u6c14\u738b\uff01"):vs.a.createElement("div",{className:"TreasureLuckyDesc",__source:{fileName:JI,lineNumber:47},__self:this},"\u606d\u559c",vs.a.createElement("span",{className:"TreasureLuckyDesc-name",__source:{fileName:JI,lineNumber:48},__self:this},e.drawName),"\u9886\u53d6\u4e86",vs.a.createElement("span",{className:"TreasureLuckyDesc-name",__source:{fileName:JI,lineNumber:49},__self:this},e.senderName),"\u6d3e\u9001\u7684\u5b9d\u7bb1\u89e6\u53d1",vs.a.createElement("span",{className:"TreasureLuckyDesc-detail",__source:{fileName:JI,lineNumber:50},__self:this},"\u66b4\u51fb",e.luckRate>1?"X"+e.luckRate:""),"\u83b7\u5f97",vs.a.createElement("span",{className:"TreasureLuckyDesc-detail",__source:{fileName:JI,lineNumber:55},__self:this},e.goldNum,"\u9c7c\u4e38")))):null},TreasureLuckyTips}(vs.a.Component),qI=function TreasureLuckyTips_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(KI.prototype,"treasureService",[$I],{enumerable:!0,initializer:null}),KI);YI.propTypes={treasureLuckyTips:fv.a.any};var XI,ZI,eF,tF=Object(dv.connect)(function mapStateToProps(e){return{treasureLuckyTips:e.treasureLuckyTips}})(YI),rF="/shark/live/src/pages/roomPage/playerAsideModule/components/PlayerAside/PlayerAside.js";function PlayerAside_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function PlayerAside_inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function PlayerAside_defaults(e,t){for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var n=r[i],a=Object.getOwnPropertyDescriptor(t,n);a&&a.configurable&&void 0===e[n]&&Object.defineProperty(e,n,a)}return e}(e,t))}var iF=n.a.Region,nF=(XI=(0,n.a.Service)(Gc.a),ZI=function(e){function PlayerAside(){var t,r;!function PlayerAside_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PlayerAside);for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=r=PlayerAside_possibleConstructorReturn(this,e.call.apply(e,[this].concat(n))),function PlayerAside_initDefineProp(e,t,r,i){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(i):void 0})}(r,"userRoleService",eF,r),PlayerAside_possibleConstructorReturn(r,t)}return PlayerAside_inherits(PlayerAside,e),PlayerAside.prototype.componentWillMount=function componentWillMount(){this.userRoleService.init()},PlayerAside.prototype.render=function render(){return vs.a.createElement("div",{__source:{fileName:rF,lineNumber:35},__self:this},vs.a.createElement("div",{className:"layout-Player-asideMainTop",__source:{fileName:rF,lineNumber:36},__self:this},vs.a.createElement(DI,{__source:{fileName:rF,lineNumber:37},__self:this}),vs.a.createElement("div",{className:"layout-Player-rankAll",__source:{fileName:rF,lineNumber:38},__self:this},vs.a.createElement($A,{__source:{fileName:rF,lineNumber:39},__self:this}),vs.a.createElement(vI,{__source:{fileName:rF,lineNumber:40},__self:this})),vs.a.createElement("div",{className:"layout-Player-rank",__source:{fileName:rF,lineNumber:42},__self:this},vs.a.createElement(lE,{__source:{fileName:rF,lineNumber:43},__self:this})),vs.a.createElement("div",{className:"layout-Player-barrage",id:"js-player-barrage",__source:{fileName:rF,lineNumber:45},__self:this},vs.a.createElement(SC,{__source:{fileName:rF,lineNumber:46},__self:this})),vs.a.createElement("div",{className:"layout-Player-effect",__source:{fileName:rF,lineNumber:48},__self:this},vs.a.createElement(tF,{__source:{fileName:rF,lineNumber:49},__self:this}),vs.a.createElement(QI,{__source:{fileName:rF,lineNumber:50},__self:this}),vs.a.createElement(bA,{__source:{fileName:rF,lineNumber:51},__self:this}),vs.a.createElement(wA,{__source:{fileName:rF,lineNumber:52},__self:this}))),vs.a.createElement("div",{className:"layout-Player-chat",__source:{fileName:rF,lineNumber:55},__self:this},vs.a.createElement(eL,{__source:{fileName:rF,lineNumber:56},__self:this})),vs.a.createElement("div",{className:"layout-Player-userCard",__source:{fileName:rF,lineNumber:58},__self:this},vs.a.createElement(iF,{name:"userCard",belongTo:"PlayerAsideApp",__source:{fileName:rF,lineNumber:59},__self:this})))},PlayerAside}(vs.a.Component),eF=function PlayerAside_applyDecoratedDescriptor(e,t,r,i,n){var a={};return Object.keys(i).forEach(function(e){a[e]=i[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce(function(r,i){return i(e,t,r)||r},a),n&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(n):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}(ZI.prototype,"userRoleService",[XI],{enumerable:!0,initializer:null}),ZI),aF=n.a.StoreFactory,oF=new(n.a.createApp({name:"PlayerAsideApp",providers:[{name:"component",useFactory:function useFactory(){return nF}},{name:"store",useFactory:function useFactory(){return aF.getInstance(window.__INITIAL_STATE__,ms,Sa)}}]}));window.PlayerAsideApp=oF,oF.push=function(e){return oF.registerApp.apply(oF,e)},n.a.render(oF,document.getElementById("js-player-asideMain"))},c913b:function(e,t,r){},ca62f:function(e,t,r){},caefb:function(e,t,r){},cc667:function(e,t,r){},cdf7a:function(e,t,r){},d2686:function(e,t,r){},d2e0b:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/bg5_00dcccd.png"},d4c57:function(e,t,r){},d5fe8:function(e,t){e.exports=vendord6ff842a56ae26fd2100},db9ed:function(e,t,r){},dd665:function(e,t,r){},e1f27:function(e,t,r){},e4ba7:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/images/tab_256f1db.png"},e4e1c:function(e,t,r){},ee4ef:function(e,t,r){},f2f3e:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/swf/swf6_8efb6a0.swf"},f42ba:function(e,t,r){},f664f:function(e,t,r){},fcf3d:function(e,t,r){},fd9ca:function(e,t,r){},feee3:function(e,t){e.exports="https://sta-op.douyucdn.cn/front-publish/live-master/assets/media/video5_59ca10b.mp4"}},[[6,0,1]]]);
//# sourceMappingURL=http://fedci.dz11.com:4567/room/online/sourcemaps/playerAside_e286d0c.js.map